<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - 06-03 Brains</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/introduction/features"><img src="/animancer/images/features.png" height="20px" width="20px" style="left:-7px"> Features</a></li>
        <li><a href="/animancer/docs/download"><img src="/animancer/images/download.png" height="20px" width="20px" style="left:-7px"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/docs.png" height="20px" width="7.5px" style="left:-5px"> Documentation</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/help.png" height="20px" width="10.625px" style="left:-4px"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/api.png" height="20px" width="18.125px" style="left:-3px"> API v7.3</a></li>
        <li><a href="https://kybernetik.com.au"><img src="/animancer/images/kybernetik.png" height="20px" width="20px" style="left:-2px"> Other Assets</a></li>

<li style="width:100%">
<form class="search-form" name="search" action="/animancer/search">
<span><input class="search-input" id="search" name="q" type="text" placeholder="Search..."></span>
<div class="search-button"><button type="submit"><i class="fa fa-search"></i></button></div>
</form>
</li> 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#controls">Controls</a></p>
<p><a href="#overview">Overview</a></p>
<p><a href="#why-brains">Why Brains?</a></p>
<p><a href="#parameters">Parameters</a></p>
<p><a href="#moving-character-brain">Moving Character Brain</a></p>
<p><a href="#move-state">Move State</a></p>
<p><a href="#root-motion">Root Motion</a></p>
<p><a href="#conclusion">Conclusion</a></p>
<p><a href="#what-next">What Next?</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/simplicity">Simplicity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/transparency">Transparency</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/adaptability">Adaptability</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/clarity">Clarity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/safety">Safety</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/reliability">Reliability</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison">Comparison</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/weapon-animations">Weapon Animations</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/conversion">Conversion</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li><a href="/animancer/docs/introduction/cs">C# in Unity</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/quick-play">01-01 Quick Play</a></li>
                <li><a href="/animancer/docs/examples/basics/movement">01-02 Basic Movement</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics/action">01-03 Basic Action</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/action/holding">Holding a Pistol</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/basics/transitions">01-04 Transitions</a></li>
                <li><a href="/animancer/docs/examples/basics/character">01-05 Basic Character</a></li>
                <li><a href="/animancer/docs/examples/basics/scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/examples/basics/input">Input</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/named-animations">02-01 Named Animations</a></li>
                <li><a href="/animancer/docs/examples/fine-control/speed-and-time">02-02 Speed and Time</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02-03 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/update-rate">02-04 Update Rate</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">02-05 Solo Animation</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/root-motion">03-01 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03-02 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">03-03 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basics">04-01 Directional Basics</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character">04-02 Directional Character</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/events/footsteps">05-01 Footstep Events</a></li>
                <li><a href="/animancer/docs/examples/events/golf">05-02 Golf Events</a></li>
                <li><a href="/animancer/docs/examples/events/utilities">05-03 Event Utilities</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fsm/characters">06-01 Characters</a></li>
                <li><a href="/animancer/docs/examples/fsm/interruptions">06-02 Interruptions</a></li>
                <li class="selected"><a href="/animancer/docs/examples/fsm/brains">06-03 Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/weapons">06-04 Weapons</a></li>
                <li><a href="/animancer/docs/examples/fsm/platformer">Platformer Game Kit</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/layers">07 Layers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/layers/basic">07-01 Basic Layers</a></li>
                <li><a href="/animancer/docs/examples/layers/dynamic">07-02 Dynamic Layers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/ik">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/ik/puppet">08-01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/ik/uneven-ground">08-02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/basics">09-01 Hybrid Basics</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/character">09-02 Hybrid Character</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">09-03 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/jobs">10 Animation Jobs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/jobs/two-bone-ik">10-01 Two Bone IK</a></li>
                <li><a href="/animancer/docs/examples/jobs/damping">10-02 Damping</a></li>
                <li><a href="/animancer/docs/examples/jobs/lean">10-03 Lean</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/integration">Integration</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/integration/animation-rigging">Animation Rigging</a></li>
                <li><a href="/animancer/docs/examples/integration/dynamic-bone">Dynamic Bone</a></li>
                <li><a href="/animancer/docs/examples/integration/final-ik">Final IK</a></li>
                <li><a href="/animancer/docs/examples/integration/hairibar-ragdoll">Hairibar Ragdoll</a></li>
                <li><a href="/animancer/docs/examples/integration/lod">Level of Detail (LOD)</a></li>
                <li><a href="/animancer/docs/examples/integration/odin-inspector">Odin Inspector</a></li>
                <li><a href="/animancer/docs/examples/integration/puppet-master">Puppet Master</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/no-video-tutorials">No Video Tutorials</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>
                <li><a href="/animancer/docs/manual/getting/animation-window">Animation Window</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/edit-mode">Playing in Edit Mode</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>
                <li><a href="/animancer/docs/manual/transitions/assets">Transition Assets</a></li>
                <li><a href="/animancer/docs/manual/transitions/previews">Transition Previews</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending/fading">Fading</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading/modes">Fade Modes</a></li>
                <li><a href="/animancer/docs/manual/blending/fading/custom">Custom Fading</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers">Mixers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events/animancer">Animancer Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animancer/usage">Usage</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/behaviour">Behaviour</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/shared">Shared Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/garbage">Garbage Collection</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/ultevents">UltEvents</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/events/end">End Events</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/fsm">Finite State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/fsm/overview">Overview</a></li>
                <li><a href="/animancer/docs/manual/fsm/state-types">1. State Types</a></li>
                <li><a href="/animancer/docs/manual/fsm/initialization">2. Initialization</a></li>
                <li><a href="/animancer/docs/manual/fsm/changing-states">3. Changing States</a></li>
                <li><a href="/animancer/docs/manual/fsm/keys">Keys</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/fsm/utilities">Utilities</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/fsm/utilities/input-buffer">Input Buffers</a></li>
                <li><a href="/animancer/docs/manual/fsm/utilities/state-selector">State Selectors</a></li>
                <li><a href="/animancer/docs/manual/fsm/utilities/owned-states">Owned States</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a></li>
                <li><a href="/animancer/docs/manual/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/tools">Animancer Tools</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/tools/pack-textures">Pack Textures</a></li>
                <li><a href="/animancer/docs/manual/tools/modify-sprites">Modify Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/rename-sprites">Rename Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/generate-sprite-animations">Generate Sprite Animations</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-sprite-animation">Remap Sprite Animation</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-animation-bindings">Remap Animation Bindings</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/other">Other Features</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/other/animation-clip-inspector">Animation Clip Inspector</a></li>
                <li><a href="/animancer/docs/manual/other/polymorphic">Polymorphic Drawer</a></li>
                <li><a href="/animancer/docs/manual/other/sprite-renderer-texture-swap">Sprite Renderer Texture Swap</a></li>
                <li><a href="/animancer/docs/manual/other/units">Units Attributes</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/events">Animation Events</a></li>
                <li><a href="/animancer/docs/bugs/animator-controller-speed">Animator Controller Speed</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/reorderable-array-height">Reorderable Array Height</a></li>
                <li><a href="/animancer/docs/bugs/serialized-array-initialization">Serialized Array Initialization</a></li>
                <li><a href="/animancer/docs/bugs/stabilize-feet">Stabilize Feet</a></li>
                <li><a href="/animancer/docs/bugs/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/bugs/timing">Timing</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v7-3">Animancer v7.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-2">Animancer v7.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-1">Animancer v7.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-0">Animancer v7.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v6-1">Animancer v6.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v6-0">Animancer v6.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v5-3">Animancer v5.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-2">Animancer v5.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-1">Animancer v5.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/help">Help and FAQ</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/help/debugging">Debugging</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>06-03 Brains</h1>
		</section>
	<section class="content">
		<blockquote class="blockquote">
<p><i class="emw fa fa-folder"></i> <strong>Location</strong>: <em><span class="mini">Assets/Plugins/Animancer/</span>Examples/06 State Machines/03 Brains</em></p>
<p><i class="emw fa fa-code-fork"></i> <strong>Recommended After</strong>: <a href="../characters">Characters</a> and <a href="../../locomotion/linear-blending">Linear Blending</a></p>
<p><i class="emw fa fa-puzzle-piece"></i> <strong>Learning Outcomes</strong>: <span class="mini">in this example you will learn:</span></p>
<p><i class="emw fa fa-lightbulb-o"></i> How to separate inputs from actions and why doing so is useful.</p>
<p><i class="emw fa fa-lightbulb-o"></i> How to effectively organize other parts of a character's logic beyond their state machine.</p>
<p><i class="emw fa fa-lightbulb-o"></i> How to make a character turn in the direction they want to move.</p>
</blockquote>
<img src="brains.png" class="pngif img-responsive img-right">
<p>This example expands upon the <a href="../characters">Characters</a> example to allow the character to walk and run around the scene. It goes into further detail about why it's useful to manage input using a "brain" script and introduces several possible ways of communicating between the brain and the character's other scripts.</p>
<h1 id="controls">Controls</h1>
<ul>
<li>WASD = Move</li>
<li>Left Shift = Run</li>
<li>Left Click = Shoot</li>
</ul>
<h1 id="overview">Overview</h1>
<p>The general code structure of the <a href="../characters">Characters</a> example can still be seen here, but there are some notable changes and additions:</p>
<table class="table">
<thead>
<tr>
<th>Change</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CapsuleCollider</code> and <code>Rigidbody</code></td>
<td>Allows the character to move around the scene without going through walls.</td>
</tr>
<tr>
<td><code>CharacterParameters</code></td>
<td>Used for communicating between the brain and other components. The <code>Character</code> component always had this field, but it wasn't used in earlier examples.</td>
</tr>
<tr>
<td><code><a href="/animancer/api/Animancer.Examples.StateMachines/RootMotionRedirect">RootMotionRedirect</a></code></td>
<td>Takes the root motion from animations which would normally be applied to the character model and applies it to the <code>Rigidbody</code> instead.</td>
</tr>
<tr>
<td><code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code></td>
<td>Replaces the second <code>IdleState</code> from earlier examples. It contains logic for walking, running, and turning based on the <code>CharacterParameters</code>.</td>
</tr>
<tr>
<td><code><a href="/animancer/api/Animancer.Examples.StateMachines/MovingCharacterBrain">MovingCharacterBrain</a></code></td>
<td>Replaces the <code>SimpleCharacterBrain</code> from earlier examples as the script that controls the character's actions based on user input.</td>
</tr>
</tbody>
</table>
<p><img src="architecture.png" class="img-responsive" id="architecture"></p>
<p></p><details><summary>Click here to show the code structure from the <a href="../characters">Characters</a> example:</summary>
<p><img src="../characters/architecture.png" class="img-responsive"></p>
</details><p></p>
<p>The additions from the <a href="../interruptions">Interruptions</a> example aren't included in this example because they aren't relevant to the topics discussed here and would only add unnecessary complexity to the scene. But those components would still work if you wanted to add them (a <code><a href="/animancer/api/Animancer.Examples.StateMachines/HealthPool">HealthPool</a></code> and <code>FlinchState</code> for the character, and <code><a href="/animancer/api/Animancer.Examples.FineControl/ClickToInteract">ClickToInteract</a></code> somewhere else in the scene).</p>
<h1 id="why-brains">Why Brains?</h1>
<p>Consider the steps that are involved in getting a character to perform an action:</p>
<ol>
<li>Detect that the Left Mouse Button was pressed.</li>
<li>Check if the character was already doing something else that would prevent them from performing the action.</li>
<li>Play the action animation.</li>
</ol>
<p>Only step 1 of that process is relevant to determining what the character <em>wants to do</em> (or in this case, what the player wants them to do) so that's the only part that goes in the brain. When it detects the button press it tells the character to attempt the action and leaves the remaining steps up to the other systems.</p>
<p>This <a href="https://en.wikipedia.org/wiki/Separation_of_concerns">Separation of Concerns</a> means that each type of state only needs to be implemented once and will then be usable by any kind of character, whether it be the player, or an NPC. This also makes it easy to change the way a character is controlled without affecting the way any of their actions actually work, either by modifying the brain or by assigning a different brain.</p>
<p>The term "Brain" was chosen because it accurately describes its purpose, which is to control the behaviour of a <code>Character</code>. But feel free to use other terminology that suits you such as "Character Input".</p>
<h1 id="parameters">Parameters</h1>
<p>Earlier examples had the brain <code>SimpleCharacterBrain</code> telling the <code>StateMachine</code> when to enter a particular state, but in this example the <code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code> also needs to know which direction the brain wants to move and whether it wants to run or not. You could put those parameters in the brain or in the <code>Character</code>, but for the sake of effective <a href="https://en.wikipedia.org/wiki/Separation_of_concerns">Separation of Concerns</a> this example has a dedicated <code>CharacterParameters</code> class.</p>
<p><img src="parameter-inspector.png" class="pngif img-responsive"></p>
<p>This class doesn't really need to be serializable since it's only set at runtime, but making it serializable means it can easily show the current parameter values in the Inspector which can be very helpful for debugging.</p>
<pre><code class="language-cs">[Serializable]
public sealed class CharacterParameters
{
</code></pre>
<p>The <code>MovementDirection</code> is a <code>Vector3</code> indicating which way the character wants to move. If the brain wants to move slowly we can allow a small vector to be assigned, but we don't want to allow the brain to make the character move faster by just setting a larger vector so we use <code>Vector3.ClampMagnitude</code> to limit the magnitude of the assigned value to 1:</p>
<pre><code class="language-cs">    [SerializeField]
    private Vector3 _MovementDirection;
    public Vector3 MovementDirection
    {
        get =&gt; _MovementDirection;
        set =&gt; _MovementDirection = Vector3.ClampMagnitude(value, 1);
    }
</code></pre>
<p><code>WantsToRun</code> doesn't need any special validation but we still want it to have a field with the <code>[SerializeField]</code> attribute so we use a <code>ref</code> property which allows the value to be get and set without needing to write the actual <code>get</code> and <code>set</code> methods:</p>
<pre><code class="language-cs">    [SerializeField]
    private bool _WantsToRun;
    public ref bool WantsToRun =&gt; ref _WantsToRun;
}
</code></pre>
<h2 id="parameters-field">Parameters Field</h2>
<p>The <code>CharacterParameters</code> is used as a serialized field in the <code>Character</code> class:</p>
<pre><code class="language-cs">class Character
{
    ...
    
    [SerializeField]
    private CharacterParameters _Parameters;
    public CharacterParameters Parameters =&gt; _Parameters;
}
</code></pre>
<p><img src="../characters/character-inspector.png" class="img-responsive"></p>
<h1 id="moving-character-brain">Moving Character Brain</h1>
<p>With the parameters defined, we're now ready to make a brain to control them. This new brain class is identical to <code>SimpleCharacterBrain</code> from the <a href="../characters">Characters</a> example, except for the <code>UpdateMovement</code> method:</p>
<pre><code class="language-cs">public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines/MovingCharacterBrain">MovingCharacterBrain</a> : MonoBehaviour
{
    [SerializeField] private Character _Character;
    [SerializeField] private CharacterState _Move;
    [SerializeField] private CharacterState _Action;

    private void Update()
    {
        UpdateMovement();
        UpdateAction();
    }

    private void UpdateMovement()
    {
        // This method is different and will be explained below.
    }

    private void UpdateAction()
    {
        if (ExampleInput.LeftMouseUp)
            _Character.StateMachine.TryResetState(_Action);
    }
}
</code></pre>
<p></p><details><summary><code>SimpleCharacterBrain</code> and <code><a href="/animancer/api/Animancer.Examples.StateMachines/MovingCharacterBrain">MovingCharacterBrain</a></code> were implemented as completely separate scripts to avoid confusion, but with a few changes they could utilise <a href="/cs-unity/docs/introduction/inheritance">Inheritance</a> to avoid needing to repeat so much of the same code:</summary>
<ol>
<li>Remove the <code>sealed</code> keyword from <code>SimpleCharacterBrain</code> so it can be inherited.</li>
<li>Change the <code>UpdateMovement</code> method in <code>SimpleCharacterBrain</code> from <code>private</code> to <code>protected virtual</code> so it can be overridden.</li>
<li>Change the <code>_Move</code> method in <code>SimpleCharacterBrain</code> from <code>private</code> to <code>protected</code> so it can be accessed in an inheriting class.</li>
<li>Change the <code>UpdateMovement</code> method in <code><a href="/animancer/api/Animancer.Examples.StateMachines/MovingCharacterBrain">MovingCharacterBrain</a></code> from <code>private</code> to <code>protected override</code> so it replaces the method in the base class (<code>SimpleCharacterBrain</code>).</li>
<li>Remove everything else from <code><a href="/animancer/api/Animancer.Examples.StateMachines/MovingCharacterBrain">MovingCharacterBrain</a></code> because it's all inherited from the base class now.</li>
</ol>
</details><p></p>
<p>Where the <code>SimpleCharacterBrain.UpdateMovement</code> method only had to try to enter the <em>Move</em> or <em>Idle</em> state, this one also needs to set the <code>MovementDirection</code> and <code>WantsToRun</code> parameters.</p>
<p>First, it checks if the input is not zero:</p>
<pre><code class="language-cs">private void UpdateMovement()
{
    var input = ExampleInput.WASD;
    if (input != default)
    {
</code></pre>
<p>It needs to take the user's screen-space <code>WASD</code> input and convert that into a world-space vector to set the <code>MovementDirection</code>. It's important to do this conversion here in the brain because this is where code that's specific to player input is supposed to go. It wouldn't make sense to do it in <code>CharacterParameters</code> or <code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code> because those classes are supposed to be usable by any character and this conversion is only relevant to the player.</p>
<p>First, it gets the camera's forward and right vectors and flatten them onto the XZ plane:</p>
<pre><code class="language-cs">        var camera = Camera.main.transform;

        var forward = camera.forward;
        forward.y = 0;
        forward.Normalize();

        var right = camera.right;
        right.y = 0;
        right.Normalize();
</code></pre>
<p>Then it can build the movement vector by multiplying the input values by those axes:</p>
<pre><code class="language-cs">        _Character.Parameters.MovementDirection =
            right * input.x +
            forward * input.y;
</code></pre>
<p>And it still needs to try to enter the movement state:</p>
<pre><code class="language-cs">        _Character.StateMachine.TrySetState(_Move);
    }
</code></pre>
<p>If the player isn't trying to move, clear the movement vector and return to idle:</p>
<pre><code class="language-cs">    else
    {
        _Character.Parameters.MovementDirection = default;
        _Character.StateMachine.TrySetDefaultState();
    }
</code></pre>
<p>And finally, indicate whether the character wants to run or not:</p>
<pre><code class="language-cs">    _Character.Parameters.WantsToRun = ExampleInput.LeftShiftHold;
}
</code></pre>
<p></p><details><summary>Why is the <code>_Move</code> field a base <code>CharacterState</code> instead of the more specific <code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code>?</summary>
<p>You might be wondering why the brain uses:</p>
<pre><code class="language-cs">[SerializeField] private CharacterState _Move;
</code></pre>
<p>Instead of:</p>
<pre><code class="language-cs">[SerializeField] private <a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a> _Move;
</code></pre>
<p>It's because nothing in the brain actually cares what specific type of state it is, as long as it inherits from <code>CharacterState</code> to be usable in the <code>Character</code>'s <code>StateMachine</code>.</p>
<p>In the <a href="../weapons">Weapons</a> example, the brain needs to set the <code>NextWeapon</code> before entering the <code><a href="/animancer/api/Animancer.Examples.StateMachines/EquipState">EquipState</a></code> so that brain has an actual <code><a href="/animancer/api/Animancer.Examples.StateMachines/EquipState">EquipState</a></code> field.</p>
<p>But this example isn't doing that so the field might as well be as unrestrictive as possible which means you could potentially use the same control logic on a different type of state without needing to modify this brain.</p>
</details><p></p>
<h1 id="move-state">Move State</h1>
<p></p><details><summary>Where the earlier examples simply used an <code>IdleState</code> with a movement animation assigned, this time we have a proper <code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code> which is responsible for <a href="#walking-and-running">Walking and Running</a> as well as <a href="#turning">Turning</a>:</summary>
<pre><code class="language-cs">public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a> : CharacterState
{
    [SerializeField, DegreesPerSecond] private float _TurnSpeed = 360;
    [SerializeField] private float _ParameterFadeSpeed = 2;
    [SerializeField] private <a href="/animancer/api/Animancer/LinearMixerTransition">LinearMixerTransition</a> _Animation;

    private void OnEnable()
    {
        Character.Animancer.Play(_Animation);
        _Animation.State.Parameter = Character.Parameters.WantsToRun ? 1 : 0;
    }

    private void Update()
    {
        UpdateSpeed();
        UpdateTurning();
    }

    private void UpdateSpeed()
    {
        var target = Character.Parameters.WantsToRun ? 1 : 0;
        _Animation.State.Parameter = Mathf.MoveTowards(
            _Animation.State.Parameter,
            target,
            _ParameterFadeSpeed * Time.deltaTime);
    }

    private void UpdateTurning()
    {
        var movement = Character.Parameters.MovementDirection;
        if (movement == default)
            return;

        var targetAngle = Mathf.Atan2(movement.x, movement.z) * Mathf.Rad2Deg;

        var turnDelta = _TurnSpeed * Time.deltaTime;

        var transform = Character.Animancer.transform;
        var eulerAngles = transform.eulerAngles;
        eulerAngles.y = Mathf.MoveTowardsAngle(eulerAngles.y, targetAngle, turnDelta);
        transform.eulerAngles = eulerAngles;
    }
}
</code></pre>
</details><p></p>
<h2 id="walking-and-running">Walking and Running</h2>
<p><code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code> is responsible for both walking and running. Two animation states managed by one logical state because they both behave the same way. This could be implemented by simply giving it two <code><a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a></code> fields, but then whenever it changes between them it would need to synchronize their times to avoid going from one part of the walk animation to a completely different part of the run animation. That problem is explained further in the <a href="../../../manual/blending/mixers#synchronization">Mixer Synchronization</a> section and that's also the solution, because mixers already have inbuilt synchronization so this state can just use a linear mixer:</p>
<pre><code class="language-cs">public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a> : CharacterState
{
    [SerializeField] private <a href="/animancer/api/Animancer/LinearMixerTransition">LinearMixerTransition</a> _Animation;
</code></pre>
<p>That mixer is set up with two animations:</p>
<ul>
<li><em>Humanoid-Walk</em> at threshold <code>0</code>.</li>
<li><em>Humanoid-Run</em> at threshold <code>1</code>.</li>
</ul>
<p><img src="move-inspector.png" class="img-responsive"></p>
<p>When this state is entered, it plays the mixer and sets the mixer parameter based on the character' parameters:</p>
<pre><code class="language-cs">    private void OnEnable()
    {
        Character.Animancer.Play(_Animation);
        _Animation.State.Parameter = Character.Parameters.WantsToRun ? 1 : 0;
    }
</code></pre>
<p>The above assignment uses a <em>Conditional Expression</em>: if <code>WantsToRun</code> is true, it will set the parameter to <code>1</code>, otherwise it will set it to <code>0</code>.</p>
<p>While this state is active, every frame it will need to update the mixer based on the input parameter and also turn the character towards the direction they're moving:</p>
<pre><code class="language-cs">    private void Update()
    {
        UpdateSpeed();
        UpdateTurning();
    }
</code></pre>
<p>Mixer parameters immediately jump to the value they are given rather than moving gradually, which would cause the character to snap between walking and running poses without any blending. That might be what you want, but otherwise the <a href="../../../manual/blending/mixers#smoothing">Mixer Smoothing</a> section explains how you can interpolate the value yourself. In this case, the target value could change at any time so we use <code>Mathf.MoveTowards</code> to continually move a set distance towards it every frame:</p>
<pre><code class="language-cs">    [SerializeField] private float _ParameterFadeSpeed = 2;

    private void UpdateSpeed()
    {
        var target = Character.Parameters.WantsToRun ? 1 : 0;
        _Animation.State.Parameter = Mathf.MoveTowards(
            _Animation.State.Parameter,
            target,
            _ParameterFadeSpeed * Time.deltaTime);
    }
</code></pre>
<p>Note that this example moves the character around using <a href="#root-motion">Root Motion</a> so this state doesn't do any actual moving. If you don't want to use <a href="#root-motion">Root Motion</a>, you could give the <code>Character</code> a reference to their <code>Rigidbody</code> (or whatever character controller system you are using) and control it in this state as well.</p>
<h2 id="turning">Turning</h2>
<p>Some games use additional animations to make the turning look more natural (such as leaning over if you turn while running) or the <a href="../../animator-controllers/3d-game-kit/locomotion/turning">Quick Turn</a> animations used in the <a href="../../animator-controllers/3d-game-kit">3D Game Kit</a> example, but for this example we are just going to rotate the model around the Y axis.</p>
<p>So the <code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code> script has a field to determine how fast it can turn (<a href="../../../manual/other/units">measured in degrees per second</a>):</p>
<pre><code class="language-cs">    [SerializeField, DegreesPerSecond] private float _TurnSpeed = 360;
</code></pre>
<p>Firstly, it needs to make sure it actually has a <code>MovementDirection</code>, because it wouldn't know which way to turn if it somehow ended up in this state without the brain setting the direction:</p>
<pre><code class="language-cs">    private void UpdateTurning()
    {
        var movement = Character.Parameters.MovementDirection;
        if (movement == default)
            return;
</code></pre>
<p>Then it determines the angle it wants to turn towards:</p>
<pre><code class="language-cs">        var targetAngle = Mathf.Atan2(movement.x, movement.z) * Mathf.Rad2Deg;
</code></pre>
<p>Without going into the maths behind it, <code>Mathf.Atan2</code> gives the angle of a vector in radians. So the state just feeds in the <code>x</code> and <code>z</code> values to get the angle around the <code>y</code> axis, then converts the result to degrees because <code>Transform.eulerAngles</code> uses degrees.</p>
<p>Then it calculate how far to rotate this frame:</p>
<pre><code class="language-cs">        var turnDelta = _TurnSpeed * Time.deltaTime;
</code></pre>
<p>Then it gets the <code>Transform.eulerAngles</code>, moves the <code>y</code> value towards the target angle, and applies those angles back to the <code>Transform</code>:</p>
<pre><code class="language-cs">        var transform = Character.Animancer.transform;
        var eulerAngles = transform.eulerAngles;
        eulerAngles.y = Mathf.MoveTowardsAngle(eulerAngles.y, targetAngle, turnDelta);
        transform.eulerAngles = eulerAngles;
    }
}
</code></pre>
<p>It rotates the <em>DefaultHumanoid</em> model independently from the root <em>Character</em> object because the <em>Character</em> has a <code>CapsuleCollider</code> and <code>Rigidbody</code> on it. The capsule is only a vague approximation of the character's shape anyway, so there's no need for the rotation to have any interaction with the physics system.</p>
<h1 id="root-motion">Root Motion</h1>
<p>This example uses root motion to move the character. Since the model (with the <code>Animator</code> and <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code>) is a child of the character's root (with the <code>CapsuleCollider</code>, <code>Rigidbody</code>, and <code>Character</code>) the root motion would normally be applied only to the model so it would move independently of the character's physics. That's obviously undesirable so the <code><a href="/animancer/api/Animancer.Examples.StateMachines/RootMotionRedirect">RootMotionRedirect</a></code> script uses the <a href="../../locomotion/root-motion#redirecting-root-motion">Redirecting Root Motion technique introduced in the Root Motion example</a> to apply it to the parent <code>Rigidbody</code> instead.</p>
<pre><code class="language-cs">public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines/RootMotionRedirect">RootMotionRedirect</a> : MonoBehaviour
{
    [SerializeField] private Rigidbody _Rigidbody;
    [SerializeField] private Animator _Animator;

    private void OnAnimatorMove()
    {
        if (_Animator.applyRootMotion)
        {
            _Rigidbody.MovePosition(_Rigidbody.position + _Animator.deltaPosition);
            _Rigidbody.MoveRotation(_Rigidbody.rotation * _Animator.deltaRotation);
        }
    }
}
</code></pre>
<p><img src="model-inspector.png" class="img-responsive"></p>
<h1 id="conclusion">Conclusion</h1>
<p>Now we have a character who can walk, run, turn, and shoot:</p>
<p><img src="brains.png" class="pngif img-responsive"></p>
<h1 id="what-next">What Next?</h1>
<table class="table">
<thead>
<tr>
<th>Example</th>
<th>Topic</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../weapons">Weapons</a></td>
<td>Defining animations separately from the character (i.e. on weapons) and swapping between them dynamically.</td>
</tr>
<tr>
<td><a href="/platformer">Platformer Game Kit</a></td>
<td>A separate (free) package which demonstrates a much more complete character implementation for a 2D platformer game. In addition to its <a href="/platformer/docs/characters/brains/player">Player Input Brain</a> it also has a <a href="/platformer/docs/characters/brains/behaviour">Behaviour Tree Brain</a> which controls the enemies using a simple node based system.</td>
</tr>
<tr>
<td><a href="../../animator-controllers/3d-game-kit">3D Game Kit</a></td>
<td>A more complex character framework based on Unity's <a href="https://assetstore.unity.com/packages/templates/tutorials/3d-game-kit-lite-135162">3D Game Kit Lite</a>.</td>
</tr>
</tbody>
</table>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <strong><div style="text-align:left; display:flex">

<div>
<p>Documentation</p>
<p><a href="/animancer/docs/examples">Examples</a></p>
<p><a href="/animancer/docs/manual">User Manual</a></p>
<p><a href="/animancer/docs/changes">Change Log</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Download</p>
<p><a href="https://kybernetik.itch.io/animancer-pro">Itch.io (Recommended)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-pro-116514?aid=1100l8ah5">Asset Store (Animancer Pro)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516?aid=1100l8ah5">Asset Store (Animancer Lite)</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Contact</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues">Github Issues</a></p>
<p><a href="/animancer/redirect/forum">Unity Forum</a></p>
<p><a href="mailto:animancer@kybernetik.com.au?subject=Animancer">Email</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Other Assets</p>
<p><a href="/inspector-gadgets">Inspector Gadgets</a></p>
<p><a href="/weaver">Weaver</a></p>
<p><a href="/ultevents">UltEvents</a></p>
</div>

</div></strong>
<script src="/animancer/assets/js/pngif.js"></script>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>