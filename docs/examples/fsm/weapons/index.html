<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - 06 Weapons</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/introduction/features"><img src="/animancer/images/features.png" height="20px" width="20px" style="left:-7px"> Features</a></li>
        <li><a href="/animancer/docs/download"><img src="/animancer/images/download.png" height="20px" width="20px" style="left:-7px"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/docs.png" height="20px" width="7.5px" style="left:-5px"> Documentation</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/help.png" height="20px" width="10.625px" style="left:-4px"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/api.png" height="20px" width="18.125px" style="left:-3px"> API v6.1</a></li>
        <li><a href="/kailas-dierk/unity-assets"><img src="/animancer/images/kybernetik.png" height="20px" width="20px" style="left:-2px"> Other Assets</a></li>

<li style="width:100%">
<form class="search-form" name="search" action="/animancer/search">
<span><input class="search-input" id="search" name="q" type="text" placeholder="Search..."></span>
<div class="search-button"><button type="submit"><i class="fa fa-search"></i></button></div>
</form>
</li> 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#required-assets">Required Assets</a></p>
<p><a href="#attack-input">Attack Input</a></p>
<p><a href="#weapon">Weapon</a></p>
<p><a href="#equip-state">Equip State</a></p>
<p><a href="#attack-state">Attack State</a></p>
<p><a href="#root-motion-redirect">Root Motion Redirect</a></p>
<p><a href="#scene-setup">Scene Setup</a></p>
<p><a href="#final-result">Final Result</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/simplicity">Simplicity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/transparency">Transparency</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/adaptability">Adaptability</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/clarity">Clarity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/safety">Safety</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/reliability">Reliability</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison">Comparison</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/weapon-animations">Weapon Animations</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/conversion">Conversion</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/cs">C# in Unity</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/cs/overview">Scripting Overview</a></li>
                <li><a href="/animancer/docs/introduction/cs/organisation">Organisation</a></li>
                <li><a href="/animancer/docs/introduction/cs/variables">Variables</a></li>
                <li><a href="/animancer/docs/introduction/cs/methods">Methods</a></li>
                <li><a href="/animancer/docs/introduction/cs/inheritance">Inheritance</a></li>
                <li><a href="/animancer/docs/introduction/cs/vectors">Vectors</a></li>
                <li><a href="/animancer/docs/introduction/cs/other">Other Topics</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/examples/basics/quick-play">01 Quick Play</a></li>
                <li><a href="/animancer/docs/examples/basics/playing-and-fading">02 Playing and Fading</a></li>
                <li><a href="/animancer/docs/examples/basics/sequence-coroutine">03 Sequence Coroutine</a></li>
                <li><a href="/animancer/docs/examples/basics/named-animations">04 Named Animations</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/spider-bot">01 Spider Bot</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">03 Solo Animation</a></li>
                <li><a href="/animancer/docs/examples/fine-control/update-rate">04 Update Rate</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/walk-and-run">01 Walk and Run</a></li>
                <li><a href="/animancer/docs/examples/locomotion/root-motion">02 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">04 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basic-movement">01 Basic Movement</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character-controller">02 Character Controller</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/events/footsteps">01 Footstep Events</a></li>
                <li><a href="/animancer/docs/examples/events/golf">02 Golf Events</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/fsm/game-manager">01 Game Manager</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fsm/game-manager/enum">Enum</a></li>
                <li><a href="/animancer/docs/examples/fsm/game-manager/fsm">FSM</a></li>
                <li><a href="/animancer/docs/examples/fsm/game-manager/comparison">Comparison</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/fsm/creatures">02 Creatures</a></li>
                <li><a href="/animancer/docs/examples/fsm/interrupts">03 Interrupt Management</a></li>
                <li><a href="/animancer/docs/examples/fsm/brains">04 Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/more-brains">05 More Brains</a></li>
                <li class="selected"><a href="/animancer/docs/examples/fsm/weapons">06 Weapons</a></li>
                <li><a href="/animancer/docs/examples/fsm/platformer">07 Platformer</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/layers">07 Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/ik">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/ik/puppet">01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/ik/uneven-ground">02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/basics">01 Hybrid Basics</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/mini-game">02 Hybrid Mini Game</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">03 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/jobs">10 Animation Jobs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/jobs/two-bone-ik">01 Two Bone IK</a></li>
                <li><a href="/animancer/docs/examples/jobs/damping">02 Damping</a></li>
                <li><a href="/animancer/docs/examples/jobs/lean">03 Lean</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/integration">Integration</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/integration/animation-rigging">Animation Rigging</a></li>
                <li><a href="/animancer/docs/examples/integration/dynamic-bone">Dynamic Bone</a></li>
                <li><a href="/animancer/docs/examples/integration/final-ik">Final IK</a></li>
                <li><a href="/animancer/docs/examples/integration/hairibar-ragdoll">Hairibar Ragdoll</a></li>
                <li><a href="/animancer/docs/examples/integration/puppet-master">Puppet Master</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/no-video-tutorials">No Video Tutorials</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>
                <li><a href="/animancer/docs/manual/getting/animation-window">Animation Window</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading">Fading</a></li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers">Mixers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer">Animancer Events</a></li>
                <li><a href="/animancer/docs/manual/events/end">End Events</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/fsm">Finite State Machines</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a></li>
                <li><a href="/animancer/docs/manual/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/tools">Animancer Tools</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/tools/pack-textures">Pack Textures</a></li>
                <li><a href="/animancer/docs/manual/tools/modify-sprites">Modify Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/rename-sprites">Rename Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/generate-sprite-animations">Generate Sprite Animations</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-sprite-animation">Remap Sprite Animation</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-animation-bindings">Remap Animation Bindings</a></li>
                <li><a href="/animancer/docs/manual/tools/sprite-renderer-texture-swap">Sprite Renderer Texture Swap</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/events">Animation Events</a></li>
                <li><a href="/animancer/docs/bugs/rigging-ik">Animation Rigging IK</a></li>
                <li><a href="/animancer/docs/bugs/animator-controller-speed">Animator Controller Speed</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/serialized-array-initialization">Serialized Array Initialization</a></li>
                <li><a href="/animancer/docs/bugs/stabilize-feet">Stabilize Feet</a></li>
                <li><a href="/animancer/docs/bugs/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/bugs/timing">Timing</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>
                <li><a href="/animancer/docs/source/coding-standard">Coding Standard</a></li>
                <li><a href="/animancer/docs/source/default-script-template">Default Script Template</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-1">Animancer v6.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v6-0">Animancer v6.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v5-3">Animancer v5.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-2">Animancer v5.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-1">Animancer v5.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/help">Help and FAQ</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/help/debugging">Debugging</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>06 Weapons</h1>
		</section>
	<section class="content">
		<blockquote class="blockquote">
<p><strong>Difficulty</strong>: <a href="../../../introduction/glossary#example-difficulty">Intermediate</a> - Recommended after <a href="../interrupts">Interrupt Management</a> and <a href="../more-brains">More Brains</a></p>
<p><strong>Location</strong>: <em>Assets/Plugins/Animancer/Examples/06 State Machines/06 Weapons</em></p>
<p><strong>Namespace</strong>: <a href="../../../../api/Animancer.Examples.StateMachines.Weapons"><code>Animancer.Examples.StateMachines.Weapons</code></a></p>
</blockquote>
<p>This example demonstrates how you can implement a character that can move around and attack with various different weapons. It is based on a character and animations downloaded from <a href="../../../manual/getting/mixamo">Mixamo</a> which unfortunately <a href="https://community.adobe.com/t5/fuse-beta/licensing-royalties-ownership-eula-and-tos-q-a/td-p/7676380">cannot be legally redistributed in their raw source form</a>, meaning that they cannot be directly included in Animancer. So instead of providing a ready-made scene, this example explains how to download the required assets and set them up from scratch in Unity using the <a href="../more-brains">More Brains</a> example as a base.</p>
<p><img src="weapons.gif" class="img-responsive"></p>
<h1 id="required-assets">Required Assets</h1>
<h2 id="character">Character</h2>
<p>The first thing you need to decide is which character model you want to use:</p>
<ul>
<li>You can download any of the <a href="../../../manual/getting/mixamo#characters">Mixamo Characters</a>.
<ul>
<li>We are using the character called <em>Paladin J Nordstrom</em>, but you can choose any you like.</li>
<li>Once you have downloaded the character you will need to configure its <a href="../../../manual/getting/importing">Import Settings as explained here</a>, including exposing the <em>Right Hand</em> bone so that we can attach weapons to it.</li>
</ul>
</li>
<li>The <em>DefaultHumanoid</em> model included in Animancer at <em>Assets/Plugins/Animancer/Examples/Art/Default Humanoid</em> would work.</li>
<li>Or you could even use a <code>Sprite</code> based character if you have all the animations listed below.</li>
</ul>
<h2 id="animations">Animations</h2>
<p>Once you have a character, you will need to get the following animations for them:</p>
<table class="table">
<thead>
<tr>
<th>Animations</th>
<th>Import Settings</th>
</tr>
</thead>
<tbody>
<tr>
<td><p><em>Idle</em>, <em>Walk</em>, and <em>Run</em>.</p><p>If you are using a <code>Humanoid</code> Rig, the <em>Humanoid-Idle</em>, <em>Humanoid-Walk</em>, and <em>Humanoid-Run</em> animations included in Animancer will work.</p><p>The <a href="../../../manual/getting/importing">Import Settings</a> of these animations should have <code>Loop Time</code> and <code>Loop Pose</code> enabled.</p>You can disable <code>Loop Pose</code> if you want to use <a href="https://docs.unity3d.com/Manual/RootMotion.html">Root Motion</a> for the character's main movements.</td>
<td><img src="idle-import.png"></td>
</tr>
<tr>
<td><p>Several <em>Attack</em> animations for each weapon you want to implement.</p><p>We are using 3 weapons with the following <a href="../../../manual/getting/mixamo#animations">Mixamo Animations</a>:</p><ul><li><em>Unarmed</em> uses <em>Punching</em> and <em>Boxing</em> which contain one attack each.</li><li><em>Club</em> uses <em>One Hand Club Combo</em> which contains 3 attacks that we separate in Unity.</li><li><em>Great Sword</em> uses <em>Great Sword Slash</em> which contains 3 attacks that we separate in Unity.</li></ul>We want to allow the animations to move the character with <a href="https://docs.unity3d.com/Manual/RootMotion.html">Root Motion</a> but not rotate them, so we set the <code>Root Transform Rotation</code> and <code>Root Transform Position (Y)</code> to <code>Bake Into Pose</code> based on the <code>Original</code> values.</td>
<td><img src="attack-import.png"></td>
</tr>
<tr>
<td><p>Optional <em>Sheathe</em> and <em>Unsheathe</em> animations for each weapon.</p><p>We are using the following <a href="../../../manual/getting/mixamo#animations">Mixamo Animations</a>:</p><ul><li>None for <em>Unarmed</em></li><li><em>Draw Sword 2</em> for the <em>Club</em> which we play backwards to sheathe it.</li><li><em>Draw A Great Sword 2</em> and <em>Sheath A Great Sword 1</em> for the <em>Great Sword</em>.</li></ul></td>
<td>Same as above.</td>
</tr>
</tbody>
</table>
<h2 id="weapons">Weapons</h2>
<p>You will also need a model for each weapon except <em>Unarmed</em>. The <a href="../../../manual/getting">Getting Animations</a> page lists several places where you can get models or programs to create your own, but for this example we are just using primitive shapes (cubes, cylinders, and capsules). Most of the construction should be obvious at a glance except for the spiked parts which are created by <em>skewing</em> cubes:</p>
<table class="table">
<thead>
<tr>
<th>Hierarchy</th>
<th>Transform</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="hierarchy-skew.png" class="img-responsive"></td>
<td><img src="transform-skew.png" class="img-responsive"></td>
</tr>
<tr>
<td><img src="hierarchy-cube.png" class="img-responsive"></td>
<td><img src="transform-cube.png" class="img-responsive"></td>
</tr>
</tbody>
</table>
<p>By rotating the child cube 45 degrees on one axis then scaling the parent object on a different axis, the cube gets stretched diagonally so that it turns into a spike:</p>
<p><img src="club-skew.gif" class="img-responsive"></p>
<p><img src="great-sword-skew.png" class="img-responsive"></p>
<h1 id="attack-input">Attack Input</h1>
<p></p><details><summary>The <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/AttackInput">AttackInput</a></code> script would normally be part of the <code>CreatureBrain</code>, but we have implemented it separately so that we can reuse the classes from the <a href="../more-brains">More Brains</a> example and have it work with both the <code><a href="/animancer/api/Animancer.Examples.StateMachines.Brains/KeyboardBrain">KeyboardBrain</a></code> and <code><a href="/animancer/api/Animancer.Examples.StateMachines.Brains/MouseBrain">MouseBrain</a></code>:</summary><p>
</p><pre><code class="language-cs">using Animancer;
using Animancer.Examples.StateMachines.Brains;
using Animancer.FSM;
using UnityEngine;

public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/AttackInput">AttackInput</a> : MonoBehaviour
{
    [SerializeField] private CreatureState _Attack;
    [SerializeField] private float _AttackInputTimeOut = 0.5f;

    private StateMachine&lt;CreatureState&gt;.InputBuffer _InputBuffer;

    private void Awake()
    {
        _InputBuffer = new StateMachine&lt;CreatureState&gt;.InputBuffer(_Attack.Creature.StateMachine);
    }

    private void Update()
    {
        if (Input.GetButtonDown("Fire2"))// Right Click by default.
        {
            _InputBuffer.TrySetState(_Attack, _AttackInputTimeOut);
        }
        else
        {
            _InputBuffer.Update();
        }
    }
}
</code></pre>
<p></p></details><p></p>
<p>It starts with a reference to the <a href="#attack-state">Attack State</a> which is assigned in the Inspector (once we create it below):</p>
<pre><code class="language-cs">[SerializeField] private CreatureState _Attack;
</code></pre>
<p>We are also using a concept known as <em>input buffering</em> which simply means that if a button press fails to trigger the desired action, it will still be able to do so for a short time afterwards. Animancer's <a href="../../../manual/fsm#input-buffers">Finite State Machine</a> system has an <code>InputBuffer</code> class which is very easy to use. So we make a "time out" field to determine how long the buffer will last and initialise it with the <code>StateMachine</code> it will be buffering:</p>
<pre><code>[SerializeField] private float _AttackInputTimeOut = 0.5f;

private StateMachine&lt;CreatureState&gt;.InputBuffer _InputBuffer;

private void Awake()
{
    _InputBuffer = new StateMachine&lt;CreatureState&gt;.InputBuffer(_Attack.Creature.StateMachine);
}
</code></pre>
<p>Then when we detect the <em>Attack</em> button being pressed and would normally call <code>Creature.StateMachine.TrySetState(_Attack)</code> we instead call a similar method on the <code>InputBuffer</code> where we also specify the time out duration:</p>
<pre><code class="language-cs">private void Update()
{
    if (Input.GetButtonDown("Fire2"))// Right Click by default.
    {
        _InputBuffer.TrySetState(_Attack, _AttackInputTimeOut);
    }
</code></pre>
<p>And on any <code>Update</code> where we did not just attempt a new action, we update the buffer to give it another chance to retry a previously buffered action and check if it has timed out:</p>
<pre><code class="language-cs">    else
    {
        _InputBuffer.Update();
    }
}
</code></pre>
<p>You could give each attack a different time out period, but using the same 0.5 second window for every attack tends to give more consistent gameplay where the player can get a feel for when they will need to press the button.</p>
<h1 id="weapon">Weapon</h1>
<p>The <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> script is simply a component which holds the animations relating to a weapon so that it can be attached to the weapon's model in the scene:</p>
<pre><code class="language-cs">using Animancer;
using UnityEngine;

public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a> : MonoBehaviour
{
    [SerializeField]
    private ClipState.Transition[] _AttackAnimations;
    public ClipState.Transition[] AttackAnimations =&gt; _AttackAnimations;

    [SerializeField]
    private <a href="/animancer/api/Animancer/Transition">ClipState.Transition</a> _EquipAnimation;
    public <a href="/animancer/api/Animancer/Transition">ClipState.Transition</a> EquipAnimation =&gt; _EquipAnimation;

    [SerializeField]
    private <a href="/animancer/api/Animancer/Transition">ClipState.Transition</a> _UnequipAnimation;
    public <a href="/animancer/api/Animancer/Transition">ClipState.Transition</a> UnequipAnimation =&gt; _UnequipAnimation;
}
</code></pre>
<p>In a real game, this class might have other details like damage, damage type, weapon category, etc. It could also inherit from a base Item class for things like weight, cost, and description.</p>
<h1 id="equip-state">Equip State</h1>
<p></p><details><summary>The <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState">EquipState</a></code> script manages the currently equipped <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code>. It is a is a <code>CreatureState</code> so that other actions cannot be performed while it is playing the <code>EquipAnimation</code> and <code>UnequipAnimation</code> of the <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> when it is changed:</summary><p>
</p><pre><code class="language-cs">using Animancer;
using Animancer.Examples.StateMachines.Brains;
using Animancer.FSM;
using UnityEngine;

public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState">EquipState</a> : CreatureState
{
    [SerializeField] private Transform _WeaponHolder;
    [SerializeField] private <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a> _Weapon;

    private <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a> _EquippingWeapon;
    private Action _OnUnequipEnd;

    public <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a> <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a>
    {
        get =&gt; _Weapon;
        set
        {
            if (enabled)
                return;

            _EquippingWeapon = value;
            if (!Creature.StateMachine.TrySetState(this))
                _EquippingWeapon = _Weapon;
        }
    }

    private void Awake()
    {
        _EquippingWeapon = _Weapon;
        _OnUnequipEnd = OnUnequipEnd;
        AttachWeapon();
    }

    public override bool CanEnterState =&gt; _Weapon != _EquippingWeapon;

    private void OnEnable()
    {
        if (_Weapon.UnequipAnimation.IsValid)
        {
            var state = Creature.Animancer.Play(_Weapon.UnequipAnimation);
            state.Events.OnEnd = _OnUnequipEnd;
        }
        else
        {
            OnUnequipEnd();
        }
    }

    private void OnUnequipEnd()
    {
        DetachWeapon();
        _Weapon = _EquippingWeapon;
        AttachWeapon();

        if (_Weapon.EquipAnimation.IsValid)
        {
            var state = Creature.Animancer.Play(_Weapon.EquipAnimation);
            state.Events.OnEnd = Creature.ForceEnterIdleState;
        }
        else
        {
            Creature.StateMachine.ForceSetState(Creature.Idle);
        }
    }

    private void AttachWeapon()
    {
        if (_Weapon == null)
            return;

        if (_WeaponHolder != null)
        {
            var transform = _Weapon.transform;
            transform.parent = _WeaponHolder;
            transform.localPosition = Vector3.zero;
            transform.localRotation = Quaternion.identity;
            transform.localScale = Vector3.one;
        }

        _Weapon.gameObject.SetActive(true);
    }

    private void DetachWeapon()
    {
        if (_Weapon == null)
            return;

        _Weapon.transform.parent = transform;
        _Weapon.gameObject.SetActive(false);
    }

    private void FixedUpdate()
    {
        Creature.Rigidbody.velocity = Vector3.zero;
    }

    public override bool CanExitState =&gt; false;
}
</code></pre>
<p></p></details><p></p>
<p>The <em>RightHand</em> bone of a character is usually in their wrist, so instead of needing to manually offset the equipped weapon from that position we have simply created an empty <em>Weapon Holder</em> object as a child of the hand which we can attach weapons to:</p>
<p><img src="weapon-holder.png" class="img-responsive"></p>
<pre><code class="language-cs">[SerializeField] private Transform _WeaponHolder;
</code></pre>
<p>We want other scripts (the <code>AttackState</code> in this example) to be able to access the currently equipped <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> and also try to change it (normally the <code>CreatureBrain</code> would handle that, but in this example we are just using <a href="../../basics/scene-setup#buttons">UI Buttons</a>) so we have <code>private</code> fields for the current weapon and the new one we want to equip with a <code>public</code> property that tries to put the <code>Creature</code> in this state when you set it:</p>
<pre><code class="language-cs">[SerializeField] private <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a> _Weapon;

private <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a> _EquippingWeapon;

public <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a> <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a>
{
    get =&gt; _Weapon;
    set
    {
        if (enabled)
            return;

        _EquippingWeapon = value;
        if (!Creature.StateMachine.TrySetState(this))
            _EquippingWeapon = _Weapon;
    }
}

private void Awake()
{
    _EquippingWeapon = _Weapon;
    ...
}
</code></pre>
<p>We only want this state to be entered when you are actually changing to a different <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code>, so we <code>override</code> the <code>CanEnterState</code> property to enforce that restriction:</p>
<pre><code class="language-cs">public override bool CanEnterState =&gt; _Weapon != _EquippingWeapon;
</code></pre>
<p>Note that if <code>CanEnterState</code> (or the <code>CanExitState</code> property of whatever state the <code>Creature</code> is currently in) returns <code>false</code>, the <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> property simply undoes the change. This ensures that the character cannot change weapons in the middle of other actions that do not allow <a href="../interrupts">Interruptions</a> (such as attacks).</p>
<p>When the creature does actually enter this state, we want to play the <code>UnequipAnimation</code> from the previous <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> if it has one and then swap to the new weapon:</p>
<pre><code class="language-cs">private void OnEnable()
{
    if (_Weapon.UnequipAnimation.IsValid)
    {
        var state = Creature.Animancer.Play(_Weapon.UnequipAnimation);
        state.Events.OnEnd = _OnUnequipEnd;
    }
</code></pre>
<p>Or if there is no <code>UnequipAnimation</code>, we just swap to the new <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> immediately:</p>
<pre><code class="language-cs">    else
    {
        OnUnequipEnd();
    }
}
</code></pre>
<p>Directly assigning the <code>OnUnequipEnd</code> method to the <code>OnEnd</code> event would create some <a href="../../../introduction/cs/other#garbage-collection">Garbage</a> every time this state is entered, so instead we want to create a delegate from it on startup so that we can reuse the same object every time:</p>
<pre><code class="language-cs">private Action _OnUnequipEnd;

private void Awake()
{
    ...
    _OnUnequipEnd = OnUnequipEnd;
    AttachWeapon();
}
</code></pre>
<p>Once the <code>UnequipAnimation</code> ends (or is skipped because it was missing), we detach the previous <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> from the character's hand, assign and attach the new weapon, and then play the <code>EquipAnimation</code> of the new <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code>:</p>
<pre><code class="language-cs">private void OnUnequipEnd()
{
    DetachWeapon();
    _Weapon = _EquippingWeapon;
    AttachWeapon();

    if (_Weapon.EquipAnimation.IsValid)
    {
        var state = Creature.Animancer.Play(_Weapon.EquipAnimation);
        state.Events.OnEnd = Creature.ForceEnterIdleState;
    }
    else
    {
        Creature.StateMachine.ForceSetState(Creature.Idle);
    }
}

private void AttachWeapon()
{
    if (_Weapon == null)
        return;

    if (_WeaponHolder != null)
    {
        var transform = _Weapon.transform;
        transform.parent = _WeaponHolder;
        transform.localPosition = Vector3.zero;
        transform.localRotation = Quaternion.identity;
        transform.localScale = Vector3.one;
    }

    _Weapon.gameObject.SetActive(true);
}

private void DetachWeapon()
{
    if (_Weapon == null)
        return;

    _Weapon.transform.parent = transform;
    _Weapon.gameObject.SetActive(false);
}
</code></pre>
<p>And finally, we prevent anything from moving the character while in this state or <a href="../interrupts">Interrupting</a> it:</p>
<pre><code class="language-cs">private void FixedUpdate()
{
    Creature.Rigidbody.velocity = Vector3.zero;
}

public override bool CanExitState =&gt; false;
</code></pre>
<h1 id="attack-state">Attack State</h1>
<p></p><details><summary>The <code>AttackState</code> script simply plays the appropriate animations from the <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState/E4895F2F">EquipState.Weapon</a></code>:</summary><p>
</p><pre><code class="language-cs">using Animancer;
using Animancer.Examples.StateMachines.Brains;
using UnityEngine;

public sealed class AttackState : CreatureState
{
    [SerializeField] private <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState">EquipState</a> _Equipment;

    private int _AttackIndex = int.MaxValue;

    private void OnEnable()
    {
        Creature.Animancer.Animator.applyRootMotion = true;

        if (ShouldRestartCombo())
        {
            _AttackIndex = 0;
        }
        else
        {
            _AttackIndex++;
        }

        var animation = _Equipment.Weapon.AttackAnimations[_AttackIndex];
        var state = Creature.Animancer.Play(animation);
        state.Events.OnEnd = Creature.ForceEnterIdleState;
    }

    private bool ShouldRestartCombo()
    {
        var attackAnimations = _Equipment.Weapon.AttackAnimations;

        if (_AttackIndex &gt;= attackAnimations.Length - 1)
            return true;

        var state = attackAnimations[_AttackIndex].State;
        if (state == null ||
            state.Weight == 0)
            return true;

        return false;
    }

    private void FixedUpdate()
    {
        Creature.Rigidbody.velocity = Vector3.zero;
    }

    public override bool CanExitState =&gt; false;

    private void OnDisable()
    {
        Creature.Animancer.Animator.applyRootMotion = false;
    }
}
</code></pre>
<p></p></details><p></p>
<p>It starts with a <a href="../../../introduction/cs/variables#serialized-fields">Serialized</a> reference to the <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState">EquipState</a></code> to be assigned in the Inspector:</p>
<pre><code class="language-cs">[SerializeField] private <a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState">EquipState</a> _Equipment;
</code></pre>
<p>Normally that reference might go in the <code>Creature</code> class, but since that script comes from the <a href="../more-brains">More Brains</a> example we do not want to modify it.</p>
<p>It is quite common for attack animations in games to cause the character to step forwards so the first thing we do when entering this state is enable <a href="https://docs.unity3d.com/Manual/RootMotion.html">Root Motion</a> (and disable it when exiting this state):</p>
<pre><code class="language-cs">private void OnEnable()
{
    Creature.Animancer.Animator.applyRootMotion = true;
    ...
}

private void OnDisable()
{
    Creature.Animancer.Animator.applyRootMotion = false;
}
</code></pre>
<p>Since each <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> can have multiple attack animations which they perform in sequence, the next thing we need to do is determine which animation to use. Each time this state is entered we either start from the first animation or move onto the next one in the sequence:</p>
<pre><code class="language-cs">private int _AttackIndex = int.MaxValue;

private void OnEnable()
{
    ...

    if (ShouldRestartCombo())
    {
        _AttackIndex = 0;
    }
    else
    {
        _AttackIndex++;
    }

    ...
}
</code></pre>
<p>We want to restart from the first attack if we are already at the last animation or if the previous animation has not yet faded out. Otherwise we want to advance to the next attack:</p>
<pre><code class="language-cs">private bool ShouldRestartCombo()
{
    var attackAnimations = _Equipment.Weapon.AttackAnimations;

    if (_AttackIndex &gt;= attackAnimations.Length - 1)
        return true;

    var state = attackAnimations[_AttackIndex].State;
    if (state == null ||
        state.Weight == 0)
        return true;

    return false;
}
</code></pre>
<p>Once we know which attack we are up to, we can simply play its animation:</p>
<pre><code class="language-cs">private void OnEnable()
{
    ...

    var animation = _Equipment.Weapon.AttackAnimations[_AttackIndex];
    var state = Creature.Animancer.Play(animation);
    state.Events.OnEnd = Creature.ForceEnterIdleState;
}
</code></pre>
<p>And just like with the <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState">EquipState</a></code>, we do not want the character to move during this action or to allow other actions to <a href="../interrupts">Interrupt</a> it:</p>
<pre><code class="language-cs">private void FixedUpdate()
{
    Creature.Rigidbody.velocity = Vector3.zero;
}

public override bool CanExitState =&gt; false;
</code></pre>
<h1 id="root-motion-redirect">Root Motion Redirect</h1>
<p>Since the character model (the object with the <code>Animator</code> component) is separate from the root of the character (the object with the <code>Rigidbody</code> component), we are using a very simple <code>RootMotionRedirect</code> script to apply the movements from the <code>Animator</code> to the <code>Rigidbody</code> as explained in the <a href="../../locomotion/root-motion">Root Motion</a> example:</p>
<pre><code class="language-cs">using UnityEngine;

public sealed class RootMotionRedirect : MonoBehaviour
{
    [SerializeField] private Rigidbody _Rigidbody;
    [SerializeField] private Animator _Animator;

    private void OnAnimatorMove()
    {
        if (_Animator.applyRootMotion)
        {
            _Rigidbody.MovePosition(_Rigidbody.position + _Animator.deltaPosition);
            _Rigidbody.MoveRotation(_Rigidbody.rotation * _Animator.deltaRotation);
        }
    }
}
</code></pre>
<h1 id="scene-setup">Scene Setup</h1>
<p>This example is based on the <a href="../more-brains">More Brains</a> scene so the first thing you should do is create a copy of it (either using <code>Edit/Duplicate (Ctrl + D)</code> or by opening it and using <code>File/Save As...</code> to save a copy somewhere else).</p>
<h2 id="character-1">Character</h2>
<ul>
<li>If you are using a different character model from the <em>DefaultHumanoid</em> included in Animancer, delete the existing model (a child of the <em>Creature</em> object) and drag your own into the same place in the hierarchy.
<ul>
<li>Make sure the new model has its position and rotation reset to zero.</li>
<li>Add an <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> to it.</li>
<li>Select the <em>Creature</em> and assign the new model as its <code>Animancer</code> reference.</li>
</ul>
</li>
<li>Also add a <code>RootMotionRedirect</code> component to the model and assign its references.</li>
</ul>
<p><img src="model-inspector.png" class="img-responsive"></p>
<ul>
<li>If you are not using the <em>Humanoid-Idle</em>, <em>Humanoid-Walk</em>, and <em>Humanoid-Run</em> animations, assign the ones you want to use in the <code>IdleState</code> on the <em>Creature</em> and the <code>LocomotionState</code> on the <em>Brain</em>.</li>
</ul>
<table class="table">
<thead>
<tr>
<th>Idle</th>
<th>Locomotion</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="idle-state.png" class="img-responsive"></td>
<td><img src="locomotion-state.png" class="img-responsive"></td>
</tr>
</tbody>
</table>
<h2 id="weapons-1">Weapons</h2>
<p>Each of the <a href="#weapons">Weapons</a> is a model with a <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/Weapon">Weapon</a></code> script attached (except for <em>Unarmed</em> which has no model). They all start inactive (and <em>Unarmed</em> gets equipped on startup because it is assigned as the default).</p>
<p>The <em>Unarmed</em> and <em>Great Sword</em> setups are fairly obvious:</p>
<p></p><table class="table">
  <thead>
    <tr><th style="width:50%">Unarmed</th>
    <th style="width:50%">Great Sword</th>
  </tr></thead>
  <tbody>
    <tr>
      <td><p><img src="inspector-unarmed.png" class="img-responsive"></p>
<p><em>Unarmed</em> has two attacks and no <code>Equip Animation</code> or <code>Unequip Animation</code>.</p>
</td>
      <td><p><img src="inspector-great-sword.png" class="img-responsive"></p>
<p><em>Great Sword</em> has three attacks with both an <code>Equip Animation</code> and an <code>Unequip Animation</code>.</p></td>
</tr>
  </tbody>
</table>
<p>We only have a single animation called <em>Draw Sword 2</em> to use for the <em>Club</em>'s <code>Equip Animation</code>, but we can also use that same animation played backwards (<code>Speed = -1</code>) for the <code>Unequip Animation</code>.</p>
<p><img src="inspector-club.png" class="img-responsive"></p>
<h2 id="attacks">Attacks</h2>
<p>Each of the other new scripts we made in this example can be attached to the <em>Brain</em> object:</p>
<p><img src="attack-components.png" class="img-responsive"></p>
<h2 id="buttons">Buttons</h2>
<p>And finally, we can not use some <a href="../../basics/scene-setup#buttons">UI Buttons</a> to set the <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState/E4895F2F">EquipState.Weapon</a></code> when the player clicks them:</p>
<p><img src="button.png" class="img-responsive"></p>
<p>Note that if the <a href="#equip-state">Equip State</a> does not actually allow itself to be entered, the displayed text will still be changed. We could fix that by having the <code><a href="/animancer/api/Animancer.Examples.StateMachines.Weapons/EquipState">EquipState</a></code> set the text rather than doing it in the <a href="../../basics/scene-setup#buttons">UI Button</a>, but that is not really relevant to the purpose of that script so we have kept it separate for this example.</p>
<h1 id="final-result">Final Result</h1>
<p>This all combines to create a character that can do everything from the <a href="../more-brains">More Brains</a> example as well as equip different weapons and attack with them.</p>
<p><img src="weapons.gif" class="img-responsive"></p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <strong><div style="text-align:left; display:flex">

<div>
<p>Documentation</p>
<p><a href="/animancer/docs/examples">Examples</a></p>
<p><a href="/animancer/docs/manual">User Manual</a></p>
<p><a href="/animancer/docs/changes">Change Log</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Download</p>
<p><a href="https://kybernetik.itch.io/animancer-pro">Itch.io (Recommended)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-pro-116514?aid=1100l8ah5">Asset Store (Animancer Pro)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516?aid=1100l8ah5">Asset Store (Animancer Lite)</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Contact</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues">Github Issues</a></p>
<p><a href="/animancer/forum">Unity Forum</a></p>
<p><a href="mailto:animancer@kybernetik.com.au?subject=Animancer">Email</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Other Assets</p>
<p><a href="/inspector-gadgets">Inspector Gadgets</a></p>
<p><a href="/weaver">Weaver</a></p>
<p><a href="/ultevents">UltEvents</a></p>
</div>

</div></strong>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>