<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - Enum</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/introduction/features"><img src="/animancer/images/features.png" height="20px" width="20px" style="left:-7px"> Features</a></li>
        <li><a href="/animancer/docs/download"><img src="/animancer/images/download.png" height="20px" width="20px" style="left:-7px"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/docs.png" height="20px" width="7.5px" style="left:-5px"> Documentation</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/help.png" height="20px" width="10.625px" style="left:-4px"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/api.png" height="20px" width="18.125px" style="left:-3px"> API v6.1</a></li>
        <li><a href="/kailas-dierk/unity-assets"><img src="/animancer/images/kybernetik.png" height="20px" width="20px" style="left:-2px"> Other Assets</a></li>

<li style="width:100%">
<form class="search-form" name="search" action="/animancer/search">
<span><input class="search-input" id="search" name="q" type="text" placeholder="Search..."></span>
<div class="search-button"><button type="submit"><i class="fa fa-search"></i></button></div>
</form>
</li> 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#serialized-fields">Serialized Fields</a></p>
<p><a href="#state-enum">State Enum</a></p>
<p><a href="#current-state">Current State</a></p>
<p><a href="#introduction-state">Introduction State</a></p>
<p><a href="#ready-state">Ready State</a></p>
<p><a href="#action-state">Action State</a></p>
<p><a href="#fade-out-state">Fade Out State</a></p>
<p><a href="#fade-in-state">Fade In State</a></p>
<p><a href="#next">Next</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/simplicity">Simplicity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/transparency">Transparency</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/adaptability">Adaptability</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/clarity">Clarity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/safety">Safety</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/reliability">Reliability</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison">Comparison</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/weapon-animations">Weapon Animations</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/conversion">Conversion</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/cs">C# in Unity</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/cs/overview">Scripting Overview</a></li>
                <li><a href="/animancer/docs/introduction/cs/organisation">Organisation</a></li>
                <li><a href="/animancer/docs/introduction/cs/variables">Variables</a></li>
                <li><a href="/animancer/docs/introduction/cs/methods">Methods</a></li>
                <li><a href="/animancer/docs/introduction/cs/inheritance">Inheritance</a></li>
                <li><a href="/animancer/docs/introduction/cs/vectors">Vectors</a></li>
                <li><a href="/animancer/docs/introduction/cs/other">Other Topics</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/examples/basics/quick-play">01 Quick Play</a></li>
                <li><a href="/animancer/docs/examples/basics/playing-and-fading">02 Playing and Fading</a></li>
                <li><a href="/animancer/docs/examples/basics/sequence-coroutine">03 Sequence Coroutine</a></li>
                <li><a href="/animancer/docs/examples/basics/named-animations">04 Named Animations</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/spider-bot">01 Spider Bot</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">03 Solo Animation</a></li>
                <li><a href="/animancer/docs/examples/fine-control/update-rate">04 Update Rate</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/walk-and-run">01 Walk and Run</a></li>
                <li><a href="/animancer/docs/examples/locomotion/root-motion">02 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">04 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basic-movement">01 Basic Movement</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character-controller">02 Character Controller</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/events/footsteps">01 Footstep Events</a></li>
                <li><a href="/animancer/docs/examples/events/golf">02 Golf Events</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview active">
                    <a href="/animancer/docs/examples/fsm/game-manager">01 Game Manager</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="selected"><a href="/animancer/docs/examples/fsm/game-manager/enum">Enum</a></li>
                <li><a href="/animancer/docs/examples/fsm/game-manager/fsm">FSM</a></li>
                <li><a href="/animancer/docs/examples/fsm/game-manager/comparison">Comparison</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/fsm/creatures">02 Creatures</a></li>
                <li><a href="/animancer/docs/examples/fsm/interrupts">03 Interrupt Management</a></li>
                <li><a href="/animancer/docs/examples/fsm/brains">04 Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/more-brains">05 More Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/weapons">06 Weapons</a></li>
                <li><a href="/animancer/docs/examples/fsm/platformer">07 Platformer</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/layers">07 Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/ik">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/ik/puppet">01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/ik/uneven-ground">02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/basics">01 Hybrid Basics</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/mini-game">02 Hybrid Mini Game</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">03 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/jobs">10 Animation Jobs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/jobs/two-bone-ik">01 Two Bone IK</a></li>
                <li><a href="/animancer/docs/examples/jobs/damping">02 Damping</a></li>
                <li><a href="/animancer/docs/examples/jobs/lean">03 Lean</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/integration">Integration</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/integration/animation-rigging">Animation Rigging</a></li>
                <li><a href="/animancer/docs/examples/integration/dynamic-bone">Dynamic Bone</a></li>
                <li><a href="/animancer/docs/examples/integration/final-ik">Final IK</a></li>
                <li><a href="/animancer/docs/examples/integration/hairibar-ragdoll">Hairibar Ragdoll</a></li>
                <li><a href="/animancer/docs/examples/integration/puppet-master">Puppet Master</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/no-video-tutorials">No Video Tutorials</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>
                <li><a href="/animancer/docs/manual/getting/animation-window">Animation Window</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading">Fading</a></li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers">Mixers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer">Animancer Events</a></li>
                <li><a href="/animancer/docs/manual/events/end">End Events</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/fsm">Finite State Machines</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a></li>
                <li><a href="/animancer/docs/manual/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/tools">Animancer Tools</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/tools/pack-textures">Pack Textures</a></li>
                <li><a href="/animancer/docs/manual/tools/modify-sprites">Modify Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/rename-sprites">Rename Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/generate-sprite-animations">Generate Sprite Animations</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-sprite-animation">Remap Sprite Animation</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-animation-bindings">Remap Animation Bindings</a></li>
                <li><a href="/animancer/docs/manual/tools/sprite-renderer-texture-swap">Sprite Renderer Texture Swap</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/events">Animation Events</a></li>
                <li><a href="/animancer/docs/bugs/rigging-ik">Animation Rigging IK</a></li>
                <li><a href="/animancer/docs/bugs/animator-controller-speed">Animator Controller Speed</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/serialized-array-initialization">Serialized Array Initialization</a></li>
                <li><a href="/animancer/docs/bugs/stabilize-feet">Stabilize Feet</a></li>
                <li><a href="/animancer/docs/bugs/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/bugs/timing">Timing</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>
                <li><a href="/animancer/docs/source/coding-standard">Coding Standard</a></li>
                <li><a href="/animancer/docs/source/default-script-template">Default Script Template</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-1">Animancer v6.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v6-0">Animancer v6.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v5-3">Animancer v5.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-2">Animancer v5.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-1">Animancer v5.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/help">Help and FAQ</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/help/debugging">Debugging</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Enum</h1>
		</section>
	<section class="content">
		<blockquote class="blockquote">
<p>This page is part of the <a href="../">Game Manager</a> example.</p>
</blockquote>
<p></p><details><summary>The enum-based system in this example is in the <code><a href="/animancer/api/Animancer.Examples.StateMachines.GameManager/GameManagerEnum">GameManagerEnum</a></code> script:</summary><p>
</p><pre><code class="language-cs">using Animancer;
using System;
using UnityEngine;
using UnityEngine.UI;

public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines.GameManager/GameManagerEnum">GameManagerEnum</a> : MonoBehaviour
{
    [SerializeField] private Transform _Camera;
    [SerializeField] private float _IntroductionOrbitSpeed = 45;
    [SerializeField] private float _IntroductionOrbitRadius = 3;
    [SerializeField] private Vector3 _ReadyCameraPosition = new Vector3(0.25f, 1, -2);
    [SerializeField] private Vector3 _ReadyCameraRotation = Vector3.zero;
    [SerializeField] private float _CameraTurnSpeedFactor = 5;
    [SerializeField] private Text _Text;
    [SerializeField] private Image _FadeImage;
    [SerializeField] private float _FadeSpeed = 2;
    [SerializeField] private Events.GolfHitController _Golfer;
    [SerializeField] private Rigidbody _Ball;

    public enum <a href="/animancer/api/Animancer.FSM/State">State</a>
    {
        Introduction,
        Ready,
        Action,
        FadeOut,
        FadeIn,
    }

    private <a href="/animancer/api/Animancer.FSM/State">State</a> _CurrentState;

    public <a href="/animancer/api/Animancer.FSM/State">State</a> CurrentState
    {
        get =&gt; _CurrentState;
        set
        {
            _CurrentState = value;
            OnEnterState();
        }
    }

    private void Awake()
    {
        _FadeImage.gameObject.SetActive(false);
        OnEnterState();
    }

    private void OnEnterState()
    {
        switch (_CurrentState)
        {
            case State.Introduction:
                _Text.gameObject.SetActive(true);
                _Text.text = "Welcome to the Game Manager example\nClick to start playing";
                _FadeImage.gameObject.SetActive(false);
                _Golfer.EndSwing();
                break;

            case State.Ready:
                _Camera.position = _ReadyCameraPosition;
                _Camera.eulerAngles = _ReadyCameraRotation;
                _Text.gameObject.SetActive(true);
                _Text.text = "Click to hit the ball";
                _FadeImage.gameObject.SetActive(false);
                _Golfer.enabled = true;
                break;

            case State.Action:
                _Text.gameObject.SetActive(true);
                _FadeImage.gameObject.SetActive(false);
                _Golfer.enabled = false;
                break;

            case State.FadeOut:
                _Text.gameObject.SetActive(false);
                _FadeImage.gameObject.SetActive(true);
                _FadeImage.color = new Color(0, 0, 0, 0);
                break;

            case State.FadeIn:
                _Camera.position = _ReadyCameraPosition;
                _Camera.eulerAngles = _ReadyCameraRotation;
                _Text.gameObject.SetActive(false);
                _FadeImage.gameObject.SetActive(true);
                _FadeImage.color = new Color(0, 0, 0, 1);
                _Golfer.ReturnToReady();
                break;
        }
    }

    private void Update()
    {
        switch (_CurrentState)
        {
            case State.Introduction:
                var euler = _Camera.eulerAngles;
                euler.y += _IntroductionOrbitSpeed * Time.deltaTime;
                _Camera.eulerAngles = euler;

                var lookAt = _Golfer.transform.position;
                lookAt.y += 1;
                _Camera.position = lookAt - _Camera.forward * _IntroductionOrbitRadius;

                if (Input.GetMouseButtonUp(0))
                    CurrentState = State.Ready;

                break;

            case State.Ready:
                if (_Golfer.CurrentState != Events.GolfHitController.State.Ready)
                    CurrentState = State.Action;
                break;

            case State.Action:
                _Text.text = $"Wait for the ball to stop\nCurrent Speed: {_Ball.velocity.magnitude:0.00}m/s";

                var targetRotation = Quaternion.LookRotation(_Ball.position - _Camera.position);
                _Camera.rotation = Quaternion.Slerp(_Camera.rotation, targetRotation, _CameraTurnSpeedFactor * Time.deltaTime);

                if (_Golfer.CurrentState == Events.GolfHitController.State.Idle &amp;&amp;
                    _Ball.IsSleeping())
                    CurrentState = State.FadeOut;
                break;

            case State.FadeOut:
                {
                    var color = _FadeImage.color;
                    color.a = Mathf.MoveTowards(color.a, 1, _FadeSpeed * Time.deltaTime);
                    _FadeImage.color = color;

                    if (color.a == 1)
                        CurrentState = State.FadeIn;

                    break;
                }

            case State.FadeIn:
                {
                    var color = _FadeImage.color;
                    color.a = Mathf.MoveTowards(color.a, 0, _FadeSpeed * Time.deltaTime);
                    _FadeImage.color = color;

                    if (color.a == 0)
                        CurrentState = State.Ready;

                    break;
                }
        }
    }
}
</code></pre>
<p></p></details><p></p>
<p>That's quite a long script compared to most of the other examples, so let's break down its individual parts.</p>
<h1 id="serialized-fields">Serialized Fields</h1>
<p>We will mention each of the <a href="../../../../introduction/cs/variables#serialized-fields">Serialized Fields</a> again as we need them, but first let's look at them all together:</p>
<pre><code class="language-cs">[SerializeField] private Transform _Camera;
[SerializeField] private float _IntroductionOrbitSpeed = 45;
[SerializeField] private float _IntroductionOrbitRadius = 3;
[SerializeField] private Vector3 _ReadyCameraPosition = new Vector3(0.25f, 1, -2);
[SerializeField] private Vector3 _ReadyCameraRotation = Vector3.zero;
[SerializeField] private float _CameraTurnSpeedFactor = 5;
[SerializeField] private Text _Text;
[SerializeField] private Image _FadeImage;
[SerializeField] private float _FadeSpeed = 2;
[SerializeField] private Events.GolfHitController _Golfer;
[SerializeField] private Rigidbody _Ball;
</code></pre>
<p><img src="inspector.png" class="img-responsive"></p>
<p>Having everything in a single class like this means that we can't easily tell which fields are used by which states and members often need long names like <code>_IntroductionOrbitSpeed</code> to try to make it clear what they are used for. If we later wanted to rename the <code>Introduction</code> state to something like <code>Intro</code> or <code>Orbit</code>, then we would need to also rename those fields to avoid causing confusion.</p>
<h1 id="state-enum">State Enum</h1>
<p>The first thing we need for an enum-based state machine is an <code>enum</code> to define all the different states that it can be in:</p>
<pre><code class="language-cs">public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines.GameManager/GameManagerEnum">GameManagerEnum</a> : MonoBehaviour
{
    ...

    public enum <a href="/animancer/api/Animancer.FSM/State">State</a>
    {
        /// &lt;summary&gt;Camera orbiting the player, waiting for the player to click.&lt;/summary&gt;
        Introduction,

        /// &lt;summary&gt;Waiting for player input to hit the ball.&lt;/summary&gt;
        Ready,

        /// &lt;summary&gt;Waiting the the character to hit the ball and the ball to stop.&lt;/summary&gt;
        Action,

        /// &lt;summary&gt;Fading the screen to black.&lt;/summary&gt;
        FadeOut,

        /// &lt;summary&gt;Fading the screen back in after resetting the ball.&lt;/summary&gt;
        FadeIn,
    }
}
</code></pre>
<ul>
<li>Since this <code>enum</code> will only be used in conjunction with the <code><a href="/animancer/api/Animancer.Examples.StateMachines.GameManager/GameManagerEnum">GameManagerEnum</a></code> class, we declared it as a <a href="../../../../introduction/cs/organisation/#nested-types">Nested Type</a> inside that class. It is <code>public</code> so other classes could still access it using <code><a href="/animancer/api/Animancer.Examples.StateMachines.GameManager/State">GameManagerEnum.State</a></code>, but this makes it clear that the enum is specifically associated with the <code><a href="/animancer/api/Animancer.Examples.StateMachines.GameManager/GameManagerEnum">GameManagerEnum</a></code> class. Otherwise we should have given it a more descriptive name such as <code>GameManagerState</code>.</li>
<li>Putting <a href="../../../../introduction/cs/other#comments">Documentation Comments</a> on each of the <code>enum</code> values is helpful because it allows your IDE to display a description of the value when you hover over it elsewhere in your code.</li>
</ul>
<p><img src="enum-tooltip.png" class="img-responsive"></p>
<h1 id="current-state">Current State</h1>
<p>Now that we have defined all the states the game can be in (or at least some of them, you could always add more later), we can start setting them up to actually do stuff.</p>
<p>First we need a field to keep track of the state the game is currently in:</p>
<pre><code class="language-cs">private <a href="/animancer/api/Animancer.FSM/State">State</a> _CurrentState;
</code></pre>
<p>The default value for an <code>enum</code> is the first value in its declaration (unless you set a different one), so the current state will start as <code>Introduction</code>.</p>
<p>We will want to do different things when the game enters each state, so we can start with an <code>OnEnterState</code> method that uses a <code>switch</code> statement to choose which <code>case</code> to run depending on the <code>_CurrentState</code>:</p>
<pre><code class="language-cs">private void OnEnterState()
{
    switch (_CurrentState)
    {
        case State.Introduction:
            break;
        case State.Ready:
            break;
        case State.Action:
            break;
        case State.FadeOut:
            break;
        case State.FadeIn:
            break;
        default:
            break;
    }
}
</code></pre>
<p>As noted in the <a href="../../../../introduction/cs/methods#flow-control">Flow Control</a> section, Visual Studio allows you to simply type <code>switch</code> and press <code>Tab</code> twice to insert a default snippet, then put <code>_CurrentState</code> in the parenthesis and press <code>Enter</code> and it will automatically insert <code>case</code>s for every value in the <code><a href="/animancer/api/Animancer.FSM/State">State</a></code> <code>enum</code>.</p>
<p>In this case, we don't want to do anything in the <code>default</code> case so you can either leave it empty or remove it.</p>
<p>With that method defined, we will want to call it first when the scene is loaded:</p>
<pre><code class="language-cs">private void Awake()
{
    OnEnterState();
}
</code></pre>
<p>And then again any time we change the <code>_CurrentState</code>. C# doesn't have any way to automatically run code whenever you modify a <a href="../../../../introduction/cs/variables#fields">Field</a>, but it does have <a href="../../../../introduction/cs/methods#properties">Properties</a> which can be used to wrap a field:</p>
<pre><code class="language-cs">public <a href="/animancer/api/Animancer.FSM/State">State</a> CurrentState
{
    get =&gt; _CurrentState;
    set
    {
        _CurrentState = value;
        OnEnterState();
    }
}
</code></pre>
<p>This means that any time we would want to set the <code>_CurrentState</code> field, we need to instead set the <code>CurrentState</code> property.</p>
<p>We will also have an <code>Update</code> method containing a <code>switch</code> statement just like <code>OnEnterState</code>.</p>
<h1 id="introduction-state">Introduction State</h1>
<p>The first thing we want to do when the game starts and enters the <code>Introduction</code> state is show some text to tell the player what to do, so we have a <a href="../../../../introduction/cs/variables#serialized-fields">Serialized Field</a> to reference a UI <code>Text</code> component (which we assign using the Inspector) and have OnEnterState<code>set its</code>text<code>property if the current state is</code>Introduction`:</p>
<pre><code class="language-cs">[SerializeField] private Text _Text;

private void OnEnterState()
{
    switch (_CurrentState)
    {
        case State.Introduction:
            _Text.text = "Welcome to the Game Manager example\nClick to start playing";
</code></pre>
<p>The <code>\n</code> is a special character sequence. <code>\</code> is an "escape character" which indicates that the next character is special and <code>n</code> indicates a line break so that <code>Welcome to the Game Manager example</code> will be on one line and <code>Click to start playing</code> on a separate line.</p>
<p>We could have simply entered that text on the component itself in the Inspector, but most of the other states are going to be changing the text so this way we avoid having some text defined in the Inspector and some in the script. So if you want to modify some of the displayed text, you only have to look in the script.</p>
<p>We are reusing the <code><a href="/animancer/api/Animancer.Examples.Events/GolfHitControllerAnimancerHybrid">GolfHitControllerAnimancerHybrid</a></code> script from the <a href="../../../events/golf">Golf Events</a> example for the character in this game, but it was designed to start the character in their <em>Ready</em> pose as they are about to hit the ball which we don't want during the <code>Introduction</code> so we disable that component in the scene (using the checkbox in the component header next to its name):</p>
<p><img src="golf-events.png" class="img-responsive"></p>
<p>Then add another serialized field to reference it so we can call its <code>EndSwing</code> method to put the character into their <em>Idle</em> state:</p>
<pre><code class="language-cs">// <a href="/animancer/api/Animancer.Examples.Events/GolfHitControllerAnimancerHybrid">GolfHitControllerAnimancerHybrid</a> inherits from GolfHitController.
[SerializeField] private Events.GolfHitController _Golfer;

private void OnEnterState()
{
    switch (_CurrentState)
    {
        case State.Introduction:
            _Text.text = "Welcome to the Game Manager example\nClick to start playing";
            _Golfer.EndSwing();
            break;
</code></pre>
<p>Note that the <code><a href="/animancer/api/Animancer.Examples.Events/GolfHitController">GolfHitController</a></code> actually has its own enum-based state machine system with 3 states: <code>Ready</code>, <code>Swing</code>, and <code>Idle</code>. It also s normally handles its own input (waiting for a mouse click to hit the ball), but we don't actually want it to do that during our <code>Introduction</code> and it won't because we already disabled it.</p>
<p></p><details><summary>Every <code>case</code> must have a statement indicating what happens after it ends since only one section of the <code>switch</code> will execute, usually a <code>break</code>:</summary><p>
</p><p>Alternatively, you can use <code>return</code> to end the entire method, <code>throw</code> to throw an exception, or <code>goto</code> to jump to a specific label or even another <code>case</code>.</p>
<p>More specifically, you can actually have multiple <code>case</code>s in a single section and only need one ending statement for the whole section. For example, if we wanted to do the same thing in both the <code>Introduction</code> and <code>Ready</code> state we could write:</p>
<pre><code class="language-cs">private void OnEnterState()
{
    switch (_CurrentState)
    {
        case State.Introduction:
        case State.Ready:
            // Do this if the current state is Introduction or Ready.
            break;
</code></pre>
<p>The official documentation for <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/switch">C# switch statements</a> is much more detailed.</p>
<p></p></details><p></p>
<p>Now that we are actually in the <code>Introduction</code> state, we want to make the camera constantly orbit around the player so we have some serialized fields to reference the camera's <code>Transform</code> and define the orbit:</p>
<pre><code class="language-cs">[SerializeField] private Transform _Camera;
[SerializeField] private float _IntroductionOrbitSpeed = 45;
[SerializeField] private float _IntroductionOrbitRadius = 3;
</code></pre>
<p>Then an <code>Update</code> method with another <code>switch</code> based on the current state:</p>
<pre><code class="language-cs">private void Update()
{
    switch (_CurrentState)
    {
        case State.Introduction:
</code></pre>
<p>We start by simply adding to the <code>Y</code> axis of the camera's <a href="https://docs.unity3d.com/ScriptReference/Transform-eulerAngles.html">Euler Angles</a> to make it rotate. Since we want the camera speed to look consistent regardless of whether the game is currently running at a high frame rate or not, we multiply the speed by <code>Time.deltaTime</code>:</p>
<pre><code class="language-cs">            var euler = _Camera.eulerAngles;
            euler.y += _IntroductionOrbitSpeed * Time.deltaTime;
            _Camera.eulerAngles = euler;
</code></pre>
<p>If we ran the game now, the camera would just be looking around in a circle without moving rather than orbiting around a point:</p>
<p><img src="camera-turn.gif" class="img-responsive"></p>
<p>Next, we need to calculate the point in space which the camera will be orbiting around. In a real game you might have a reference to the character's hip bone or even add an extra <code>GameObject</code> to the character specifically to use as the target for the camera to look at, but for the sake of simplicity we are just using the character's position moved up 1 meter:</p>
<pre><code class="language-cs">            var lookAt = _Golfer.transform.position;
            lookAt.y += 1;
</code></pre>
<p>Then we can simply subtract the direction the camera is now pointing (<code>_Camera.forward</code>) multiplied by how far away we want it to be (<code>_IntroductionOrbitRadius</code>) from that point and set the camera to that position:</p>
<pre><code class="language-cs">            _Camera.position = lookAt - _Camera.forward * _IntroductionOrbitRadius;
</code></pre>
<p>That's good enough for this example, but for a real game you could get a lot more fancy and might consider using Unity's <a href="https://docs.unity3d.com/Packages/com.unity.cinemachine@latest/index.html">Cinemachine</a> package which is a proper system for managing camera movements and other details.</p>
<p>And finally, we check if the player clicked the mouse to move on to the <code>Ready</code> state and <code>break</code> out of this <code>switch</code> <code>case</code>:</p>
<pre><code class="language-cs">            if (Input.GetMouseButtonUp(0))
                CurrentState = State.Ready;

            break;
</code></pre>
<p>That's all for the <code>Introduction</code> state:</p>
<p><img src="introduction.gif" class="img-responsive"></p>
<h1 id="ready-state">Ready State</h1>
<p>Then entering the <code>Ready</code> state, we want to put the camera behind the character so we just add some more serialized fields and use them to set the camera's <code>position</code> and <code>eulerAngles</code>:</p>
<pre><code class="language-cs">[SerializeField] private Vector3 _ReadyCameraPosition = new Vector3(0.25f, 1, -2);
[SerializeField] private Vector3 _ReadyCameraRotation = Vector3.zero;

private void OnEnterState()
{
    switch (_CurrentState)
    {
        ...

        case State.Ready:
            _Camera.position = _ReadyCameraPosition;
            _Camera.eulerAngles = _ReadyCameraRotation;
</code></pre>
<p>The point of the serialized fields is to be able to set them using the Inspector, but for this example we know what values we want so we just assign them as defaults. That way, if you use this script on another object it will start with those values and serialize them with that object so you can edit them in the Inspector if you want to.</p>
<p>We also want to change the displayed text:</p>
<pre><code class="language-cs">            _Text.text = "Click to hit the ball";
</code></pre>
<p>And since the <code><a href="/animancer/api/Animancer.Examples.Events/GolfHitController">GolfHitController</a></code> was disabled for the <code>Introduction</code>, we now need to enable it so it can wait for a mouse click to hit the ball:</p>
<pre><code class="language-cs">            _Golfer.enabled = true;
            break;
</code></pre>
<p>With the <code><a href="/animancer/api/Animancer.Examples.Events/GolfHitController">GolfHitController</a></code> enabled and waiting for input on its own, our <code>Ready</code> state doesn't really need to do anything in <code>Update</code> except check if the character has moved out of their <code>Ready</code> state so that we can move onto the game's <code>Action</code> state:</p>
<pre><code class="language-cs">private void Update()
{
    switch (_CurrentState)
    {
        ...

        case State.Ready:
            if (_Golfer.CurrentState != Events.GolfHitController.State.Ready)
                CurrentState = State.Action;
            break;
</code></pre>
<p>And there's our <code>Ready</code> state:</p>
<p><img src="ready.png" class="img-responsive"></p>
<h1 id="action-state">Action State</h1>
<p>When entering the <code>Action</code> state and the character is starting to swing their golf club, all we need to do is disable the <code><a href="/animancer/api/Animancer.Examples.Events/GolfHitController">GolfHitController</a></code> so that it doesn't keep checking for input and doing its own thing:</p>
<pre><code class="language-cs">private void OnEnterState()
{
    switch (_CurrentState)
    {
        ...

        case State.Action:
            _Golfer.enabled = false;
            break;
</code></pre>
<p>This time we want the UI <code>_Text</code> to show the speed of the ball in real-time, so we do it in <code>Update</code> instead of <code>OnEnterState</code>:</p>
<pre><code class="language-cs">private void Update()
{
    switch (_CurrentState)
    {
        ...

        case State.Action:
            _Text.text = $"Wait for the ball to stop\nCurrent Speed: {_Ball.velocity.magnitude:0.00}m/s";
</code></pre>
<p></p><details><summary>Here is a quick explanation of what that line is doing if you are unfamiliar with <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated">String Interpolation</a>:</summary><p>
</p><p>String interpolation is a fairly recent addition to the C# language:</p>
<ul>
<li>The <code>$</code> symbol before the quotes <code>""</code> indicates that it is an <em>interpolated string</em>.</li>
<li>The first part of the string is just a regular string literal.</li>
<li>Then the <code>{</code> and <code>}</code> indicate that the code inside them needs to be evaluated and the result inserted into the string. In this case, that's the <code>_Ball.velocity.magnitude</code> (the speed the ball is moving at).</li>
<li>But that's a float which could have anywhere from 0 to 7 decimal places, which would not look very good as the number rapidly changes and pushes the rest of the text around on screen. So we follow the value with <code>:</code> and a <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings">Numeric Format String</a> to indicate how we want the number to be formatted. In this case, we use <code>0.00</code> to indicate that we want the number to always be followed by two decimal places. For example, <code>1.5</code> would show up as <code>1.50</code> and <code>3.14159265359</code> would show up as <code>3.14</code>.</li>
<li>Then the last part is another regular string literal to add <code>m/s</code> after the number (the standard units to indicate that the speed is measured in meters per second).</li>
</ul>
<p>Without string interpolation, that line would look like this:</p>
<pre><code class="language-cs">_Text.text = "Wait for the ball to stop\nCurrent Speed: " + _Ball.velocity.magnitude.ToString("0.00") + "m/s";
</code></pre>
<p>String interpolation often only saves a few characters, but in this case the difference is more notable since it avoids the need to manually call <code>ToString</code> to specify the number format.</p>
<p></p></details><p></p>
<p>After updating the text, we want to make the camera look towards the ball so that we can see where it goes after the character hits it. Immediately snapping the camera to look at the ball would be very jarring when it gets hit and whenever it bounces, so instead we have a field to determine how closely we want the camera to track it:</p>
<pre><code class="language-cs">[SerializeField] private float _CameraTurnSpeedFactor = 5;
</code></pre>
<p>Back in the <code>Update</code> method, we need to calculate the target rotation that the camera is trying to reach by getting the difference between it's position and the ball's position and passing the result into <code>Quaternion.LookRotation</code>:</p>
<pre><code class="language-cs">private void Update()
{
    switch (_CurrentState)
    {
        case State.Action:
            ...

            var targetRotation = Quaternion.LookRotation(_Ball.position - _Camera.position);
</code></pre>
<p>Then we use <a href="https://docs.unity3d.com/ScriptReference/Quaternion.Slerp.html"><code>Quaternion.Slerp</code></a> to rotate from the current <code>_Camera.rotation</code> to the <code>targetRotation</code> a small amount every frame calculated by <code>_CameraTurnSpeedFactor * Time.deltaTime</code>:</p>
<pre><code class="language-cs">            _Camera.rotation = Quaternion.Slerp(_Camera.rotation, targetRotation, _CameraTurnSpeedFactor * Time.deltaTime);
</code></pre>
<p>That gives us a gradual movement which will automatically slow down as it nears the target and speed up if the target gets further away. That's good enough for this example, but it doesn't give us any control over how quickly it starts moving or allow the camera to have any momentum to dampen sudden changes in the target value so real games will usually use more complex tracking algorithms. That's also why we called it <em>_CameraTurnSpeed<strong>Factor</strong></em> rather than just <em>_CameraTurnSpeed</em>, because it's not a constant speed but rather a multiplier.</p>
<p>The character started swinging their golf club as we entered the <code>Action</code> state, so that has still been happening while we have been rotating the camera and we just need to check if it's done (which causes the character to return to their <code>Idle</code> state):</p>
<pre><code class="language-cs">            if (_Golfer.CurrentState == Events.GolfHitController.State.Idle &amp;&amp;
</code></pre>
<p>If it is done, then we also want to check if the ball has stopped moving. We could check if the velocity is zero, but that could theoretically still happen if an update happened to occur with the ball in the air at the very top of its arc after being hit (or bouncing) directly upwards or if the ball is stationary but somehow still rotating. Those are very unlikely scenarios, but still possible and we can easily check that it has properly stopped moving using <a href="https://docs.unity3d.com/ScriptReference/Rigidbody.IsSleeping.html"><code>Rigidbody.IsSleeping</code></a>:</p>
<pre><code class="language-cs">                _Ball.IsSleeping())
</code></pre>
<p>Note that the ball's <code>Rigidbody</code> has its <code>Anguler Drag</code> set to 10 to make it stop rolling very quickly for this example, but that likely wouldn't be the case in a real game.</p>
<p>If those are both true, then we can move on to the <code>FadeOut</code> state:</p>
<pre><code class="language-cs">                CurrentState = State.FadeOut;
            break;
</code></pre>
<p>And here it is in <code>Action</code> (pun intended):</p>
<p><img src="action.gif" class="img-responsive"></p>
<h1 id="fade-out-state">Fade Out State</h1>
<p>After the ball stops, we want to fade the screen out (to black), reset everything to the <code>Ready</code> state, then fade back in. There are lots of different ways we could do that, but one of the easiest is just to set up a UI <code>Image</code> component so that it stretches across the whole screen and we can simply change its color over time:</p>
<p><img src="fade-image.png" class="img-responsive"></p>
<p>Note how the <code>Anchors</code> which define the corners of the <code>RectTransform</code> in screen-space are set to <code>Min 0</code> and <code>Max 1</code> on both <code>X</code> and <code>Y</code>, which is what causes it to fill the screen regardless of screen size.</p>
<p>So now we need one serialized field to reference that <code>Image</code> component and one to specify how fast we want the fade to occur:</p>
<pre><code class="language-cs">[SerializeField] private Image _FadeImage;
[SerializeField] private float _FadeSpeed = 2;
</code></pre>
<p>Rather than wasting rendering time on an <code>Image</code> that is fully transpacent most of the time, we should deactivate it when we don't need it. So we want it active during <code>FadeOut</code> and <code>FadeIn</code>, but inactive during all other states, but here we start to see one of the disadvantages of an enum-based system: their inflexibility that makes them harder to maintain as your requirements change throughout development.</p>
<ul>
<li>We could make an <code>OnExitState</code> method for the <code>CurrentState</code> setter to call, but that's a lot of effort just for a few <code>SetActive</code> calls. That might be worth it in a real game where there might be more things to put in that method, but not for this example.</li>
<li>We could just deactivate the <code>Image</code> when entering the <code>Ready</code> state since that's what comes after <code>FadeOut</code>, but that might not be true anymore if we add any new states. For example, we could add a <code>GameOver</code> screen later on.</li>
<li>So instead, we set the <code>_FadeImage</code> to active or inactive on entering any state and while we're at it, we can do the same for the <code>_Text</code> since we don't want to show it while fading either:</li>
</ul>
<pre><code class="language-cs">private void OnEnterState()
{
    switch (_CurrentState)
    {
        case State.Introduction:
            _Text.gameObject.SetActive(true);
            _FadeImage.gameObject.SetActive(false);
            ...

        case State.Ready:
            _Text.gameObject.SetActive(true);
            _FadeImage.gameObject.SetActive(false);
            ...

        case State.Action:
            _Text.gameObject.SetActive(true);
            _FadeImage.gameObject.SetActive(false);
            ...

        case State.FadeOut:
            _Text.gameObject.SetActive(false);
            _FadeImage.gameObject.SetActive(true);
            ...

        case State.FadeIn:
            _Text.gameObject.SetActive(false);
            _FadeImage.gameObject.SetActive(true);
            ...
    }
}
</code></pre>
<p>Repeating code like that is generally a bad programming practice, but it is quick and easy to set up, which is the main advantage of the enum-based approach in the first place.</p>
<p>When entering the <code>FadeOut</code> state, we also need to make sure that it starts fully transparent:</p>
<pre><code class="language-cs">            _FadeImage.color = new Color(0, 0, 0, 0);
</code></pre>
<p>Every <code>Update</code> in the <code>FadeOut</code> state, we move the color of the <code>_FadeImage</code> towards solid black using <code>Mathf.MoveTowards</code>:</p>
<pre><code class="language-cs">private void Update()
{
    switch (_CurrentState)
    {
        ...

        case State.FadeOut:
            {
                var color = _FadeImage.color;
                color.a = Mathf.MoveTowards(color.a, 1, _FadeSpeed * Time.deltaTime);
                _FadeImage.color = color;
</code></pre>
<p>Unlike <code>Mathf.Lerp</code> (or the <code>Quaternion.Slerp</code> we used earlier), <code>MoveTowards</code> applies a constant speed over time (if the third parameter remains constant with regard to <code>Time.deltaTime</code>). Since the <code>a</code> (alpha) value we are fading will go from 0 (fully transparent) to 1 (fully opaque) a <code>_FadeSpeed</code> of 2 will make it take 0.5 seconds to fade out.</p>
<p>After updating the fade, we just need to check if it has reached the target value to move on to the <code>FadeIn</code> state:</p>
<pre><code class="language-cs">                if (color.a == 1)
                    CurrentState = State.FadeIn;

                break;
            }
</code></pre>
<p></p><details><summary>And here's what it looks like (seizure warning, it's a very short video that flashes every time it loops):</summary><p>
<img src="fade-out.gif" class="img-responsive">
</p></details><p></p>
<h1 id="fade-in-state">Fade In State</h1>
<p>Entering the <code>FadeIn</code> state deactivates the displayed <code>_Text</code> and activating the <code>_FadeImage</code> as shown above (in case we somehow got into this state without being in <code>FadeOut</code> first, such as if we wanted to start with the screen black and fade in before the <code>Introduction</code>):</p>
<pre><code class="language-cs">private void OnEnterState()
{
    switch (_CurrentState)
    {
        ...

        case State.FadeIn:
            _Text.gameObject.SetActive(false);
            _FadeImage.gameObject.SetActive(true);
            ...
    }
}
</code></pre>
<p>We also want to reset the camera to the <code>Ready</code> position, make sure the <code>_FadeImage</code> is fully black, and return the character to their <code>Ready</code> state as well:</p>
<pre><code class="language-cs">            _Camera.position = _ReadyCameraPosition;
            _Camera.eulerAngles = _ReadyCameraRotation;
            _FadeImage.color = new Color(0, 0, 0, 1);
            _Golfer.ReturnToReady();
            break;
</code></pre>
<p>Then we can <code>Update</code> the <code>FadeIn</code> in basically the same way as we did the <code>FadeOut</code>, except that we are moving the <code>color.a</code> towards 0 instead of 1:</p>
<pre><code class="language-cs">private void Update()
{
    switch (_CurrentState)
    {
        ...

        case State.FadeIn:
            {
                var color = _FadeImage.color;
                color.a = Mathf.MoveTowards(color.a, 0, _FadeSpeed * Time.deltaTime);
                _FadeImage.color = color;

                if (color.a == 0)
                    CurrentState = State.Ready;

                break;
            }
</code></pre>
<p></p><details><summary>And that's out last state done (seizure warning, it's a very short video that flashes every time it loops):</summary><p>
<img src="fade-in.gif" class="img-responsive">
</p></details><p></p>
<p>So here's all of them together in sequence:</p>
<p><img src="../game-manager.gif" class="img-responsive"></p>
<h1 id="next">Next</h1>
<p>Now that we have gone through the implementation of the enum-based system, you can move on to the <a href="../fsm">Game Manager FSM</a> page to learn how to implement the same mechanics using Animancer's Finite Staate Machine system or skip to the <a href="../comparison">Comparison</a> page for an explanation of the differences between the two approaches.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <strong><div style="text-align:left; display:flex">

<div>
<p>Documentation</p>
<p><a href="/animancer/docs/examples">Examples</a></p>
<p><a href="/animancer/docs/manual">User Manual</a></p>
<p><a href="/animancer/docs/changes">Change Log</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Download</p>
<p><a href="https://kybernetik.itch.io/animancer-pro">Itch.io (Recommended)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-pro-116514?aid=1100l8ah5">Asset Store (Animancer Pro)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516?aid=1100l8ah5">Asset Store (Animancer Lite)</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Contact</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues">Github Issues</a></p>
<p><a href="/animancer/forum">Unity Forum</a></p>
<p><a href="mailto:animancer@kybernetik.com.au?subject=Animancer">Email</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Other Assets</p>
<p><a href="/inspector-gadgets">Inspector Gadgets</a></p>
<p><a href="/weaver">Weaver</a></p>
<p><a href="/ultevents">UltEvents</a></p>
</div>

</div></strong>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>