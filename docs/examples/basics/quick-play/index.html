<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - 01 Quick Play</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/introduction/features"><img src="/animancer/images/features.png" height="20" style="position:relative; left:-7px; top:-1px;"> Features</a></li>
        <li><a href="/animancer/docs/download"><img src="/animancer/images/download.png" height="20" style="position:relative; left:-7px; top:-1px;"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/docs.png" height="20" style="position:relative; left:-5px; top:-1px;"> Documentation</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/help.png" height="20" style="position:relative; left:-4px; top:-1px;"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/api.png" height="20" style="position:relative; left:-3px; top:-1px;"> API v5.3</a></li>
        <li><a href="https://kybernetik.com.au/kailas-dierk/unity-assets"><img src="/animancer/images/kybernetik.png" height="20" style="position:relative; left:-2px; top:-1px;"> Other Assets</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu --></nav><a href="/animancer/animancer/v6/docs/changes/animancer-v6-0" style="font-size:1.42em; color:white"><strong>Animancer v6.0 is currently available for testing.</strong></a>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#tutorial">Tutorial</a></p>
<p><a href="#new-script">New Script</a></p>
<p><a href="#idle-animation">Idle Animation</a></p>
<p><a href="#golf-club">Golf Club</a></p>
<p><a href="#swing-animation">Swing Animation</a></p>
<p><a href="#after-the-action">After the Action</a></p>
<p><a href="#smooth-transitions">Smooth Transitions</a></p>
<p><a href="#what-next">What Next?</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/weapon-animations">Weapon Animations</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/cs">C# in Unity</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/cs/overview">Scripting Overview</a></li>
                <li><a href="/animancer/docs/introduction/cs/organisation">Organisation</a></li>
                <li><a href="/animancer/docs/introduction/cs/variables">Variables</a></li>
                <li><a href="/animancer/docs/introduction/cs/methods">Methods</a></li>
                <li><a href="/animancer/docs/introduction/cs/inheritance">Inheritance</a></li>
                <li><a href="/animancer/docs/introduction/cs/vectors">Vectors</a></li>
                <li><a href="/animancer/docs/introduction/cs/other">Other Topics</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview active">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/scene-setup">Basic Scene Setup</a></li>
                <li class="selected"><a href="/animancer/docs/examples/basics/quick-play">01 Quick Play</a></li>
                <li><a href="/animancer/docs/examples/basics/playing-and-fading">02 Playing and Fading</a></li>
                <li><a href="/animancer/docs/examples/basics/sequence-coroutine">03 Sequence Coroutine</a></li>
                <li><a href="/animancer/docs/examples/basics/named-animations">04 Named Animations</a></li>
                <li><a href="/animancer/docs/examples/basics/hybrid">05 Hybrid Basics</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/spider-bot">01 Spider Bot</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">03 Solo Animation</a></li>
                <li><a href="/animancer/docs/examples/fine-control/update-rate">04 Update Rate</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/walk-and-run">01 Walk and Run</a></li>
                <li><a href="/animancer/docs/examples/locomotion/root-motion">02 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">04 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basic-movement">01 Basic Movement</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character-controller">02 Character Controller</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/events/footsteps">01 Footstep Events</a></li>
                <li><a href="/animancer/docs/examples/events/golf">02 Golf Events</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fsm/creatures">01 Creatures</a></li>
                <li><a href="/animancer/docs/examples/fsm/interrupts">02 Interrupt Management</a></li>
                <li><a href="/animancer/docs/examples/fsm/brains">03 Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/more-brains">04 More Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/weapons">05 Weapons</a></li>
                <li><a href="/animancer/docs/examples/fsm/platformer">06 Platformer</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/layers">07 Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/ik">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/ik/puppet">01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/ik/uneven-ground">02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/hybrid">01 Hybrid Mini Game</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">02 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/jobs">10 Animation Jobs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/jobs/two-bone-ik">01 Two Bone IK</a></li>
                <li><a href="/animancer/docs/examples/jobs/damping">02 Damping</a></li>
                <li><a href="/animancer/docs/examples/jobs/lean">03 Lean</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>
                <li><a href="/animancer/docs/manual/getting/sprites">Sprites</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading">Fading</a></li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers">Mixers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer">Animancer Events</a></li>
                <li><a href="/animancer/docs/manual/events/end">End Events</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/fsm">Finite State Machines</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a></li>
                <li><a href="/animancer/docs/manual/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/events">Animation Events</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/serialized-array-initialization">Serialized Array Initialization</a></li>
                <li><a href="/animancer/docs/bugs/stabilize-feet">Stabilize Feet</a></li>
                <li><a href="/animancer/docs/bugs/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/bugs/timing">Timing</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>
                <li><a href="/animancer/docs/source/coding-standard">Coding Standard</a></li>
                <li><a href="/animancer/docs/source/default-script-template">Default Script Template</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a><ul class="treeview-menu"><li><a href="/animancer/v6/docs/changes/animancer-v6-0">Animancer v6.0</a> <a href="#" class="expand"></a><ul class="treeview-menu"><li><a href="/animancer/v6/docs/changes/animancer-v6-0/test">Test Releases</a></li></ul>
                        
                <li><a href="/animancer/docs/changes/animancer-v5-3">Animancer v5.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-2">Animancer v5.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-1">Animancer v5.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/help">Help and FAQ</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/help/debugging">Debugging</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>01 Quick Play</h1>
		</section>
	<section class="content">
		<blockquote class="blockquote">
<p><strong>Difficulty</strong>: <a href="../../../introduction/glossary#example-difficulty">Beginner</a></p>
<p><strong>Location</strong>: <em>Assets/Plugins/Animancer/Examples/01 Basics/01 Quick Play</em></p>
<p><strong>Namespace</strong>: <a href="../../../../api/Animancer.Examples.Basics"><code>Animancer.Examples.Basics</code></a></p>
</blockquote>
<p>This example demonstrates how to use Animancer to implement some simple behaviour:</p>
<ol>
<li>Start with an idle animation.</li>
<li>When the user clicks the mouse, perform an action.</li>
<li>When that action is complete, return to idle.</li>
</ol>
<p>If you just want to play a single animation without any scripting, check out the <a href="../../fine-control/solo-animation">Solo Animation</a> example.</p>
<p><img src="quick-play.gif" class="img-responsive"></p>
<p>It consists of one very simple script called <code><a href="/animancer/api/Animancer.Examples.Basics/PlayAnimationOnClick">PlayAnimationOnClick</a></code>:</p>
<ul>
<li>It references an <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> instead of referencing the <code>Animator</code> like you would without Animancer. Most interactions with Animancer are done via that component.</li>
<li>It also references two <code>AnimationClip</code>s which contain the actual animation data that defines how the model will move over time.</li>
<li>These references are all <a href="../../../introduction/cs/variables#serialized-fields">Serialized Fields</a>, meaning they can be assigned using the Inspector.</li>
<li>The scene contains two copies of the same model with the same scripts attached, but different animations assigned to show how this simple script can be reused for different purposes.</li>
<li>The <a href="../../events/golf">Golf Events</a> example is an extension of this one which shows how to trigger a function at a specific time during an animation to hit a ball and also how to adjust the transition back to idle to look more natural.</li>
</ul>
<h1 id="tutorial">Tutorial</h1>
<p></p><details><summary>This tutorial takes you through a step by step process of implementing a <code><a href="/animancer/api/Animancer.Examples.Basics/PlayAnimationOnClick">PlayAnimationOnClick</a></code> script and setting up a scene to see it in action. Since this is the first example, it covers the basics more thoroughly than the rest. Click here to see the full script.</summary><p>
</p><pre><code class="language-cs">using Animancer;
using UnityEngine;

public sealed class <a href="/animancer/api/Animancer.Examples.Basics/PlayAnimationOnClick">PlayAnimationOnClick</a> : MonoBehaviour
{
    [SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
    [SerializeField] private AnimationClip _Idle;
    [SerializeField] private AnimationClip _Action;

    private void OnEnable()
    {
        _Animancer.Play(_Idle);
    }

    private void Update()
    {
        if (Input.GetMouseButtonDown(0))
        {
            var state = _Animancer.Play(_Action);
            state.Events.OnEnd = OnActionEnd;
        }
    }

    private void OnActionEnd()
    {
        _Animancer.Play(_Idle);
    }
}
</code></pre>
<p>And this is what the Inspector looks like:</p>
<p><img src="inspector.png" class="img-responsive"></p>
<p></p></details><p></p>
<p>Start by following the <a href="../scene-setup">Basic Scene Setup</a> instructions to create a new scene with the character in it.</p>
<h1 id="new-script">New Script</h1>
<p>Create a <a href="../../../introduction/cs/overview#new-scripts">New Script</a> by right clicking in the Project window and selecting <code>Create/C# Script</code>. Call it <code>PlayAnimationOnClickTutorial</code> and open it up in your <a href="../../../introduction/cs/overview#script-editors">IDE</a> (such as Visual Studio). The script included in the example is called <code><a href="/animancer/api/Animancer.Examples.Basics/PlayAnimationOnClick">PlayAnimationOnClick</a></code> so we just put <code>Tutorial</code> on the end to avoid conflicts while you make the same script from scratch. Edit the script so that it looks like this:</p>
<pre><code class="language-cs">using Animancer;
using UnityEngine;

public sealed class PlayAnimationOnClickTutorial : MonoBehaviour
{
}
</code></pre>
<ul>
<li>The <a href="../../../introduction/cs/organisation#namespaces">Namespaces</a> section explains the reason for those <code>using</code> statements.</li>
<li><code>public</code> is an <a href="../../../introduction/cs/organisation#access-modifiers">Access Modifier</a> which allows any other scripts to access this class if they want to (unlike the other modifiers).</li>
<li>The <a href="../../../introduction/cs/inheritance">Inheritance</a> page explains the reason for the <code> : MonoBehaviour</code>.</li>
<li>The script does not currently contain either of the <code>Start</code> or <code>Update</code> methods which Unity puts in new scripts by default, so instead of needing to manually remove them from every new script you might consider replacing your <a href="../../../source/default-script-template">Default Script Template</a>.</li>
<li>That page <a href="../../../source/default-script-template#why-sealed">also explains</a> why the class is marked as <a href="../../../introduction/cs/inheritance#keywords"><code>sealed</code></a>.</li>
<li>Note that because this is a <a href="../../../introduction/cs/inheritance#monobehaviours"><code>MonoBehaviour</code></a> script, Unity requires that the class name (<code>PlayAnimationOnClickTutorial</code>) must exactly match the file name (<code>PlayAnimationOnClickTutorial.cs</code>).</li>
</ul>
<h1 id="idle-animation">Idle Animation</h1>
<p>Now let's get the idle animation working.</p>
<p>The first thing the script needs is a reference to an <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> which we could get using one of two main ways:</p>
<ul>
<li>The <a href="https://docs.unity3d.com/ScriptReference/Component.GetComponent"><code>GetComponent</code></a> method would get a component of the appropriate type attached to the same <code>GameObject</code>.</li>
<li>A <a href="../../../introduction/cs/variables#serialized-fields">Serialized Field</a> would cause it to show a field in the Inspector so that we can assign an object of the appropriate type from anywhere in the scene.</li>
</ul>
<p>The <a href="../../../introduction/cs/inheritance#composition">Composition</a> section explains the differences between them in a bit more detail, including the reason why the Animancer examples favour <a href="../../../introduction/cs/variables#serialized-fields">Serialized Fields</a>.</p>
<p>So we declare a <a href="../../../introduction/cs/variables#serialized-fields">Serialized Field</a> inside the <code>class</code> like so:</p>
<pre><code class="language-cs">[SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
</code></pre>
<p>Or you can use multiple lines if you prefer:</p>
<pre><code class="language-cs">[SerializeField]
private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
</code></pre>
<p>Since <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> is in the <code>Animancer</code> <a href="../../../introduction/cs/organisation#namespaces">Namespace</a>, we either need to put <code>using Animancer;</code> at the top of the script or we need to specify the full name of the type as <code>Animancer.AnimancerComponent</code>.</p>
<p>We also need a reference to the idle animation, so let's add another field:</p>
<pre><code class="language-cs">[SerializeField] private AnimationClip _Idle;
</code></pre>
<p>Then we can just tell it to play that animation on startup using an <a href="../../../introduction/cs/"><code>OnEnable</code></a> method, which is one of the <a href="../../../introduction/cs/inheritance#monobehaviours">MonoBehaviour Messages</a> (meaning that it has that specific name so Unity will call it for us on startup):</p>
<pre><code class="language-cs">private void OnEnable()
{
    _Animancer.Play(_Idle);
}
</code></pre>
<p>See the <a href="../../../introduction/cs/methods">Methods</a> page if you are unfamiliar with the concept of methods.</p>
<p></p><details><summary>The full script now looks like this:</summary><p>
</p><pre><code class="language-cs">using Animancer;
using UnityEngine;

public sealed class PlayAnimationOnClickTutorial : MonoBehaviour
{
    [SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
    [SerializeField] private AnimationClip _Idle;
    
    private void OnEnable()
    {
        _Animancer.Play(_Idle);
    }
}
</code></pre>
<p></p></details><p></p>
<p>Let's save the script and go back to Unity to see it in action.</p>
<ol>
<li>Select your character in the Hierarchy window (the root object with the <code>Animator</code> component).</li>
<li>Make sure the <code>Apply Root Motion</code> toggle is deselected since we do not want any movement in this example.</li>
<li>Add an <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> if you didn't do so already as part of the <a href="../scene-setup">Basic Scene Setup</a>.</li>
<li>Add the <code>PlayAnimationOnClickTutorial</code> script you just created.</li>
<li>Drag and drop the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> into the <code>Animancer</code> field in that component.</li>
<li>Use the circular icon next to the <code>Idle</code> field to open the Object Picker window to find the <em>Idle</em> animation you want to use. The original example uses <em>Humanoid-GolfSwingReady</em>.</li>
</ol>
<p><img src="idle-setup.gif" class="img-responsive"></p>
<p></p><details><summary>Click here if you are wondering why some things look a little different from Unity's defaults in that video.</summary><p>
</p><p>It's because of a plugin called <a href="https://kybernetik.com.au/inspector-gadgets">Inspector Gadgets</a> (also made by <a href="https://kybernetik.com.au/kailas-dierk/unity-assets">Kybernetik</a> like Animancer).</p>
<p>It replaces the default <code>Transform</code> Inspector to add features like the <code>[C][P][S]</code> buttons on the right to <strong>C</strong>opy and <strong>P</strong>aste values between objects, and <strong>S</strong>nap them to the grid or the <code>[=]</code> button on the left which toggles the <code>Scale</code> field from a single value to the regular x/y/z vector field.</p>
<p><a href="https://kybernetik.com.au/inspector-gadgets/pro">Inspector Gadgets Pro</a> also adds <code>[H][S][A]</code> buttons to the object reference fields (on the right of the <code>PlayAnimationOnClickTutorial</code> script) while they are null to allow you to find a reference in a single click by searching the <strong>H</strong>ierarchy (parents and children of the current object), the current <strong>S</strong>cene, or all <strong>A</strong>ssets in the project. So we could have just clicked the <code>[H]</code> to get the <code>AnimancerController</code> reference from the same object instead of dragging and dropping it. Note how the <code>Idle</code> field didn't have a <code>[H]</code> button because <code>AnimationClip</code>s are assets, not scene objects.</p>
<p></p></details><p></p>
<p>Now if you press Play (the triangular button in the top center of the Unity Editor), the model will be playing the idle animation you gave it:</p>
<p><img src="idle.png" class="img-responsive"></p>
<p>Remember to exit Play Mode after you are done looking.</p>
<h1 id="golf-club">Golf Club</h1>
<p>That pose looks a bit funny without anything to hold so let's give him a golf club.</p>
<ol>
<li>Expand the character's hierarchy until you reach the <em>RightHandHolder</em> bone (an extra bone which is a child of the right hand in a good position for holding objects). Note that if you hold <code>Alt</code> when you expand or collapse something, it will do the same for all of that object's children as well.</li>
<li>Go to the <em>Assets/Plugins/Animancer/Examples/Art/Props</em> folder.</li>
<li>Drag the <em>GolfClub</em> prefab from the Project window onto the <em>RightHandHolder</em> object in the Hierarchy window (a child of the right hand bone) to instantiate the prefab as a child of that bone. The position and rotation of the <em>GolfClub</em> should all be at 0.</li>
</ol>
<p>Note that a "<em>bone</em>" is simply a regular <code>GameObject</code> / <code>Transform</code> which deforms the character model as it moves and rotates. So even though the <em>RightHandHolder</em> is part of the FBX file the model comes from, it is not really a <em>bone</em> because it does not affect the model (it is simply there to make it easy to position objects in the hand).</p>
<p>Now he will be holding the golf club when we press Play.</p>
<p><img src="golf-club-ready.png" class="img-responsive"></p>
<p>Remember to exit Play Mode after you are done looking.</p>
<h1 id="swing-animation">Swing Animation</h1>
<p>A golf club won't do much good if he can't swing it, so let's get on that.</p>
<p>First we need to add another <code>AnimationClip</code> field to the script. Just make a copy of the <code>_Idle</code> field and rename it to <code>_Action</code>.</p>
<p>Then we want to know when the player clicks the mouse, so let's make an <code>Update</code> method to check that:</p>
<pre><code class="language-cs">private void Update()
{
    // GetMouseButtonDown returns true for one frame when you first click the mouse.
    // The parameter specifies which mouse button we want:
    // 0 = Left Click.
    // 1 = Right Click.
    // 2 = Middle Click.
    if (Input.GetMouseButtonDown(0))
    {
    }
}
</code></pre>
<p>See the <a href="../../../introduction/cs/methods">Methods</a> page for more information about <a href="../../../introduction/cs/methods#flow-control">Flow Control</a> (the <code>if</code> statement), <a href="../../../introduction/cs/methods#parameters">Parameters</a>, and <a href="../../../introduction/cs/methods#return-values">Return Values</a>.</p>
<p>Inside that <code>if</code> block we want to play the <code>_Action</code> animation, so we can just copy the contents of the <code>OnEnable</code> method and change the parameter.</p>
<p></p><details><summary>The full script now looks like this:</summary><p>
</p><pre><code class="language-cs">using Animancer;
using UnityEngine;

public sealed class PlayAnimationOnClickTutorial : MonoBehaviour
{
    [SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
    [SerializeField] private AnimationClip _Idle;
    [SerializeField] private AnimationClip _Action;
    
    private void OnEnable()
    {
        _Animancer.Play(_Idle);
    }

    private void Update()
    {
        if (Input.GetMouseButtonDown(0))
        {
            _Animancer.Play(_Action);
        }
    }
}
</code></pre>
<p></p></details><p></p>
<p>Save the script again and go back to Unity.</p>
<p>Before it will do anything, we need to give it the swing animation. Just select the character and assign the <code>Action</code> animation in the Inspector the same way we assigned the <code>Idle</code>. The original example uses the <em>Humanoid-GolfSwing</em> animation.</p>
<p>Now when we enter Play Mode we can click to trigger the swing animation.</p>
<p><img src="golf-swing-1.gif" class="img-responsive"></p>
<p>Remember to exit Play Mode after you are done looking.</p>
<h1 id="after-the-action">After the Action</h1>
<p>The character now has an obvious problem: he can swing like a champ, but then he gets delayed stagefright and freezes in place. Fortunately there's a simple cure for that if we go back to the script.</p>
<p>All we need to do is wait until the animation is done then return to idle so let's first create a method to be called:</p>
<pre><code class="language-cs">private void OnActionEnd()
{
    _Animancer.Play(_Idle);
}
</code></pre>
<p>Then we can go back to the <code>Update</code> method, grab the <code><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a></code> returned by <code>Play</code>, and assign that new method as a callback to its <code>OnEnd</code> event:</p>
<pre><code class="language-cs">var state = _Animancer.Play(_Action);
state.Events.OnEnd = OnActionEnd;
</code></pre>
<p>There are a couple of different ways we could have done that which are listed on the <code><a href="/animancer/api/Animancer/Sequence/9FF5A569">AnimancerEvent.Sequence.OnEnd</a></code> page. The <a href="../../../manual/events/end">End Events</a> page also explains some alternative approaches instead of using the <code>OnEnd</code> callback.</p>
<p></p><details><summary>The full script looks like this:</summary><p>
</p><pre><code class="language-cs">using Animancer;
using UnityEngine;

public sealed class PlayAnimationOnClickTutorial : MonoBehaviour
{
    [SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
    [SerializeField] private AnimationClip _Idle;
    [SerializeField] private AnimationClip _Action;

    private void OnEnable()
    {
        _Animancer.Play(_Idle);
    }

    private void Update()
    {
        if (Input.GetMouseButtonDown(0))
        {
            var state = _Animancer.Play(_Action);
            state.Events.OnEnd = OnActionEnd;
        }
    }

    private void OnActionEnd()
    {
        _Animancer.Play(_Idle);
    }
}
</code></pre>
<p></p></details><p></p>
<p>If we take another look at it in Play Mode we can see the character return to idle after the swing so we can click to swing again.</p>
<p><img src="golf-swing-2.gif" class="img-responsive"></p>
<p>Remember to exit Play Mode after you are done looking.</p>
<h1 id="smooth-transitions">Smooth Transitions</h1>
<p>There's still an obvious problem with it though: when the swing ends, the character snaps instantly back to idle instead of moving smoothly from where the swing ended. This could be solved by making sure that the swing animation ends in exactly the same pose where the idle starts, but that is not always practical. Fortunately, this can be easily solved by <a href="../../../manual/blending/fading">Cross Fading</a> between the animations. The <a href="../playing-and-fading">Playing and Fading</a> example goes into more detail on the subject, but let's give it a quick try here.</p>
<p>All you need to do is add another parameter to the <code>Play</code> call to tell it how long you want the transition to take:</p>
<pre><code class="language-cs">_Animancer.Play(_Idle);// Play instantly.
_Animancer.Play(_Idle, 0.25f);// Cross Fade over 0.25 seconds.
</code></pre>
<p></p><details><summary>The final script looks like this:</summary><p>
</p><pre><code class="language-cs">using Animancer;
using UnityEngine;

public sealed class PlayAnimationOnClickTutorial : MonoBehaviour
{
    [SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
    [SerializeField] private AnimationClip _Idle;
    [SerializeField] private AnimationClip _Action;

    private void OnEnable()
    {
        _Animancer.Play(_Idle);
    }

    private void Update()
    {
        if (Input.GetMouseButtonDown(0))
        {
            var state = _Animancer.Play(_Action);
            state.Events.OnEnd = OnActionEnd;
        }
    }

    private void OnActionEnd()
    {
        _Animancer.Play(_Idle, 0.25f);
    }
}
</code></pre>
<p></p></details><p></p>
<p>And here is what it looks like in Play Mode:</p>
<p><img src="golf-swing-3.gif" class="img-responsive"></p>
<p>Note that <a href="/animancer/lite">Animancer Lite</a> only allows a fade duration of 0.25 seconds. You can try out any duration you want in the Unity Editor, but it will warn you that it will always use the default duration in runtime builds unless you purchase <a href="/animancer/pro">Animancer Pro</a>.</p>
<h1 id="what-next">What Next?</h1>
<p>That is all for this first tutorial, but there are plenty more where that came from:</p>
<ul>
<li>If you want to easily customise animation details such as the fade duration in the Inspector instead of hard-coding them in your scripts, you can use <a href="../../../manual/transitions">Transitions</a>.</li>
<li>The <a href="../playing-and-fading">Playing and Fading</a> example goes into more detail about the differences between the various parameter combinations you can give when calling the <code>Play</code> method.</li>
<li>The <a href="../../events/golf">Golf Events</a> example builds upon this example to show how you can use Animation Events to trigger a function at a specific time during an animation to hit a ball and also how to adjust the transition back to idle to look more natural.</li>
</ul>
<p>The up arrow in the bottom right corner of the page will take you back to the top.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <strong><div style="text-align:left; display:flex">

<div>
<p>Documentation</p>
<p><a href="/animancer/docs/examples">Examples</a></p>
<p><a href="/animancer/docs/manual">User Manual</a></p>
<p><a href="/animancer/docs/changes">Change Log</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Download</p>
<p><a href="https://kybernetik.itch.io/animancer-pro">Itch.io (Recommended)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-pro-116514?aid=1100l8ah5">Asset Store (Animancer Pro)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516?aid=1100l8ah5">Asset Store (Animancer Lite)</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Contact</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues">Github Issues</a></p>
<p><a href="/animancer/forum">Unity Forum</a></p>
<p><a href="mailto:animancer@kybernetik.com.au?subject=Animancer">Email</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Other Assets</p>
<p><a href="/inspector-gadgets">Inspector Gadgets</a></p>
<p><a href="/weaver">Weaver</a></p>
<p><a href="/ultevents">UltEvents</a></p>
</div>

</div></strong>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>