<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - 09-02 Hybrid Character</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/introduction/features"><img src="/animancer/images/icons/features.png" height="20px" width="20px" style="left:-7px"> Features</a></li>
        <li><a href="/animancer/docs/download"><img src="/animancer/images/icons/download.png" height="20px" width="20px" style="left:-7px"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/icons/docs.png" height="20px" width="7.5px" style="left:-5px"> Documentation</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/icons/help.png" height="20px" width="10.625px" style="left:-4px"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/icons/api.png" height="20px" width="18.125px" style="left:-3px"> API v7.4</a></li>
        <li><a href="https://kybernetik.com.au"><img src="/animancer/images/icons/kybernetik.png" height="20px" width="20px" style="left:-2px"> Other Assets</a></li>

<li style="width:100%">
<form class="search-form" name="search" action="/animancer/search">
<span><input class="search-input" id="search" name="q" type="text" placeholder="Search..."></span>
<div class="search-button"><button type="submit"><i class="fa fa-search"></i></button></div>
</form>
</li> 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#summary">Summary</a></p>
<p><a href="#overview">Overview</a></p>
<p><a href="#animator-controller">Animator Controller</a></p>
<p><a href="#animation-constants">Animation Constants</a></p>
<p><a href="#idle-state">Idle State</a></p>
<p><a href="#move-state">Move State</a></p>
<p><a href="#action-state">Action State</a></p>
<p><a href="#conclusion">Conclusion</a></p>
<p><a href="#what-next">What Next?</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/simplicity">Simplicity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/transparency">Transparency</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/adaptability">Adaptability</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/clarity">Clarity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/safety">Safety</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/reliability">Reliability</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison">Comparison</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/weapon-animations">Weapon Animations</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li><a href="/animancer/docs/introduction/cs">C# in Unity</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/quick-play">01-01 Quick Play</a></li>
                <li><a href="/animancer/docs/examples/basics/movement">01-02 Basic Movement</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics/action">01-03 Basic Action</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/action/holding">Holding a Pistol</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/basics/transitions">01-04 Transitions</a></li>
                <li><a href="/animancer/docs/examples/basics/character">01-05 Basic Character</a></li>
                <li><a href="/animancer/docs/examples/basics/scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/examples/basics/input">Input</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/named-animations">02-01 Named Animations</a></li>
                <li><a href="/animancer/docs/examples/fine-control/speed-and-time">02-02 Speed and Time</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02-03 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/update-rate">02-04 Update Rate</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">02-05 Solo Animation</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/root-motion">03-01 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03-02 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">03-03 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basics">04-01 Directional Basics</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character">04-02 Directional Character</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/events/footsteps">05-01 Footstep Events</a></li>
                <li><a href="/animancer/docs/examples/events/golf">05-02 Golf Events</a></li>
                <li><a href="/animancer/docs/examples/events/utilities">05-03 Event Utilities</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fsm/characters">06-01 Characters</a></li>
                <li><a href="/animancer/docs/examples/fsm/interruptions">06-02 Interruptions</a></li>
                <li><a href="/animancer/docs/examples/fsm/brains">06-03 Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/weapons">06-04 Weapons</a></li>
                <li><a href="/animancer/docs/examples/fsm/platformer">Platformer Game Kit</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/layers">07 Layers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/layers/basic">07-01 Basic Layers</a></li>
                <li><a href="/animancer/docs/examples/layers/dynamic">07-02 Dynamic Layers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/ik">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/ik/puppet">08-01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/ik/uneven-ground">08-02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/basics">09-01 Hybrid Basics</a></li>
                <li class="selected"><a href="/animancer/docs/examples/animator-controllers/character">09-02 Hybrid Character</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">09-03 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/jobs">10 Animation Jobs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/jobs/two-bone-ik">10-01 Two Bone IK</a></li>
                <li><a href="/animancer/docs/examples/jobs/damping">10-02 Damping</a></li>
                <li><a href="/animancer/docs/examples/jobs/lean">10-03 Lean</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/integration">Integration</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/integration/animation-rigging">Animation Rigging</a></li>
                <li><a href="/animancer/docs/examples/integration/dynamic-bone">Dynamic Bone</a></li>
                <li><a href="/animancer/docs/examples/integration/final-ik">Final IK</a></li>
                <li><a href="/animancer/docs/examples/integration/hairibar-ragdoll">Hairibar Ragdoll</a></li>
                <li><a href="/animancer/docs/examples/integration/lod">Level of Detail (LOD)</a></li>
                <li><a href="/animancer/docs/examples/integration/odin-inspector">Odin Inspector</a></li>
                <li><a href="/animancer/docs/examples/integration/puppet-master">Puppet Master</a></li><li><a href="/animancer/docs/examples/integration/spine">Spine</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/no-video-tutorials">No Video Tutorials</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>
                <li><a href="/animancer/docs/manual/getting/animation-window">Animation Window</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/keys">Keys</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/edit-mode">Playing in Edit Mode</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>
                <li><a href="/animancer/docs/manual/transitions/assets">Transition Assets</a></li>
                <li><a href="/animancer/docs/manual/transitions/previews">Transition Previews</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending/fading">Fading</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading/modes">Fade Modes</a></li>
                <li><a href="/animancer/docs/manual/blending/fading/custom">Custom Fading</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending/mixers">Mixers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/mixers/creation">Mixer Creation</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers/smoothing">Mixer Smoothing</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers/synchronization">Mixer Synchronization</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events/animancer">Animancer Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animancer/usage">Usage</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/behaviour">Behaviour</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/shared">Shared Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/garbage">Garbage Collection</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/ultevents">UltEvents</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/events/end">End Events</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/fsm">Finite State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/fsm/overview">Overview</a></li>
                <li><a href="/animancer/docs/manual/fsm/state-types">1. State Types</a></li>
                <li><a href="/animancer/docs/manual/fsm/initialization">2. Initialization</a></li>
                <li><a href="/animancer/docs/manual/fsm/changing-states">3. Changing States</a></li>
                <li><a href="/animancer/docs/manual/fsm/keys">Keys</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/fsm/utilities">Utilities</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/fsm/utilities/input-buffer">Input Buffers</a></li>
                <li><a href="/animancer/docs/manual/fsm/utilities/state-selector">State Selectors</a></li>
                <li><a href="/animancer/docs/manual/fsm/utilities/owned-states">Owned States</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/animator-controllers/conversion">Conversion</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers/controller-states">Controller States</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/tools">Animancer Tools</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/tools/pack-textures">Pack Textures</a></li>
                <li><a href="/animancer/docs/manual/tools/modify-sprites">Modify Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/rename-sprites">Rename Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/generate-sprite-animations">Generate Sprite Animations</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-sprite-animation">Remap Sprite Animation</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-animation-bindings">Remap Animation Bindings</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/other">Other Features</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/other/animation-clip-inspector">Animation Clip Inspector</a></li>
                <li><a href="/animancer/docs/manual/other/polymorphic">Polymorphic Drawer</a></li>
                <li><a href="/animancer/docs/manual/other/redirect-root-motion">Redirect Root Motion</a></li>
                <li><a href="/animancer/docs/manual/other/sprite-renderer-texture-swap">Sprite Renderer Texture Swap</a></li>
                <li><a href="/animancer/docs/manual/other/units">Units Attributes</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/events">Animation Events</a></li>
                <li><a href="/animancer/docs/bugs/animator-controller-speed">Animator Controller Speed</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/reorderable-array-height">Reorderable Array Height</a></li>
                <li><a href="/animancer/docs/bugs/serialized-array-initialization">Serialized Array Initialization</a></li>
                <li><a href="/animancer/docs/bugs/stabilize-feet">Stabilize Feet</a></li>
                <li><a href="/animancer/docs/bugs/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/bugs/timing">Timing</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v7-4">Animancer v7.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-3">Animancer v7.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-2">Animancer v7.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-1">Animancer v7.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-0">Animancer v7.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v6-1">Animancer v6.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v6-0">Animancer v6.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v5-3">Animancer v5.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-2">Animancer v5.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-1">Animancer v5.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/help">Help and FAQ</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/help/debugging">Debugging</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>09-02 Hybrid Character</h1>
		</section>
	<section class="content">
		<blockquote class="blockquote">
<p><i class="emw fa fa-folder"></i> <strong>Location</strong>: <em><span class="mini">Assets/Plugins/Animancer/</span>Examples/09 Animator Controllers/02 Hybrid Character</em></p>
<p><i class="emw fa fa-code-fork"></i> <strong>Recommended After</strong>: <a href="../basics">Hybrid Basics</a> and <a href="../../fsm/brains">Brains</a></p>
<p><i class="emw fa fa-puzzle-piece"></i> <strong>Learning Outcomes</strong>: <span class="mini">in this example you will learn:</span></p>
<p><i class="emw fa fa-lightbulb-o"></i> How to use a <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code>.</p>
<p><i class="emw fa fa-lightbulb-o"></i> How play define some animations inside an Animator Controller and others outside it.</p>
</blockquote>
<p>This example is a variation of the <a href="../../fsm/brains">Brains</a> example which demonstrates how you can use a <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code> to play an <a href="../../../manual/animator-controllers">Animator Controller</a> for some things and individual separate <code>AnimationClips</code> for others:</p>
<ul>
<li><em>Idle</em>, <em>Walk</em>, and <em>Run</em> are defined inside the Animator Controller.</li>
<li><em>Action</em> is played separately, using the same <code><a href="/animancer/api/Animancer.Examples.StateMachines/ActionState">ActionState</a></code> script from the <a href="../../fsm/brains">Brains</a> example.</li>
</ul>
<p><em><a href="../../../manual/animator-controllers">Animator Controllers</a> are a <a href="../../../introduction/features"><strong>Pro-Only Feature</strong></a>. You can try them out in the Unity Editor with <a href="/animancer/redirect/lite">Animancer Lite</a>, but they're not available in runtime builds unless you purchase <a href="/animancer/redirect/pro">Animancer Pro</a>.</em></p>
<p><img src="character.png" class="pngif img-responsive"></p>
<h1 id="summary">Summary</h1>
<ul>
<li>A <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code> has all the methods like <code>Play</code> and <code>SetFloat</code> which would normally be used to control an <code>Animator</code> component.</li>
<li>This example is more complex than the <a href="../../fsm/brains">Brains</a> example due to the use of Animator Controllers and doesn't really gain any advantages in exchange. Using Animator Controllers is generally only recommended if you already have one or are working with another system that requires one.</li>
<li>Pre-calculating the hashes for state and parameter names in an Animator Controller can slightly improve performance compared to using their names everywhere.
<ul>
<li><a href="/weaver">Weaver</a> has a system for <a href="/weaver/docs/project-constants/animations">procedurally generating a script containing those values</a> so you don't have to write them manually. It's included in <a href="/weaver/lite">Weaver Lite</a> for FREE.</li>
</ul>
</li>
</ul>
<h1 id="overview">Overview</h1>
<p>The general code structure is very similar to the <a href="../../fsm/brains">Brains</a> example, except that it uses a <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code> to play an Animator Controller containing the <em>Idle</em>, <em>Walk</em>, and <em>Run</em> animations instead of referencing those animations directly from the states that will play them.</p>
<p><img src="architecture.png" class="img-responsive" id="architecture"></p>
<p></p><details><summary>Click here to show the code structure from the <a href="../../fsm/brains">Brains</a> example:</summary>
<p><img src="../../fsm/brains/architecture.png" class="img-responsive"></p>
</details><p></p>
<p>If the character had a <code>Generic</code> Rig, the same result could have been achieved using a <a href="../../../manual/animator-controllers#native">Native Animator Controller</a> assigned to the <code>Animator</code> component. But since the character is <code>Humanoid</code>, that wouldn't allow blending between the Animator Controller and separate animations so this example needs to use a <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code> instead.</p>
<h1 id="animator-controller">Animator Controller</h1>
<p></p><details><summary>The <a href="../../fsm/brains">Brains</a> example used a <code><a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a></code> for its <em>Idle</em> animation and a <code><a href="/animancer/api/Animancer/LinearMixerTransition">LinearMixerTransition</a></code> for its <em>Walk</em> and <em>Run</em> animations.</summary>
<pre><code class="language-cs">public sealed class IdleState : CharacterState
{
    [SerializeField] private <a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a> _Animation;
}

public sealed class <a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a> : CharacterState
{
    [SerializeField] private <a href="/animancer/api/Animancer/LinearMixerTransition">LinearMixerTransition</a> _Animation;
}
</code></pre>
</details><p></p>
<p>This example replicates that inside its Animator Controller with one regular state and one Blend Tree connected by transitions based on an <code>IsMoving</code> parameter:</p>
<p><img src="animator-controller.png" class="img-responsive"></p>
<p>The Blend Tree has the same animations as the Mixer:</p>
<ul>
<li><em>Walk</em> at Threshold 0.</li>
<li><em>Run</em> at Threshold 1.</li>
</ul>
<table class="table">
  <thead>
    <tr><th style="width:50%">Linear Mixer (Brains example)</th>
    <th style="width:50%">Blend Tree (this example)</th>
  </tr></thead>
  <tbody>
    <tr>
      <td><img src="../../fsm/brains/move-inspector.png" class="img-responsive"></td>
      <td><img src="blend-tree.png" class="img-responsive"></td>
    </tr>
  </tbody>
</table>
<p>When using a <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code>, it references the Animator Controller instead of the <code>Animator</code>:</p>
<table class="table">
  <thead>
    <tr><th style="width:50%">Animator</th>
    <th style="width:50%">Hybrid Animancer Component</th>
  </tr></thead>
  <tbody>
    <tr>
      <td><p><img src="animator.png" class="img-responsive"></p>The <code>Controller</code> field here is blank.</td>
      <td><p><img src="hybrid-animancer-component.png" class="img-responsive"></p>The Animator Controller is assigned to this <code>Controller</code> field instead.</td>
    </tr>
  </tbody>
</table>
<h1 id="animation-constants">Animation Constants</h1>
<h2 id="optimization">Optimization</h2>
<p>You can reference states and parameters inside an Animator Controller using <code>string</code>s like so:</p>
<pre><code class="language-cs">animator.Play("State Name");
</code></pre>
<p>Internally, that method calls <code>Animator.StringToHash</code> to get the <code>int</code> ID of the state with that name (if there is one). That method has a small performance cost which can be avoide if you simply call it once and store the result in a <code>static</code> field and use it instead:</p>
<pre><code class="language-cs">// In a class (outside any method):
public static readonly int StateName = Animator.StringToHash("State Name");

// In a method:
animator.Play(StateName);
</code></pre>
<p>It works exactly the same for parameter names.</p>
<h2 id="central-class">Central Class</h2>
<p>In this example, the <code>IsMoving</code> parameter will be set to <code>false</code> by <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridIdleState">HybridIdleState</a></code> and <code>true</code> by <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridMoveState">HybridMoveState</a></code>.</p>
<ul>
<li>You could give both states their own copy of the ID field, but then you have two places where you might make spelling mistakes and where you need to update the code if you rename the parameter in the Animator Controller.</li>
<li>You could store the <code>IsMoving</code> ID in <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridIdleState">HybridIdleState</a></code> and have <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridMoveState">HybridMoveState</a></code> access it via <code>HybridIdleState.IsMoving</code>, but in a complex system with lots of states it would be annoying if you had to search around to find a particular ID.</li>
<li>This example avoids those issues by making a central class for all animation IDs like so:</li>
</ul>
<pre><code class="language-cs">public static class <a href="/animancer/api/Animancer.Examples.AnimatorControllers/Animations">Animations</a>
{
    public static readonly int IsMoving = Animator.StringToHash("IsMoving");

    public static readonly int MoveBlend = Animator.StringToHash("MoveBlend");
}

// In HybridIdleState.OnEnable:
HybridAnimancer.SetBool(Animations.IsMoving, false);

// In HybridMoveState.OnEnable:
HybridAnimancer.SetBool(Animations.IsMoving, true);
</code></pre>
<h2 id="weaver">Weaver</h2>
<p>Manually writing and maintaining the <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/Animations">Animations</a></code> class can be tedious and offers many opportunities for spelling mistakes, so <a href="/weaver">Weaver</a> has a system for <a href="/weaver/docs/project-constants/animations">procedurally generating that script</a> which also includes a <code>HashToString</code> method for converting a hash value back to the <code>string</code> it came from. That system is <strong>included in <a href="/weaver/lite">Weaver Lite</a> for FREE</strong>, though <a href="/weaver/pro">Weaver Pro</a> can also generate extension methods to get and set each parameter so your scripts don't need to manually call the correct <code>SetFloat</code>, <code>SetBool</code>, etc. methods corresponding to the parameter's ID.</p>
<h1 id="idle-state">Idle State</h1>
<p>The <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridIdleState">HybridIdleState</a></code> in this example is very similar to the <code>IdleState</code> <a href="../../fsm/characters#idle-state">from the Characters example</a>.</p>
<p><img src="inspector-idle.png" class="img-responsive"></p>
<p>Normally, you would give <code>Character</code> class a reference to the specific type of <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> you want like so:</p>
<pre><code class="language-cs">public sealed class Character : MonoBehaviour
{
    [SerializeField]
    private <a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a> _Animancer;
    public <a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a> Animancer =&gt; _Animancer;
</code></pre>
<p>But this example is reusing the <code>Character</code> class from the <a href="../../fsm/characters">Characters</a> example which only references a base <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code>. We could duplicate that script to make this change, but for the sake of avoiding unnecessary scripts it's simpler for the new states in this example to just <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/types/casting-and-type-conversions">Type Cast</a> the existing reference:</p>
<pre><code class="language-cs">public sealed class <a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridIdleState">HybridIdleState</a> : CharacterState
{
    private <a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a> HybridAnimancer
        =&gt; (HybridAnimancerComponent)Character.Animancer;
</code></pre>
<p>Then the <code>OnEnable</code> method can simply tell it to play its Animator Controller (in case the previous animation was outside it) and set the <code>IsMoving</code> parameter inside it:</p>
<pre><code class="language-cs">    private void OnEnable()
    {
        HybridAnimancer.PlayController();
        HybridAnimancer.SetBool(Animations.IsMoving, false);
    }
}
</code></pre>
<h1 id="move-state">Move State</h1>
<p>The <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridMoveState">HybridMoveState</a></code> in this example is very similar to the <code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code> <a href="../../fsm/brains#move-state">from the Brains example</a>.</p>
<p><img src="inspector-move.png" class="img-responsive"></p>
<p>It has the same property to <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/types/casting-and-type-conversions">Type Cast</a> the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> as the <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridIdleState">HybridIdleState</a></code>:</p>
<pre><code class="language-cs">public sealed class <a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridMoveState">HybridMoveState</a> : CharacterState
{
    private <a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a> HybridAnimancer
        =&gt; (HybridAnimancerComponent)Character.Animancer;
</code></pre>
<p>It plays the Animator Controller and sets its <code>IsMoving</code> parameter just like the <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers/HybridIdleState">HybridIdleState</a></code> (except that it's <code>true</code> this time):</p>
<pre><code class="language-cs">    private void OnEnable()
    {
        HybridAnimancer.PlayController();
        HybridAnimancer.SetBool(Animations.IsMoving, true);
        ...
    }
</code></pre>
<p>Where the <code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code> could simply get and set the Mixer's <code>Parameter</code>, getting a parameter value from an Animator Controller has a slightly larger performance cost so instead this script just stores its own copy of the value so it only needs to set the value in the Animator Controller (but not get it):</p>
<pre><code class="language-cs">    [SerializeField] private float _ParameterFadeSpeed = 2;

    private float _MoveBlend;

    private void OnEnable()
    {
        ...
        _MoveBlend = Character.Parameters.WantsToRun ? 1 : 0;
    }
    private void UpdateAnimation()
    {
        var target = Character.Parameters.WantsToRun ? 1 : 0;
        _MoveBlend = Mathf.MoveTowards(
            _MoveBlend,
            target,
            _ParameterFadeSpeed * Time.deltaTime);
        HybridAnimancer.SetFloat(Animations.MoveBlend, _MoveBlend);
    }
</code></pre>
<p>The rest is identical to the <code><a href="/animancer/api/Animancer.Examples.StateMachines/MoveState">MoveState</a></code> <a href="../../fsm/brains#move-state">from the Brains example</a>.</p>
<pre><code class="language-cs">    [SerializeField, DegreesPerSecond] private float _TurnSpeed = 360;

    private void Update()
    {
        UpdateAnimation();
        UpdateTurning();
    }

    private void UpdateTurning()
    {
        var movement = Character.Parameters.MovementDirection;
        if (movement == default)
            return;

        var targetAngle = Mathf.Atan2(movement.x, movement.z) * Mathf.Rad2Deg;
        var turnDelta = _TurnSpeed * Time.deltaTime;

        var transform = Character.Animancer.transform;
        var eulerAngles = transform.eulerAngles;
        eulerAngles.y = Mathf.MoveTowardsAngle(eulerAngles.y, targetAngle, turnDelta);
        transform.eulerAngles = eulerAngles;
    }
}
</code></pre>
<h1 id="action-state">Action State</h1>
<p>The character also has an <code><a href="/animancer/api/Animancer.Examples.StateMachines/ActionState">ActionState</a></code> which is set up exactly the same as it was <a href="../../fsm/characters#action-state">in the Characters example</a>:</p>
<p><img src="inspector-action.png" class="img-responsive"></p>
<h1 id="conclusion">Conclusion</h1>
<p>If you watch the Animator window and the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> in the Inspector during Play Mode, you can see the <em>Idle</em>, <em>Walk</em>, and <em>Run</em> animations being played inside the Animator Controller while the <em>Action</em> animation is played separately by Animancer:</p>
<p><img src="character.png" class="pngif img-responsive"></p>
<p>This example demonstrates how things <em>can</em> be done, but in most cases that's not how they <em>should</em> be done. Getting away from Animator Controllers was the main reason Animancer was created in the first place and this example adds more complexity to the <a href="../../fsm/brains">Brains</a> example without any real practical benefit. But while it isn't recommended to use Animator Controllers when building a new system from the ground up, it can be useful if you already have them set up in an existing project or when working with another system that uses them (such as a character controller framework).</p>
<h1 id="what-next">What Next?</h1>
<table class="table">
<thead>
<tr>
<th>Example</th>
<th>Topic</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><a href="../3d-game-kit">3D Game Kit</a></strong></td>
<td>Converting the logic from Unity's <a href="https://assetstore.unity.com/packages/templates/tutorials/3d-game-kit-lite-135162">3D Game Kit Lite</a> to use Animancer instead. Basically the opposite of this example and with a much more complex character.</td>
</tr>
</tbody>
</table>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <strong><div style="text-align:left; display:flex">

<div>
<p>Documentation</p>
<p><a href="/animancer/docs/examples">Examples</a></p>
<p><a href="/animancer/docs/manual">User Manual</a></p>
<p><a href="/animancer/docs/changes">Change Log</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Download</p>
<p><a href="https://kybernetik.itch.io/animancer-pro">Itch.io (Recommended)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-pro-116514?aid=1100l8ah5">Asset Store (Animancer Pro)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516?aid=1100l8ah5">Asset Store (Animancer Lite)</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Contact</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues">Github Issues</a></p>
<p><a href="/animancer/redirect/forum">Unity Forum</a></p>
<p><a href="mailto:animancer@kybernetik.com.au?subject=Animancer">Email</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Other Assets</p>
<p><a href="/flexi-motion">FlexiMotion</a></p>
<p><a href="/inspector-gadgets">Inspector Gadgets</a></p>
<p><a href="/weaver">Weaver</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>&nbsp;</p>
<p><a href="https://assetstore.unity.com/packages/vfx/shaders/simple-sun-shader-72042?aid=1100l8ah5">Simple Sun Shader</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/version-control/link-sync-229569?aid=1100l8ah5">Link &amp; Sync</a></p>
<p><a href="/ultevents">UltEvents</a></p>
</div>

</div></strong>
<script src="/animancer/assets/js/pngif.js"></script>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>