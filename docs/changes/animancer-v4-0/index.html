<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - Animancer v4.0</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/introduction/features"><img src="/animancer/images/features.png" height="20px" width="20px" style="left:-7px"> Features</a></li>
        <li><a href="/animancer/docs/download"><img src="/animancer/images/download.png" height="20px" width="20px" style="left:-7px"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/docs.png" height="20px" width="7.5px" style="left:-5px"> Documentation</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/help.png" height="20px" width="10.625px" style="left:-4px"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/api.png" height="20px" width="18.125px" style="left:-3px"> API v6.1</a></li>
        <li><a href="/kailas-dierk/unity-assets"><img src="/animancer/images/kybernetik.png" height="20px" width="20px" style="left:-2px"> Other Assets</a></li>

<li style="width:100%">
<form class="search-form" name="search" action="/animancer/search">
<span><input class="search-input" id="search" name="q" type="text" placeholder="Search..."></span>
<div class="search-button"><button type="submit"><i class="fa fa-search"></i></button></div>
</form>
</li> 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#highlights">Highlights</a></p>
<p><a href="#upgrade-guide">Upgrade Guide</a></p>
<p><a href="#features">Features</a></p>
<p><a href="#changes">Changes</a></p>
<p><a href="#improvements">Improvements</a></p>
<p><a href="#fixes">Fixes</a></p>
<p><a href="#examples">Examples</a></p>
<p><a href="#internal">Internal</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/simplicity">Simplicity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/transparency">Transparency</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/adaptability">Adaptability</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/clarity">Clarity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/safety">Safety</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/reliability">Reliability</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison">Comparison</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/weapon-animations">Weapon Animations</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/conversion">Conversion</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/cs">C# in Unity</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/cs/overview">Scripting Overview</a></li>
                <li><a href="/animancer/docs/introduction/cs/organisation">Organisation</a></li>
                <li><a href="/animancer/docs/introduction/cs/variables">Variables</a></li>
                <li><a href="/animancer/docs/introduction/cs/methods">Methods</a></li>
                <li><a href="/animancer/docs/introduction/cs/inheritance">Inheritance</a></li>
                <li><a href="/animancer/docs/introduction/cs/vectors">Vectors</a></li>
                <li><a href="/animancer/docs/introduction/cs/other">Other Topics</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/examples/basics/quick-play">01 Quick Play</a></li>
                <li><a href="/animancer/docs/examples/basics/playing-and-fading">02 Playing and Fading</a></li>
                <li><a href="/animancer/docs/examples/basics/sequence-coroutine">03 Sequence Coroutine</a></li>
                <li><a href="/animancer/docs/examples/basics/named-animations">04 Named Animations</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/spider-bot">01 Spider Bot</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">03 Solo Animation</a></li>
                <li><a href="/animancer/docs/examples/fine-control/update-rate">04 Update Rate</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/walk-and-run">01 Walk and Run</a></li>
                <li><a href="/animancer/docs/examples/locomotion/root-motion">02 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">04 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basic-movement">01 Basic Movement</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character-controller">02 Character Controller</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/events/footsteps">01 Footstep Events</a></li>
                <li><a href="/animancer/docs/examples/events/golf">02 Golf Events</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/fsm/game-manager">01 Game Manager</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fsm/game-manager/enum">Enum</a></li>
                <li><a href="/animancer/docs/examples/fsm/game-manager/fsm">FSM</a></li>
                <li><a href="/animancer/docs/examples/fsm/game-manager/comparison">Comparison</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/fsm/creatures">02 Creatures</a></li>
                <li><a href="/animancer/docs/examples/fsm/interrupts">03 Interrupt Management</a></li>
                <li><a href="/animancer/docs/examples/fsm/brains">04 Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/more-brains">05 More Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/weapons">06 Weapons</a></li>
                <li><a href="/animancer/docs/examples/fsm/platformer">07 Platformer</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/layers">07 Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/ik">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/ik/puppet">01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/ik/uneven-ground">02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/basics">01 Hybrid Basics</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/mini-game">02 Hybrid Mini Game</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">03 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/jobs">10 Animation Jobs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/jobs/two-bone-ik">01 Two Bone IK</a></li>
                <li><a href="/animancer/docs/examples/jobs/damping">02 Damping</a></li>
                <li><a href="/animancer/docs/examples/jobs/lean">03 Lean</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/integration">Integration</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/integration/animation-rigging">Animation Rigging</a></li>
                <li><a href="/animancer/docs/examples/integration/dynamic-bone">Dynamic Bone</a></li>
                <li><a href="/animancer/docs/examples/integration/final-ik">Final IK</a></li>
                <li><a href="/animancer/docs/examples/integration/hairibar-ragdoll">Hairibar Ragdoll</a></li>
                <li><a href="/animancer/docs/examples/integration/puppet-master">Puppet Master</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/no-video-tutorials">No Video Tutorials</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>
                <li><a href="/animancer/docs/manual/getting/animation-window">Animation Window</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading">Fading</a></li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers">Mixers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer">Animancer Events</a></li>
                <li><a href="/animancer/docs/manual/events/end">End Events</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/fsm">Finite State Machines</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a></li>
                <li><a href="/animancer/docs/manual/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/tools">Animancer Tools</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/tools/pack-textures">Pack Textures</a></li>
                <li><a href="/animancer/docs/manual/tools/modify-sprites">Modify Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/rename-sprites">Rename Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/generate-sprite-animations">Generate Sprite Animations</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-sprite-animation">Remap Sprite Animation</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-animation-bindings">Remap Animation Bindings</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/events">Animation Events</a></li>
                <li><a href="/animancer/docs/bugs/rigging-ik">Animation Rigging IK</a></li>
                <li><a href="/animancer/docs/bugs/animator-controller-speed">Animator Controller Speed</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/serialized-array-initialization">Serialized Array Initialization</a></li>
                <li><a href="/animancer/docs/bugs/stabilize-feet">Stabilize Feet</a></li>
                <li><a href="/animancer/docs/bugs/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/bugs/timing">Timing</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>
                <li><a href="/animancer/docs/source/coding-standard">Coding Standard</a></li>
                <li><a href="/animancer/docs/source/default-script-template">Default Script Template</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-1">Animancer v6.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v6-0">Animancer v6.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v5-3">Animancer v5.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-2">Animancer v5.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-1">Animancer v5.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview active selected">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/help">Help and FAQ</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/help/debugging">Debugging</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Animancer v4.0</h1>
		</section>
	<section class="content">
		<blockquote class="blockquote">
<p>Released 2020-01-28</p>
</blockquote>
<p><a href="../../download">When upgrading to a newer version of Animancer, you must <strong>delete any previous version</strong> from your project first</a>.</p>
<h1 id="highlights">Highlights</h1>
<ul>
<li>The <a href="#upgrade-guide">main public API</a> has been entirely restructured:
<ul>
<li>The <code>Play</code>, <code>CrossFade</code>, <code>CrossFadeFromStart</code>, and <code>Transition</code> methods have all been unified as <code>Play</code> with fewer overall parameter combinations.</li>
<li>Layers are now treated as a proper collection. So instead of <code>animancer.LayerCount</code>, <code>animancer.GetLayer(...)</code>, or <code>animancer.SetLayerAdditive(...)</code>, you now use <code>animancer.Layers.Count</code>, <code>animancer.Layers[...]</code>, or <code>animancer.Layers.SetAdditive(...)</code>.</li>
<li>Same for states. So instead of <code>animancer.GetState(...)</code> you now use <code>animancer.States[...]</code> and <code>animancer.CurrentState</code> is now <code>animancer.States.Current</code>.</li>
<li>Serializables are now called <a href="../../manual/transitions">Transitions</a> (i.e. you now use <code><a href="/animancer/api/Animancer/Transition">ClipState.Transition</a></code> instead of <code>ClipState.Serializable</code>).</li>
</ul>
</li>
<li>[Pro-Only] New <a href="#animancer-events">Animancer Event</a> system for general events without needing to use Unity's <a href="../../manual/events/animation">Animation Events</a>:
<ul>
<li>You can specify events per-state instead of per-clip.</li>
<li>You can add events and set callback delegates directly in code without needing to hook up magic strings to public methods.</li>
<li>The <code>AnimancerState.OnEnd</code> callback has moved to <code>AnimancerState.Events.OnEnd</code> and you can optionally specify a time for it instead of always being at the end of the clip.</li>
</ul>
</li>
<li>New <a href="#transition-previews">Transition Preview Window</a> allows you to preview your transitions on your character without entering Play Mode.</li>
<li>Implemented <a href="#mixer-time-synchronisation">Mixer Time Synchronisation</a>.</li>
<li>New <code><a href="/animancer/api/Animancer/PlayableAssetState">PlayableAssetState</a></code> allows you to play <a href="#timeline">Timeline</a> assets in Animancer.</li>
<li>All transition types now have a corresponding <a href="#transition-assets">Transition Asset</a> type.</li>
<li>Added support for Unity 2019.3 (most upgrades are fine, but that one broke a lot of things).</li>
<li>Added <a href="../../examples/fsm/weapons">Weapons</a> example as well as instructions for downloading animations from <a href="../../manual/getting/mixamo">Mixamo</a> and configure their <a href="../../manual/getting/importing">Import</a> settings.</li>
<li>Added a <a href="../../introduction/cs">C# in Unity</a> section to explain the fundamentals of programming in Unity for beginners. <a href="https://github.com/KybernetikGames/animancer/issues/7">#7</a></li>
</ul>
<h1 id="upgrade-guide">Upgrade Guide</h1>
<p>The main public API has been significantly restructured in several ways which will affect all users, so this section will help you fix the errors you get when upgrading a project from an earlier version.</p>
<blockquote class="blockquote">
<p><a href="../../download">Remember to always <strong>delete any older version of Animancer</strong> before upgrading</a>.</p>
</blockquote>
<h2 id="serialized-data">Serialized Data</h2>
<p>Some of the changes to serialized data structures will unfortunately cause certain values to be lost when upgrading so if you were using any of the following things you will need to set them again manually:</p>
<ul>
<li>The <code>AnimancerComponent.StopOnDisable</code> bool was previously serialized by the <code>Animator</code> component itself, but it has now been replaced by the <code><a href="/animancer/api/Animancer/DisableAction">AnimancerComponent.DisableAction</a></code> enum which is serialized in the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> itself (and accessable via the <code>ActionOnDisable</code> property). <code>Stop</code> and <code>Pause</code> correspond to the previous <code>true</code> and <code>false</code>, but there are now several other values too.</li>
<li><code>ClipState.Transition.StartTime</code> (formerly <code>ClipState.Serializable.StartTime</code>) is now always serialized as a normalized time value since the Inspector shows the value as both normalized time and seconds. So if you previously had the value set to seconds, it will now be incorrect.</li>
<li><a href="#mixer-time-synchronisation">Mixer Time Synchronisation</a> is now enabled by default for all mixers so they will give different results to before it was implemented (likely better results).</li>
</ul>
<h2 id="playing-and-fading">Playing and Fading</h2>
<p></p><details><summary>The <code>AnimancerComponent.Play</code>, <code>CrossFade</code>, <code>CrossFadeFromStart</code>, and <code>Transition</code> methods are now all called <code>Play</code>. The <a href="../../manual/playing#play-methods">Playing Animations</a> page explains their differences.</summary>
<p>In <a href="../animancer-v3-1">v3.1</a>, <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> had several overloads each of <code>Play</code>/<code>CrossFade</code>/<code>Transition</code> which were made even more complicated by the presence of default parameters for <code>fadeDuration</code> and <code>layerIndex</code>:</p>
<pre><code class="language-cs">// Old Methods from v3.1:

Play(AnimationClip clip, int layerIndex = 0)
Play(AnimancerState state)
Play(object key)

// Note: replaced "DefaultFadeDuration" with just "Default" to fit everything on one line.
CrossFade(AnimationClip clip,            float fadeDuration = Default, int layerIndex = 0)
CrossFade(AnimancerState state,          float fadeDuration = Default)
CrossFade(object key,                    float fadeDuration = Default)
CrossFadeFromStart(AnimationClip clip,   float fadeDuration = Default, int layerIndex = 0)
CrossFadeFromStart(AnimancerState state, float fadeDuration = Default, int layerIndex = 0)
CrossFadeFromStart(object key,           float fadeDuration = Default, int layerIndex = 0)

Transition(ITransition transition, int layerIndex = 0)
</code></pre>
<p>The various default parameters meant that those methods had a total of 22 parameter combinations, making them rather unwieldy and confusing for new users.</p>
<p>This has been improved in several ways by v4.0:</p>
<ul>
<li>All of those methods are now called <code>Play</code>.</li>
<li>The <a href="#collections">Collections</a> change allowed the <code>layerIndex</code> parameter to be removed (so <code>Play(clip, 1)</code> is now <code>Layers[1].Play(clip)</code>).</li>
<li>The new <code><a href="/animancer/api/Animancer/FadeMode">FadeMode</a></code> enum controls how a fade actually works, which includes the old <code>CrossFadeFromStart</code> functionality and the ability to use the specified <code>fadeDuration</code> as a portion of the clip length rather than raw seconds. See the <code><a href="/animancer/api/Animancer/FadeMode">FadeMode</a></code> API documentation for the details of each value.</li>
<li>This takes it down to only 12 parameter combinations:</li>
</ul>
<pre><code class="language-cs">// New Methods in v4.0:

// Play.
Play(AnimationClip clip)
Play(AnimancerState state)
Play(object key)

// CrossFade and CrossFadeFromStart.
Play(AnimationClip clip,              float fadeDuration, <a href="/animancer/api/Animancer/FadeMode">FadeMode</a> mode = FadeMode.FixedSpeed)
Play(AnimancerState state,            float fadeDuration, <a href="/animancer/api/Animancer/FadeMode">FadeMode</a> mode = FadeMode.FixedSpeed)
Play(object key,                      float fadeDuration, <a href="/animancer/api/Animancer/FadeMode">FadeMode</a> mode = FadeMode.FixedSpeed)

// Transition.
Play(ITransition transition)
// New method allows you to override the fade details of the transition.
Play(ITransition transition, float fadeDuration, <a href="/animancer/api/Animancer/FadeMode">FadeMode</a> mode = FadeMode.FixedSpeed)
</code></pre>
<p>Unfortunately this means it is no longer possible to have a default value for the <code>fadeDuration</code> parameter because skipping that parameter would just use the instant <code>Play(clip)</code> method instead of <code>Play(clip, defaultFadeDuration)</code>. The <code>AnimancerPlayable.DefaultFadeDuration</code> constant still exists though, since it is used in several places such as the default value to use for a <code><a href="/animancer/api/Animancer/Transition">ClipState.Transition</a></code>. Also note that the value is now <code>0.25</code> seconds to match the default Mecanim transition settings (it used to be <code>0.3</code> as the default used by the Legacy animation system).</p>
</details><p></p>
<h2 id="collections">Collections</h2>
<p></p><details><summary>All <a href="../../manual/blending/layers">Layer</a> functionality in <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> has been moved into the new <code>Layers</code> property.</summary>
<table class="table">
<thead>
<tr>
<th>Old (v3.1)</th>
<th>New (v4.0)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>animancer.Play(clip, 1)</code></td>
<td><code>animancer.Layers[1].Play(clip)</code></td>
</tr>
<tr>
<td><code>animancer.LayerCount</code></td>
<td><code>animancer.Layers.Count</code></td>
</tr>
<tr>
<td><code>animancer.GetLayer(1)</code></td>
<td><code>animancer.Layers[1]</code></td>
</tr>
<tr>
<td><code>animancer.SetLayerAdditive(1, true)</code></td>
<td><code>animancer.Layers.SetAdditive(1, true)</code><br><code>animancer.Layers[1].IsAdditive = true</code></td>
</tr>
<tr>
<td><code>animancer.SetLayerMask(1, mask)</code></td>
<td><code>animancer.Layers.SetMask(mask)</code><br><code>animancer.Layers[1].SetMask(mask)</code></td>
</tr>
<tr>
<td><code>AnimancerPlayable.maxLayerCount = 8</code></td>
<td><code>AnimancerPlayable.LayerList.defaultCapacity = 8</code><br><code>AnimancerPlayable.LayerList.SetMinDefaultCapacity(8)</code></td>
</tr>
</tbody>
</table>
<p>In earlier versions the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> class was the only one with access to its <code>GetKey(AnimationClip)</code> method, meaning that it could have a <code>Play(AnimationClip)</code> method where other classes (<code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code> and <code><a href="/animancer/api/Animancer/AnimancerLayer">AnimancerLayer</a></code>) could not because they would not be able to determine what key to look up the state with in the internal dictionary (usually the clip is its own key, but <code><a href="/animancer/api/Animancer/NamedAnimancerComponent">NamedAnimancerComponent</a></code> uses the clip's name so you can call <code>Play("Name")</code>). But Animancer v4.0 gives the <code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code> a reference to its component, so now you can call <code>animancer.Layers[1].Play(clip)</code> as shown above. Also note that this changes the meaning of the default <code>animancer.Play(clip)</code> so that instead of playing the animation on layer 0 it will now leave it on whatever layer it is currently on.</p>
</details><p></p>
<p></p><details><summary>All <a href="../../manual/playing/states">State</a> functionality in <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> has been moved into the new <code>States</code> property.</summary>
<table class="table">
<thead>
<tr>
<th>Old (v3.1)</th>
<th>New (v4.0)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>animancer.CurrentState</code></td>
<td><code>animancer.States.Current</code></td>
</tr>
<tr>
<td><code>animancer.StateCount</code></td>
<td><code>animancer.States.Count</code></td>
</tr>
<tr>
<td><code>animancer.CreateState(clip)</code></td>
<td><code>animancer.Layers[0].CreateState(clip)</code></td>
</tr>
<tr>
<td><code>animancer.GetState(clip)</code><br><code>animancer.GetState("Name")</code></td>
<td><code>animancer.States[clip]</code><br><code>animancer.States["Name"]</code></td>
</tr>
<tr>
<td><code>animancer.GetOrCreateState(clip)</code></td>
<td><code>animancer.States.GetOrCreate(clip)</code></td>
</tr>
<tr>
<td><code>animancer.Dispose(clip)</code></td>
<td><code>animancer.States.Destroy(clip)</code></td>
</tr>
</tbody>
</table>
</details><p></p>
<h2 id="renaming">Renaming</h2>
<table class="table">
<thead>
<tr>
<th>Old Name (v3.1)</th>
<th>New Name (v4.0) and Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>All <code>Serializable</code> classes such as <code>ClipState.Serializable</code></td>
<td><code>Transition</code><br>A more descriptive name. They encapsulate the fade duration, start time, etc. of an animation in much the same way as transitions in an Animator Controller. The fact that they are serializable is less significant.</td>
</tr>
<tr>
<td><code>IAnimancerTransition</code><br><code>IAnimancerTransitionDetailed</code></td>
<td><code><a href="/animancer/api/Animancer/ITransition">ITransition</a></code><br><code><a href="/animancer/api/Animancer/ITransitionDetailed">ITransitionDetailed</a></code><br>They are in the <code>Animancer</code> namespace anyway.</td>
</tr>
<tr>
<td><code>FloatControllerState</code><br><code>Vector2ControllerState</code><br><code>Vector3ControllerState</code></td>
<td><code><a href="/animancer/api/Animancer/Float1ControllerState">Float1ControllerState</a></code><br><code><a href="/animancer/api/Animancer/Float2ControllerState">Float2ControllerState</a></code><br><code><a href="/animancer/api/Animancer/Float3ControllerState">Float3ControllerState</a></code><br>They each wrap a specific number of <code>float</code> parameters, even if they happen to also allow those parameters to be accessed as a <code>Vector2</code> or <code>Vector3</code>.</td>
</tr>
<tr>
<td>Most <code>Dispose</code> methods</td>
<td><code>Destroy</code><br>Removed <code>IDisposable</code> from everything that does not follow regular disposal patterns. It makes no sense to put an <code><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a></code> in a <code>using</code> statement and if you declare a <code>new <a href="/animancer/api/Animancer/ClipState">ClipState</a></code> locally, you do not need to dispose it because it will be cleaned up when the graph is destroyed.</td>
</tr>
<tr>
<td>All of the <code>AnimancerPlayable.StateDictionary.Destroy</code> methods that take collections</td>
<td><code>AnimancerPlayable.StateDictionary.DestroyAll</code><br>To avoid ambiguity.</td>
</tr>
<tr>
<td><code>AnimancerNode.PortIndex</code></td>
<td><code><a href="/animancer/api/Animancer/AnimancerNode/DB78AEB6">AnimancerNode.Index</a></code><br>A simpler name since referring to "ports" was just confusing people anyway.</td>
</tr>
<tr>
<td><code>AnimancerLayer.CurrentStateID</code><br><code>AnimancerPlayable.CurrentStateID</code></td>
<td><code><a href="/animancer/api/Animancer/AnimancerLayer/1393080E">AnimancerLayer.CommandCount</a></code><br><code><a href="/animancer/api/Animancer/AnimancerPlayable/7C4112E5">AnimancerPlayable.CommandCount</a></code><br>A more descriptive name.</td>
</tr>
<tr>
<td><code>IEarlyUpdate</code></td>
<td><code><a href="/animancer/api/Animancer/IUpdatable">IUpdatable</a></code><br>Now contains both <code>EarlyUpdate</code> and <code>LateUpdate</code> methods.</td>
</tr>
<tr>
<td><code>MixerState.AreWeightsDirty</code></td>
<td><code><a href="/animancer/api/Animancer/MixerState/12361DE9">MixerState.WeightsAreDirty</a></code><br>Better phrasing.</td>
</tr>
</tbody>
</table>
<h1 id="features">Features</h1>
<h2 id="improved-transition-inspector">Improved Transition Inspector</h2>
<p>As mentioned above, <code>AnimancerState.Serializable</code> and all its derived classes have been renamed to <code>Transition</code> (see <a href="../../manual/transitions">Transitions</a> for details). But that's not all, they have also received a major upgrade to their Inspector interface:</p>
<table class="table">
<thead>
<tr>
<th>Old (v3.1)</th>
<th>New (v4.0)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[SerializeField]</code><br><code>private ClipState.Serializable _Walk;</code></td>
<td><code>[SerializeField]</code><br><code>private <a href="/animancer/api/Animancer/Transition">ClipState.Transition</a> _Walk;</code></td>
</tr>
<tr>
<td><img src="old-serializable-inspector.png" class="img-responsive"></td>
<td><img src="new-transition-inspector.gif" class="img-responsive"></td>
</tr>
</tbody>
</table>
<p>There are quite a few improvements here:</p>
<ul>
<li>The "eye" button in the top right opens a new window for <a href="#transition-previews">previewing the transition</a>.</li>
<li>Rather than giving the <code>Start Time</code> a <code>Normalized</code> toggle to swap between normalized time and raw seconds, it now simply shows both values side by side so you can edit whichever one you want. This has been applied to the other fields as well.</li>
<li>All relevant fields now display an appropriate suffix to indicate the units ("x" indicates normalized time while "s" indicates raw seconds).</li>
<li><code>Speed</code> now has a toggle to determine if it is actually applied (otherwise the state simply retains whatever speed it had previously).</li>
<li>The new <a href="#animancer-events">Animancer Event</a> system allows the <code>OnEnd</code> callback to have a custom time instead of always being at the exact end of the animation, so that value is made available in the Inspector with a toggle to show a <code>UnityEvent</code> that lets you configure the callback as well.
<ul>
<li>Note that when the <code>End Time</code> toggle is disabled, the value will actually be calculated based on the <code>Speed</code>. When playing forwards the animation will end at <code>NormalizedTime == 1</code>, but when playing backwards it will end at <code>NormalizedTime == 0</code>.</li>
</ul>
</li>
<li>Down the bottom is a visual timeline display of the main parameters:
<ul>
<li>The labels show key times (in seconds, rounded off).</li>
<li>The blue highlighted area represents the fading in and out.</li>
<li>The grey bar down the bottom represents the actual length of the animation.</li>
<li>The button on the right adds an <a href="#animancer-events">Animancer Event</a> which will also be shown in this area.</li>
</ul>
</li>
</ul>
<p>There are also a few changes on the code side:</p>
<ul>
<li>Removed <code>StartTimeIsNormalized</code> and renamed <code>StartTime</code> to <code>NormalizedStartTime</code>. It always saves the normalized time value regardless of which one you set in the Inspector.</li>
<li><code>Speed</code> can now be set to <code>NaN</code> to prevent it from changing the existing value (this is what disabling the Inspector toggle does to any of the fields).</li>
</ul>
<h2 id="transition-previews">Transition Previews</h2>
<p>The "eye" button in the top right of each <a href="../../manual/transitions">Transition</a> in the Inspector opens a window for <a href="../../manual/transitions#previews">previewing the transition</a> so you can fine tune its details and see what your model looks like without needing to enter Play Mode.</p>
<p><img src="transition-preview.gif" class="img-responsive"></p>
<h2 id="transition-assets">Transition Assets</h2>
<p>All transition types now have a corresponding <a href="../../manual/transitions/types#transition-assets">Transition Asset</a> (a <code>ScriptableObject</code> with a single field for that transition type):</p>
<ul>
<li><code><a href="/animancer/api/Animancer/AnimancerTransition">AnimancerTransition</a></code> is now the non-generic base class for transition assets.</li>
<li>Added transition assets for all transition types using the naming convention that <code>XXXTransition</code> has a <code>XXXState.Transition</code> (which will create a <code>XXXState</code> when played). For example, a <code><a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a></code> holds a <code><a href="/animancer/api/Animancer/Transition">ClipState.Transition</a></code>.</li>
<li>Any references to <code><a href="/animancer/api/Animancer/AnimancerTransition">AnimancerTransition</a></code> from previous versions are equivalent to the new <code><a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a></code>, however you may wish to leave fields as they are so that any transition asset can be assigned if you aren't doing anything specific to <code><a href="/animancer/api/Animancer/Transition">ClipState.Transition</a></code>s. Any previously created assets will be automatically changed to the new type.</li>
<li><code><a href="/animancer/api/Animancer/AnimancerTransition">AnimancerTransition</a></code> no longer exposes the properties of the <code>Transition</code> (except for those required by <code><a href="/animancer/api/Animancer/ITransition">ITransition</a></code>) so instead of <code>transitionAsset.Clip</code> you now need to use <code>transitionAsset.Transition.Clip</code>. This greatly simplifies its implementation as well as the implementation of all derived classes and makes it clearer that modifications are being applied to an object which may be shared.</li>
<li><code>AnimancerTransition.Transition</code> now has a comment warning that the <code>transition.State</code> can only hold one value even though multiple states could have been created on different objects from that same transition.</li>
</ul>
<h2 id="animancer-events">Animancer Events</h2>
<p>Animancer has always supported Unity's inbuilt <a href="../../manual/events/animation">Animation Events</a>, but they have several notable drawbacks which are avoided by the new event system:</p>
<ul>
<li>The <a href="../../manual/events">Events</a> page explains the differences between the two systems.</li>
<li>Animancer Events are primarily configured in the Inspector as part of <a href="../../manual/transitions">Transitions</a> to make use of the new <a href="#transition-previews">Transition Preview</a> system:</li>
</ul>
<p><img src="animancer-event-inspector.gif" class="img-responsive"></p>
<ul>
<li>They can also be configured in code:</li>
</ul>
<pre><code class="language-cs">// MeleeAttack.cs:

[SerializeField] private <a href="/animancer/api/Animancer/Transition">ClipState.Transition</a> _Animation;

private void Awake()
{
    // Make sure it has the expected number of events.
    Debug.Assert(_Animation.Events.Count == 2, "Expected 2 events for the hit start and end");

    // <a href="/animancer/api/Animancer/Sequence">AnimancerEvent.Sequence</a> always sorts itself so we know the start will be before the end.
    _Animation.Events.Set(0, OnHitStart);// Set the callback for event 0.
    _Animation.Events.Set(1, OnHitEnd);// Set the callback for event 1.

    _Animation.Events.OnEnd = Creature.EnterIdleState;
}

public void Attack()
{
    Creature.Animancer.Play(_Animation);
}
</code></pre>
<ul>
<li>Every event sequence has a separate <a href="../../manual/events/end#events">End Event</a> which takes the place of the old <code>AnimancerState.OnEnd</code> callback and allows a custom time to be specified instead of always occuring at the very end of the animation.</li>
<li><a href="../../manual/events/end#events">End Events</a> are included in <a href="/animancer/lite">Animancer Lite</a>, but the ability to set a custom end time and use other events is only available in the Unity Editor unless you purchase <a href="/animancer/pro">Animancer Pro</a>.</li>
<li>As with <a href="../../manual/events/end#events">End Events</a> prior to Animancer v4.0, all events are cleared (and returned to the <code><a href="/animancer/api/Animancer/ObjectPool">ObjectPool</a></code>) whenever a new animation is played. See <a href="../../manual/events/animancer#clear-automatically">Clear Automatically</a> for details.</li>
<li>By default, this system uses <code>UnityEvent</code>s to define the event callbacks in the Inspector. However, it can be modified to use any other similar type of events. In particular, changing it to use <a href="https://kybernetik.com.au/ultevents">UltEvents</a> only takes <a href="../../manual/events/animancer#ultevents">a few simple steps</a>.</li>
</ul>
<h2 id="mixer-time-synchronisation">Mixer Time Synchronisation</h2>
<ul>
<li><a href="../../manual/blending/mixers">Mixer States</a> can now synchronise the times of their children.
<ul>
<li>It's not quite as advanced as the proper <a href="../../manual/blending/mixers#blend-trees-vs.mixers">Foot Phase Synchronisation</a> used in Blend Trees which analyses the strides the character makes so that it can better synchronise animations with non-uniform timings such as when walking with a limp or an animation that includes multiple walk cycles.</li>
<li>But it does have one major advantage: you actually get to control it so you can choose which animations are synchronised.</li>
<li>It's on by default and can be disabled for individual children using the <code>SynchroniseChildren</code> array.</li>
<li>This advantage can be seen in the <a href="../../examples/locomotion/linear-blending">Linear Blending</a> example. Enabling synchronisation on all animations gives the same result as the Blend Tree, meaning that the blending between <em>Idle</em> and <em>Walk</em> gives a much slower shuffle than it should. But disabling synchronisation on the <em>Idle</em> gives a much better result because there's no need for consistency between the timing of those two animations.</li>
</ul>
</li>
<li><code><a href="/animancer/api/Animancer/MixerState/878ADD5A">MixerState.IsLooping</a></code> now returns true if any child state is looping.</li>
</ul>
<p><img src="mixer-sync-no-idle.gif" class="img-responsive"></p>
<h2 id="timeline">Timeline</h2>
<ul>
<li>Added <code><a href="/animancer/api/Animancer/PlayableAssetState">PlayableAssetState</a></code> for playing <code>PlayableAsset</code>s.</li>
<li>Added an introduction sequence to the <a href="../../examples/state/machines/platformer">Platformer</a> example. This allows the sequence of animations to be configured using the Timeline window and then played as if it were a single animation.</li>
</ul>
<p><img src="platformer-intro.gif" class="img-responsive"></p>
<p><img src="timeline.png" class="img-responsive"></p>
<h1 id="changes">Changes</h1>
<ul>
<li>Replaced <code>AnimancerComponent.StopOnDisable</code> with <code>ActionOnDisable</code> which is a <code><a href="/animancer/api/Animancer/DisableAction">AnimancerComponent.DisableAction</a></code> enum with <code>Stop</code> and <code>Pause</code> corresponding to the previous <code>true</code> and <code>false</code> as well as several new values.</li>
<li><code>AnimancerState.Transition.State</code> is now the state most recently passed into <code>Apply</code> (backed by the un-cast <code>BaseState</code>) so they can be more easily used on multiple objects.
<ul>
<li>Overrides of <code>CreateState</code> no longer need to manually set the <code><a href="/animancer/api/Animancer.FSM/State">State</a></code>.</li>
</ul>
</li>
<li>Changed <code>HybridAnimancerController.PlayController</code> to return its <code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code>.</li>
<li><code><a href="/animancer/api/Animancer/Transition">ControllerState.Transition</a></code> now uses itself as the key instead of the controller in case something else happens to use the same controller with a different set of parameters.</li>
<li><code>AnimancerLayer.CreateState</code> now properly sets the <code><a href="/animancer/api/Animancer/AnimancerState/44AF9D9B">AnimancerState.Key</a></code>.</li>
<li>Added a <code><a href="/animancer/api/Animancer/Validate">Validate</a></code> class for all the validation methods and Lite restrictions.
<ul>
<li><code>Validate.FadeDuration</code> now allows 0 in Animancer Lite.</li>
<li>All general validation is now conditional based on the <code>UNITY_ASSERTIONS</code> symbol (in the Unity Editor, Development Builds, and Animancer Lite).</li>
</ul>
</li>
<li>Changed <code>AnimancerState.IsPlayingAndNotEnding</code> to not try to look ahead one frame because it was only using the delta time from the previous frame so it was unreliable at best and wouldn't even be using the right type of delta time for <code>AnimatePhysics</code> or <code>UnscaledTime</code>. But it does now account for the new End Event time.</li>
<li>Changed the Inspector display of <code>"Dirty Early Nodes"</code> to <code>"Updatables"</code>.</li>
<li>Moved <code>AnimancerNode.IsPlaying</code> to <code><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a></code> since layers do not need it.</li>
<li>Added <code>AnimancerState.NewTime</code> which only gets called when the <code>Time</code> is actually changed and is virtual.
<ul>
<li>Added a minor optimisation in the setter to only cast the value to <code>double</code> once.</li>
<li>Moved time caching from <code><a href="/animancer/api/Animancer/ClipState">ClipState</a></code> to the base <code><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a></code> so it can be used by all states.</li>
<li>Added a non-NaN assertion to the <code><a href="/animancer/api/Animancer/AnimancerState/840B3EB1">AnimancerState.Time</a></code> setter.</li>
<li><code><a href="/animancer/api/Animancer/ManualMixerState">ManualMixerState</a></code> overrides <code>NewTime</code> to access the weighted average <code>Time</code> of all child states.</li>
<li><code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code> overrides <code>NewTime</code> to access the <code>StateInfo.normalizedTime</code>.</li>
</ul>
</li>
<li>Removed <code>AnimancerState.NormalizedSpeed</code> because it was not really that useful and got in the way of auto-correct suggesting <code>NormalizedTime</code>. The getter was simply <code>Speed / Length</code> and the setter <code>Speed = value * Length</code>.</li>
<li>Refactored the system for checking if an <code>AnimationClip</code> has an Animation Event with a particular name:
<ul>
<li>Moved the static <code>ClipState.HasEvent</code> to <code><a href="/animancer/api/Animancer/AnimancerUtilities">AnimancerUtilities</a></code>.</li>
<li>Added an overload that takes an <code><a href="/animancer/api/Animancer/IAnimationClipCollection">IAnimationClipCollection</a></code>.</li>
<li>Removed the abstract <code>AnimancerState.HasEvent</code>.</li>
<li><code><a href="/animancer/api/Animancer/AnimationEventReceiver">AnimationEventReceiver</a></code> now uses <code><a href="/animancer/api/Animancer/AnimancerUtilities/9FBCB86A">AnimancerUtilities.HasEvent(IAnimationClipCollection, string)</a></code> so that each state doesn't need to manually iterate through all its clips.</li>
</ul>
</li>
<li>Changed <code>StateBehaviour.Reset</code> to <code>OnValidate</code> so it always enforces its rule.</li>
<li>Replaced the custom transition context menus with the standard serialized property context menu:
<ul>
<li>It now displays the size of the serialized Animancer Event arrays.</li>
</ul>
</li>
<li>Made several <code><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a></code> members virtual instead of abstract: <code>AverageVelocity</code>, <code>ApplyAnimatorIK</code>, <code>ApplyFootIK</code>.</li>
<li>Added Assembly Definitions for <code>Animancer.FSM</code> and <code>Animancer.Examples</code> to make sure the <code>FSM</code> system is entirely separate.</li>
<li>Removed null checks from <code>AnimancerPlayable.Play(animator, playable, component)</code> so it will now throw exceptions if the parameters are null.</li>
<li><code><a href="/animancer/api/Animancer.Editor/BoolPref">BoolPref</a></code> can now take a custom key prefix.
<ul>
<li>Added prefixes to all prefs.</li>
</ul>
</li>
</ul>
<h1 id="improvements">Improvements</h1>
<ul>
<li><code>AnimancerComponent.InitialisePlayable</code> will now try using <code>GetComponent</code> if it has no <code>Animator</code> reference and throw an exception if one still isn't found.</li>
<li><code><a href="/animancer/api/Animancer/NamedAnimancerComponent">NamedAnimancerComponent</a></code> now avoids initialising its <code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code> in <code>Awake</code> if it has no animations.</li>
<li>Improved the output setup of <code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code>:
<ul>
<li>Removed the exception for initialising without an <code>Animator</code>.</li>
<li>Renamed the static <code>Play</code> methods  to <code>SetOutput</code> and made them non-static.</li>
<li>Calling <code>SetOutput</code> multiple times will now destroy the old <code>PlayableOutput</code> so it does not cause errors in Unity 2019.3+ and you can change the <code>Animator</code> properly.</li>
</ul>
</li>
<li>Improved <code><a href="/animancer/api/Animancer/ITransition">ITransition</a></code>:
<ul>
<li>It now implements a <code><a href="/animancer/api/Animancer/FadeMode">FadeMode</a></code> directly instead of <code>bool CrossFadeFromStart</code>.</li>
<li><code>Play(transition)</code> no longer tries to calculate the fade out duration. If you want to do that, you need to call <code>AnimancePlayable.GetFadeOutDuration</code> and pass it into <code>Play(transition, duration, mode)</code>.</li>
<li>Moved the main part of <code>AnimancerPlayable.GetFadeOutDuration</code> to <code><a href="/animancer/api/Animancer/AnimancerEvent">AnimancerEvent</a></code>, leaving behind only the part specific to Animation Events with the function name "End".</li>
</ul>
</li>
<li><code>ClipState.Transition.Apply</code> now applies a default start time based on the speed if the <code>state.Weight == 0</code>. Same for <code><a href="/animancer/api/Animancer/PlayableAssetState">PlayableAssetState</a></code> transitions.</li>
<li><code><a href="/animancer/api/Animancer/AnimancerState/617EFC91">AnimancerState.NormalizedTime</a></code> now returns 0 if <code>Length</code> is 0.</li>
<li><code><a href="/animancer/api/Animancer/AnimancerState/BAA47882">AnimancerState.Duration</a></code> now sets the speed to infinity if the value is set to 0.</li>
<li>The <code><a href="/animancer/api/Animancer/AnimancerNode/2CE1FB39">AnimancerNode.Speed</a></code> and <code>Weight</code> setters now assert that the value is not NaN.</li>
<li>Added <code>Restore Bind Pose</code> context menu function to <code>Animator</code> components.</li>
<li>The "Threshold" header in the Mixer Inspector is now a dropdown menu which lists all the threshold calculation functions. <a href="https://github.com/KybernetikGames/animancer/issues/12">#12</a></li>
<li>Adding a <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code> to an object with an <code>AnimatorController</code> assigned to its <code>Animator</code> will now assign that controller to the animancer instead of only clearing it.</li>
<li>Removed unnecessary calls to <code>SetInputCount</code> and <code>SetInputWeight</code> during <code>AnimancerPlayable.OnPlayableCreate</code>.</li>
<li>Minor optimisation in <code>AnimancerNode.ApplyWeight</code>.</li>
<li>Added Asset Labels to most assets.</li>
<li>Added <code><a href="/animancer/api/Animancer/IAnimationClipCollection">IAnimationClipCollection</a></code> which takes an <code>ICollection</code> instead of a <code>List</code> so it can use <code>HashSet</code>s to efficiently avoid duplicates.
<ul>
<li>All <code>Transition</code>s now implement <code><a href="/animancer/api/Animancer/IAnimationClipCollection">IAnimationClipCollection</a></code>.</li>
<li>Added various <code>Gather</code> methods to <code><a href="/animancer/api/Animancer/AnimancerUtilities">AnimancerUtilities</a></code>.</li>
<li>Moved the reflection based clip gathering system from <code><a href="/animancer/api/Animancer.Editor/AnimancerEditorUtilities">AnimancerEditorUtilities</a></code> into a dedicated <code><a href="/animancer/api/Animancer.Editor/AnimationGatherer">AnimationGatherer</a></code> class and improved its reliability.</li>
<li>It now finds the character's root object using the prefab root or by counting the number of <code>Animator</code>s below each parent. An object with more <code>Animator</code>s is assumed to be the parent of multiple characters, so the previous object is the root. Once it finds the root, it gathers animations from the child components of that object.</li>
<li>Added <code><a href="/animancer/api/Animancer/ICharacterRoot">ICharacterRoot</a></code> for components to manually specify which object is the root.</li>
</ul>
</li>
<li>Added <code>AnimancerStateDictionary.Destroy</code> methods for collections and <code>IAnimationClipSource</code>.</li>
<li>The <code>Find Animations</code> context menu function for <code><a href="/animancer/api/Animancer/DirectionalAnimationSet">DirectionalAnimationSet</a></code>s now properly supports undo commands.</li>
<li>Added <code>AnimancerUtilities.Wrap01</code> extension method as a more efficient implementation of <code>Mathf.Repeat(value, 1)</code>.</li>
<li>Reorganised the Inspector context menus.</li>
<li>Removed <code>AnimancerState.HasLength</code>. All states must now return a valid <code>Length</code> (even if it is 0).
<ul>
<li>Added <code>ManualMixerState.Length</code> which is calculated as the weighted average of the lengths of each of its children.</li>
</ul>
</li>
<li>Added <code><a href="/animancer/api/Animancer/ControllerState/C9CAD0EB">ControllerState.StateInfo</a></code> to return either the current or next state depending on whether a transition is active.
<ul>
<li><code>Length</code> and <code>IsLooping</code> now use the <code>StateInfo</code>.</li>
<li>Removed <code>ControllerState.Drawer.DisplayStateInfo</code>, <code>DisplayTime</code>, <code>DisplayLength</code>, and <code>SetTime</code> since they are now unnecessary.</li>
</ul>
</li>
<li>Added <code>[&lt;see cref="SerializeField"/&gt;]</code> tags to the start of comments for all properties that directly wrap serialized fields.</li>
<li><code>StateMachine.CanSetState</code> now returns true if the parameter is <code>null</code> since the other methods support nulls.</li>
<li>The <code><a href="/animancer/api/Animancer.Editor/ReadMe">ReadMe</a></code> now includes the Animancer Version in its name to better detect if the user did not delete a previous version before updating (since Unity's package importer will overwrite old files but not rename them).</li>
</ul>
<h1 id="fixes">Fixes</h1>
<ul>
<li>Fixed various issues in Unity 2019.3:
<ul>
<li>Fixed the preview icon to use a different texture since the old one seems to be missing.</li>
<li>Fixed <code>AnimancerGUI.DoOptionalTimeField</code>.</li>
<li>Fixed the event drawer foldout.</li>
<li>Fixed Inspector Error on the <code><a href="/animancer/api/Animancer/NamedAnimancerComponent">NamedAnimancerComponent</a></code>.</li>
<li>Fixed import warnings from the Spider Bot model due to multiple objects having the same name.</li>
<li>Added a workaround so the base <code><a href="/animancer/api/Animancer.Editor/TransitionDrawer">TransitionDrawer</a></code> does not take proprity over its more specific children (only happens in a DLL).</li>
</ul>
</li>
<li>Added <code>DummyObjectDrawer</code> as a fallback custom Inspector for any <code>Object</code> ... which does nothing (the class literally just inherits from <code>UnityEditor.Editor</code> and has no members). For some reason Unity executes <code>PropertyDrawer</code>s differently in the default Inspector than it does in a custom Inspector (even an empty one) and that difference causes the <code><a href="/animancer/api/Animancer.Editor/TimeRuler">TimeRuler</a></code> to not display properly without a custom Inspector. Since it is set as a fallback, any other custom Inspector should automatically override it, but if not you can simply delete <code>Animancer/Internal/Editor Utilities/Inspector/DummyObjectEditor.cs</code>.</li>
<li>Fixed <code>FadeMode.FromStart</code> to work properly with the <code>fadeDuration</code> set to 0.</li>
<li>Fading now accounts for the speed of the parent nodes.</li>
<li>Fixed <code>ControllerState.GatherDefaultStates</code> to properly gather the state for layer 0.</li>
<li>Fixed transitions to use the correct label for the main property in Unity 2018.3+.</li>
<li>Fixed <code>ManualMixerState.Transition.CreateState</code> to properly call <code>Initialise</code> to create its states.</li>
<li>Removed the functionality to update animations in Edit Mode from Unity 2018.3+ because Unity now does it automatically.</li>
<li>Fixed the Edit Mode update loop to not throw exceptions when an object is destroyed.</li>
<li>Calling <code>AnimancerState.SetParent</code> with an already occupied port will now leave the state properly disconnected as it fails.</li>
<li>Fixed <code><a href="/animancer/api/Animancer/AnimancerPlayable/FEFD6C35">AnimancerPlayable.KeepChildrenConnected</a> = true</code> to work properly.</li>
<li>Fixed the <code>AnimancerStateDrawer</code> progress bars to be properly visible in the Dark Theme and changed the colors to be a bit stronger overall.</li>
<li>The <code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code> finalizer will no longer destroy the graph automatically while in Play Mode since that would mean a runtime warning anyway.</li>
<li><code><a href="/animancer/api/Animancer/AnimancerState/BAA47882">AnimancerState.Duration</a></code> now returns <code>PositiveInfinity</code> from the getter if <code>Speed</code> is 0 and throws an <code>ArgumentException</code> is setting the value to 0.</li>
<li><code><a href="/animancer/api/Animancer/AnimancerState/87E41C92">AnimancerState.RemainingDuration</a></code> now respects looping/not and custom end times.</li>
<li>Fixed the 2D mixer states to round children with <code>weight &lt; 0.01f</code> to 0. Otherwise they often get very small weights and still trigger Animation Events.</li>
<li><code>PlayableGraph</code>s created in Edit Mode are now destroyed properly if the target Animator is destroyed.</li>
<li>Added comments explaining that when <code>OnAnimatorIK</code> is called the layer index parameter will always be zero (a limitation of the Playables API).</li>
<li>Replaced all usage of <code>EditorStyles.label</code> with <code>GUI.skin.label</code> since they are slightly different in some Unity versions and the latter is the default used by <code>GUI.Label</code>.</li>
<li>Fixed the <code>End Event/Clear</code> context menu function to be disabled when the time is not set.</li>
<li><code>Ctrl + Click</code> on a state in the Inspector now unpauses the graph as well as fading to that state.</li>
<li>Fixed <code><a href="/animancer/api/Animancer/Float3ControllerState">Float3ControllerState</a></code> to show all of its parameters in the Inspector rather than only the first two.</li>
</ul>
<h1 id="examples">Examples</h1>
<ul>
<li>Added <a href="../../examples/fsm/weapons">Weapons</a> which uses the new instructions for downloading animations from <a href="../../manual/getting/mixamo">Mixamo</a> and configure their <a href="../../manual/getting/import">Import</a> settings.</li>
<li>Improved the <code><a href="/animancer/api/Animancer.Editor/ReadMe">ReadMe</a></code>:
<ul>
<li>It now lists all example scenes for easy navigation.</li>
<li>Improved the Inspector layout and added descriptions of each of the support links.</li>
<li>It now includes the Animancer Version in its name to better detect if the user did not delete a previous version before updating (since Unity's package importer will overwrite old files but not rename them).</li>
</ul>
</li>
<li>Renamed <code>Simple Playing</code> to <a href="../../examples/basics/quick-play">Quick Play</a>.</li>
<li>Added <a href="../../examples/animator-controllers/basics">Hybrid Basics</a> to demonstrate the <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code> in a simple situation without the complexity of a full state machine in <a href="../../examples/animator-controllers/mini-game">Hybrid Mini Game</a>.</li>
<li>Improved <a href="../../examples/basics/sequence-coroutine">Sequence Coroutine</a>:
<ul>
<li>It now uses the new custom end time system rather than needing a <code><a href="/animancer/api/Animancer/Transition">ClipState.Transition</a></code> subclass with its own <code>PlayDuration</code> field.</li>
<li>Added assertions for reliability.</li>
</ul>
</li>
<li>Improved <a href="../../examples/fine-control/spider-bot">Spider Bot</a> and <a href="../../examples/locomotion/directional-blending">Directional Blending</a>:
<ul>
<li>They now use a shared <code><a href="/animancer/api/Animancer.Examples.FineControl/SpiderBot">SpiderBot</a></code> base class and demonstrate polymorphism.</li>
<li><code><a href="/animancer/api/Animancer.Examples.Locomotion/SpiderBotAdvanced">SpiderBotAdvanced</a></code> now follows the mouse cursor so it can truly move in any direction rather than being limited to 8 directions with WASD.</li>
<li>Cleaned up the animation names to match the same convention as others.</li>
</ul>
</li>
<li>Improved <a href="../../examples/locomotion/root-motion">RootMotion</a>:
<ul>
<li>It now overrides <code>Transition.Apply</code> to set the root motion flag so the caller doesn't need to do it.</li>
<li>It now has some extra fields to specify another object to apply the root motion to.</li>
</ul>
</li>
<li><a href="../../examples/locomotion/linear-blending">Linear Blending</a> now uses <a href="#transition-assets">Transition Assets</a>.</li>
<li><a href="../../examples/directional-sprited/basic-movement">Basic Movement</a> now uses a serialized field so its initial facing directioncan be set in Edit Mode and it now has a dedicated Play method which takes a <code><a href="/animancer/api/Animancer/DirectionalAnimationSet">DirectionalAnimationSet</a></code> instead of calling<code>GetClip</code> in each location it wants to play something.</li>
<li>Renamed the "Animation Events" group to <a href="../../examples/events">Events</a> (since they now demonstrate Animancer Events as well).</li>
<li>Renamed "Simple and End Events" to <a href="../../examples/events/golf">Golf Events</a> and updated it to demonstrate regularAnimation Events, a <code><a href="/animancer/api/Animancer/SimpleEventReceiver">SimpleEventReceiver</a></code>, Animancer Events defined in the Inspector, and Animancer Events with their times se in the Inspector and callbacks set in code.</li>
<li>Renamed "Other Events" to <a href="../../examples/events/footsteps">Footstep Events</a> and reordered it to come before "Golf Events".
<ul>
<li>It now includes Animancer Events and much more detail about how to set everything up.</li>
</ul>
</li>
<li><a href="../../examples/fsm/more-brains">More Brains</a> now enables and disables the brains in code when swapping them instead of using the <code>UnityEvent</code>s on the UI Buttons. <a href="https://github.com/KybernetikGames/animancer/issues/10">#10</a></li>
<li>Improved <a href="../../examples/fsm/platformer">Platformer</a>:
<ul>
<li>Added an introduction sequence using <a href="#timeline">Timeline</a>.</li>
<li>Jumping now uses a specific target height rather than an arbitrary amount of force.</li>
<li>It now allows the player to jump higher by holding the button longer.</li>
<li>Reviving the character now plays the death animation backwards.</li>
</ul>
</li>
<li>Improved the <a href="../../examples/ik">Inverse Kinematics</a> examples:
<ul>
<li>Changed <code>StartingPositions</code> to <code><a href="/animancer/api/Animancer.Examples.InverseKinematics/TransformResetter">TransformResetter</a></code> and it now resets rotations as well.</li>
<li>Improved <code><a href="/animancer/api/Animancer.Examples.InverseKinematics/RaycastFootIK">RaycastFootIK</a></code> to account for the foot rotation when calculating the raycast diration.</li>
</ul>
</li>
<li><a href="../../examples/animator-controllers/mini-game">Hybrid Mini Game</a> now has the character walk into and out of the mini game rather than teleporting.</li>
<li>Improved <a href="../../examples/animator-controllers/3d-game-kit">3D Game Kit</a>:
<ul>
<li>It is now based on the 3D Game Kit Lite since the full version is a massive pain to download and import. <a href="https://github.com/KybernetikGames/animancer/issues/11">#11</a></li>
<li>It now shows which system (Animancer or Mecanim) is active and lets you swap between them with keyboard controls instead of UI  Buttons.</li>
<li>It now uses custom end times as part of each transition rather than End Animation Events or separate end time fields.</li>
<li>The root object is now separate from the model with <code>RootMotionRedirect</code> passing on the root motion.</li>
<li><code><a href="/animancer/api/Animancer.Examples.AnimatorControllers.GameKit/AirborneState">AirborneState</a></code> and <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers.GameKit/LandingState">LandingState</a></code> now use Mixers instead of Blend Trees since they are more convenient to use and can give the  same result now that time synchronisation has been implemented.</li>
<li>Added <code><a href="/animancer/api/Animancer.Examples.AnimatorControllers.GameKit/FlinchState">FlinchState</a></code> and <code>DieState</code>.</li>
<li>Attacks can how kill enemies and destroy objects and do not use a custom transition class.</li>
<li>Removed the copy of <code>RandomAudioPlayer</code> and used <code>UnityEvent</code>s to access the existing script.</li>
<li>Removed the copy of <code>AttackTrail</code> and used <code>UnityEvent</code>s to access the existing <code>TimeEffect</code> script.</li>
</ul>
</li>
<li>Added <code>[DefaultExecutionOrder]</code> attributes to all <code>Creature</code> examples as well as comments in <code>Awake</code> to reinforce its importance.</li>
</ul>
<h1 id="internal">Internal</h1>
<ul>
<li>Added 150+ unit tests using the <a href="https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index">Unity Test Framework</a>. The tests are not planned for release so they will not directly matter to users, but they will help reduce the possibility of bugs making it to release.</li>
<li>Changed <code>AnimancerNode.Stop</code> from <code>abstract</code> to <code>virtual</code> so it can set <code>Weight = 0</code> by default since both <code><a href="/animancer/api/Animancer/AnimancerLayer">AnimancerLayer</a></code> and <code><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a></code> did so.</li>
<li>Moved the functionality to constantly repaint in Edit Mode from the manual update loop to <code>AnimancerPlayableEditor.RequiresConstantRepaint</code>.</li>
<li>Split <code>AnimancerPlayableEditor</code> into <code><a href="/animancer/api/Animancer.Editor/BaseAnimancerComponentEditor">BaseAnimancerComponentEditor</a></code> and <code><a href="/animancer/api/Animancer.Editor/AnimancerPlayableDrawer">AnimancerPlayableDrawer</a></code> to the preview window can draw its <code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code> without actually having an <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code>.</li>
<li>Moved <code><a href="/animancer/api/Animancer/FastComparer">FastComparer</a></code> out of <code><a href="/animancer/api/Animancer/AnimancerPlayable">AnimancerPlayable</a></code>.</li>
<li>Changed <code>AnimancerLayer.DestroyStates</code> and <code>ManualMixerState.DestroyChildren</code> to iterate in reverse order.</li>
<li>Moved <code>AnimancerEditorUtilities.GUIStyles</code> out to <code><a href="/animancer/api/Animancer.Editor/AnimancerGUI">AnimancerGUI</a></code> and moved all GUI utilities there.
<ul>
<li>Renamed <code>GetLayoutRect</code> to <code>LayoutSingleLineRect</code>.</li>
<li>Added <code>padding</code> parameter to <code>StealFromLeft</code> and <code>StealFromRight</code>.</li>
</ul>
</li>
<li>Changed parameter references in comments to use the `grave accent` instead of 'single quotes'.</li>
<li>Added <code>ConversionCache</code> to replace various other caching systems throughout Animancer.</li>
<li>Added <code>TemporarySettings</code> for storing information between assembly reloads without needing to save it when Unity closes.
<ul>
<li>Currently it is used to store details about which Animancer Events are selected in the Inspector.</li>
<li>Added <code><a href="/animancer/api/Animancer/ITransitionDetailed">ITransitionDetailed</a> : <a href="/animancer/api/Animancer/ITransition">ITransition</a></code> to expose additional details for previewing.</li>
</ul>
</li>
<li>Added <code><a href="/animancer/api/Animancer/Key">Key</a></code> and <code>Key.KeyedList</code>:
<ul>
<li>Changed <code><a href="/animancer/api/Animancer/AnimancerNode">AnimancerNode</a></code> to inherit from <code><a href="/animancer/api/Animancer/Key">Key</a></code> and replaced the dirty node update list with a keyed list which greatly cleans up that part of the system.</li>
<li>Changed <code>IEarlyUpdate</code> into <code><a href="/animancer/api/Animancer/IUpdatable">IUpdatable</a></code> which implements <code>IKeyHolder</code> and replaced its list with a keyed list as well.</li>
<li>Removed the <code>needsMoreUpdates</code> parameter from <code>IUpdatable.Update</code> since they can be immediately removed at any time by <code>AnimancerPlayable.CancelUpdate</code>.</li>
</ul>
</li>
<li>Added a simple <code><a href="/animancer/api/Animancer/ObjectPool">ObjectPool</a></code> system to allow easy reuse of objects. If you want a more powerful general purpose system, check out <a href="https://kybernetik.com.au/weaver">Weaver</a>.</li>
<li>Refactored the <code>AppendDescription</code> system in the core classes to be cleaner and produce better descriptions.</li>
<li>Added <code><a href="/animancer/api/Animancer.Editor/Serialization">Serialization</a></code> class which contains various utilities relating to serialization:
<ul>
<li><code><a href="/animancer/api/Animancer.Editor/PropertyAccessor">Serialization.PropertyAccessor</a></code> allows access to the underlying object of a <code>SerializedProperty</code>.</li>
<li><code><a href="/animancer/api/Animancer.Editor/ObjectReference">Serialization.ObjectReference</a></code> acts as a stronger serializable reference to a <code>UnityEngine.Object</code>. A simple <code>Object</code> field can lose its value under certain circumstances even if the referenced object still exists, for example when entering Play Mode.</li>
<li><code><a href="/animancer/api/Animancer.Editor/PropertyReference">Serialization.PropertyReference</a></code> is a serializable reference to a <code>SerializedProperty</code>.</li>
</ul>
</li>
<li>Moved the custom GUI for the <code>Start Time</code> and <code>Speed</code> fields to the base <code><a href="/animancer/api/Animancer.Editor/TransitionDrawer">TransitionDrawer</a></code>.</li>
<li>All calls to <code>EditorGUI.Foldout</code> now set <code>EditorGUIUtility.hierarchyMode = true</code> to ensure that the arrow gets the correct indentation.</li>
</ul>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <strong><div style="text-align:left; display:flex">

<div>
<p>Documentation</p>
<p><a href="/animancer/docs/examples">Examples</a></p>
<p><a href="/animancer/docs/manual">User Manual</a></p>
<p><a href="/animancer/docs/changes">Change Log</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Download</p>
<p><a href="https://kybernetik.itch.io/animancer-pro">Itch.io (Recommended)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-pro-116514?aid=1100l8ah5">Asset Store (Animancer Pro)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516?aid=1100l8ah5">Asset Store (Animancer Lite)</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Contact</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues">Github Issues</a></p>
<p><a href="/animancer/forum">Unity Forum</a></p>
<p><a href="mailto:animancer@kybernetik.com.au?subject=Animancer">Email</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Other Assets</p>
<p><a href="/inspector-gadgets">Inspector Gadgets</a></p>
<p><a href="/weaver">Weaver</a></p>
<p><a href="/ultevents">UltEvents</a></p>
</div>

</div></strong>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>