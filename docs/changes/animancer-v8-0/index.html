<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - Animancer v8.0</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/introduction/features"><img src="/animancer/images/icons/features.png" height="20px" width="20px" style="left:-7px"> Features</a></li>
        <li><a href="/animancer/docs/download"><img src="/animancer/images/icons/download.png" height="20px" width="20px" style="left:-7px"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/icons/docs.png" height="20px" width="7.5px" style="left:-5px"> Documentation</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/icons/help.png" height="20px" width="10.625px" style="left:-4px"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/icons/api.png" height="20px" width="18.125px" style="left:-3px"> API v8.0</a></li>
        <li><a href="https://kybernetik.com.au"><img src="/animancer/images/icons/kybernetik.png" height="20px" width="20px" style="left:-2px"> Other Assets</a></li>

<li style="width:100%">
<form class="search-form" name="search" action="/animancer/search">
<span><input class="search-input" id="search" name="q" type="text" placeholder="Search..."></span>
<div class="search-button"><button type="submit"><i class="fa fa-search"></i></button></div>
</form>
</li> 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#upgrade-guide">Upgrade Guide</a></p>
<p><a href="#major-features">Major Features</a></p>
<p><a href="#transition-libraries">Transition Libraries</a></p>
<p><a href="#weighted-mask-layers">Weighted Mask Layers</a></p>
<p><a href="#string-references-and-assets">String References and Assets</a></p>
<p><a href="#animancer-events">Animancer Events</a></p>
<p><a href="#parameters">Parameters</a></p>
<p><a href="#fade-groups">Fade Groups</a></p>
<p><a href="#live-inspector">Live Inspector</a></p>
<p><a href="#shared-references">Shared References</a></p>
<p><a href="#tools">Tools</a></p>
<p><a href="#animation-rigging">Animation Rigging</a></p>
<p><a href="#samples">Samples</a></p>
<p><a href="#minor-features">Minor Features</a></p>
<p><a href="#improvements">Improvements</a></p>
<p><a href="#changes">Changes</a></p>
<p><a href="#removals-1">Removals</a></p>
<p><a href="#fixes">Fixes</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/simplicity">Simplicity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/transparency">Transparency</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/adaptability">Adaptability</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/clarity">Clarity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/safety">Safety</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/reliability">Reliability</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison">Comparison</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/weapon-animations">Weapon Animations</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li><a href="/animancer/docs/introduction/cs">C# in Unity</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples">Samples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/samples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/basics/quick-play">01-01 Quick Play</a></li>
                <li><a href="/animancer/docs/samples/basics/movement">01-02 Basic Movement</a></li>
                <li><a href="/animancer/docs/samples/basics/action">01-03 Basic Action</a></li>
                <li><a href="/animancer/docs/samples/basics/transitions">01-04 Transitions</a></li>
                <li><a href="/animancer/docs/samples/basics/character">01-05 Basic Character</a></li>
                <li><a href="/animancer/docs/samples/basics/library">01-06 Library Character</a></li>
                <li><a href="/animancer/docs/samples/basics/scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/samples/basics/input">Input</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/fine-control/named">02-01 Named Character</a></li>
                <li><a href="/animancer/docs/samples/fine-control/live-inspector">02-02 Live Inspector</a></li>
                <li><a href="/animancer/docs/samples/fine-control/doors">02-03 Doors</a></li>
                <li><a href="/animancer/docs/samples/fine-control/update-rate">02-04 Update Rate</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/mixers">03 Mixers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/mixers/linear">03-01 Linear Mixers</a></li>
                <li><a href="/animancer/docs/samples/mixers/directional">03-02 Directional Mixers</a></li>
                <li><a href="/animancer/docs/samples/mixers/serialization">03-03 Animation Serialization</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/layers">04 Layers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/layers/basic">04-01 Basic Layers</a></li>
                <li><a href="/animancer/docs/samples/layers/dynamic">04-02 Dynamic Layers</a></li>
                <li><a href="/animancer/docs/samples/layers/face">04-03 Facial Expressions</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/events/golf">05-01 Golf Events</a></li>
                <li><a href="/animancer/docs/samples/events/footsteps">05-02 Footstep Events</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/fsm/characters">06-01 Characters</a></li>
                <li><a href="/animancer/docs/samples/fsm/interruptions">06-02 Interruptions</a></li>
                <li><a href="/animancer/docs/samples/fsm/brains">06-03 Brains</a></li>
                <li><a href="/animancer/docs/samples/fsm/weapons">06-04 Weapons</a></li>
                <li><a href="/animancer/docs/samples/fsm/platformer">Platformer Game Kit</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/sprites">07 Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/sprites/basics">07-01 Directional Basics</a></li>
                <li><a href="/animancer/docs/samples/sprites/character">07-02 Directional Character</a></li>
                <li><a href="/animancer/docs/samples/sprites/character-3d">07-03 Directional Character 3D</a></li>
                <li><a href="/animancer/docs/samples/sprites/platformer">Platformer Game Kit</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/animator-controllers">08 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/animator-controllers/character">08-01 Hybrid Character</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/animator-controllers/3d-game-kit">08-02 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/samples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/ik">09 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/ik/puppet">09-01 Puppet</a></li>
                <li><a href="/animancer/docs/samples/ik/uneven-ground">09-02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/jobs">10 Animation Jobs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/jobs/two-bone-ik">10-01 Two Bone IK</a></li>
                <li><a href="/animancer/docs/samples/jobs/damping">10-02 Damping</a></li>
                <li><a href="/animancer/docs/samples/jobs/hit-impacts">10-03 Hit Impacts</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/samples/integration">Integration</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/samples/integration/animation-rigging">Animation Rigging</a></li>
                <li><a href="/animancer/docs/samples/integration/dynamic-bone">Dynamic Bone</a></li>
                <li><a href="/animancer/docs/samples/integration/final-ik">Final IK</a></li>
                <li><a href="/animancer/docs/samples/integration/hairibar-ragdoll">Hairibar Ragdoll</a></li>
                <li><a href="/animancer/docs/samples/integration/lod">Level of Detail (LOD)</a></li>
                <li><a href="/animancer/docs/samples/integration/odin-inspector">Odin Inspector</a></li>
                <li><a href="/animancer/docs/samples/integration/puppet-master">Puppet Master</a></li>
                <li><a href="/animancer/docs/samples/integration/spine">Spine</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/samples/no-video-tutorials">No Video Tutorials</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>
                <li><a href="/animancer/docs/manual/getting/animation-window">Animation Window</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/keys">Keys</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/edit-mode">Playing in Edit Mode</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>
                <li><a href="/animancer/docs/manual/transitions/assets">Transition Assets</a></li>
                <li><a href="/animancer/docs/manual/transitions/previews">Transition Previews</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending/fading">Fading</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading/modes">Fade Modes</a></li>
                <li><a href="/animancer/docs/manual/blending/fading/custom">Custom Fading</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending/mixers">Mixers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/mixers/creation">Mixer Creation</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers/smoothing">Mixer Smoothing</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers/synchronization">Mixer Synchronization</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events/animancer">Animancer Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animancer/usage">Usage</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/behaviour">Behaviour</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/shared">Shared Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/garbage">Garbage Collection</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/ultevents">UltEvents</a></li>
                <li><a href="/animancer/docs/manual/events/animancer/utilities">Event Utilities</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events/end">End Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/end/alternatives">End Event Alternatives</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/fsm">Finite State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/fsm/overview">Overview</a></li>
                <li><a href="/animancer/docs/manual/fsm/state-types">1. State Types</a></li>
                <li><a href="/animancer/docs/manual/fsm/initialization">2. Initialization</a></li>
                <li><a href="/animancer/docs/manual/fsm/changing-states">3. Changing States</a></li>
                <li><a href="/animancer/docs/manual/fsm/keys">Keys</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/fsm/utilities">Utilities</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/fsm/utilities/input-buffer">Input Buffers</a></li>
                <li><a href="/animancer/docs/manual/fsm/utilities/state-selector">State Selectors</a></li>
                <li><a href="/animancer/docs/manual/fsm/utilities/owned-states">Owned States</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/animator-controllers/conversion">Conversion</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers/controller-states">Controller States</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/manual/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/tools">Animancer Tools</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/tools/pack-textures">Pack Textures</a></li>
                <li><a href="/animancer/docs/manual/tools/modify-sprites">Modify Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/rename-sprites">Rename Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/generate-sprite-animations">Generate Sprite Animations</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-sprite-animation">Remap Sprite Animation</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-animation-bindings">Remap Animation Bindings</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/other">Other Features</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/other/animation-clip-inspector">Animation Clip Inspector</a></li>
                <li><a href="/animancer/docs/manual/other/polymorphic">Polymorphic Drawer</a></li>
                <li><a href="/animancer/docs/manual/other/root-motion">Root Motion</a></li>
                <li><a href="/animancer/docs/manual/other/sprite-renderer-texture-swap">Sprite Renderer Texture Swap</a></li>
                <li><a href="/animancer/docs/manual/other/units">Units Attributes</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/reorderable-array-height">Reorderable Array Height</a></li>
                <li><a href="/animancer/docs/bugs/serialized-array-initialization">Serialized Array Initialization</a></li>
                <li><a href="/animancer/docs/bugs/timing">Timing</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview active selected">
                    <a href="/animancer/docs/changes/animancer-v8-0">Animancer v8.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v8-0/upgrade-guide">Animancer v8.0 Upgrade Guide</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v7-4">Animancer v7.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-3">Animancer v7.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-2">Animancer v7.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-1">Animancer v7.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v7-0">Animancer v7.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v6-1">Animancer v6.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v6-0">Animancer v6.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v5-3">Animancer v5.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-2">Animancer v5.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-1">Animancer v5.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/help">Help and FAQ</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/help/debugging">Debugging</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Animancer v8.0</h1>
		</section>
	<section class="content">
		<h1 id="upgrade-guide">Upgrade Guide</h1>
<p>See the <a href="../animancer-v7-0#upgrade-guide">Animancer v7.0 Upgrade Guide</a> if you're upgrading from a version older than that, then follow the new <a href="upgrade-guide">Upgrade Guide</a> for this version.</p>
<blockquote class="blockquote">
<p>For the first time ever, Animancer v8.0 is a paid upgrade.</p>
<p><strong>Purchases after 2024-05-01 can upgrade for free</strong>.</p>
<p>Older purchasers will receive a 50% discount.</p>
<p><a href="upgrade-guide">See the Upgrade Guide page for details.</a></p>
</blockquote>
<h1 id="major-features">Major Features</h1>
<ul>
<li>The minimum supported Unity version is now 2022.3.</li>
<li><a href="#transition-libraries">Transition Libraries allow transitions to be altered based on the previous state.</a></li>
<li><a href="#weighted-mask-layers">The experimental Weighted Mask Layers system has been turned into a proper feature.</a></li>
<li><a href="#animancer-events">Animancer Events have been reworked in several different ways.</a>
<ul>
<li><a href="#shared-events">The <code>AnimancerState.Events</code> property has been split into <code>Events</code> and <code>SharedEvents</code>.</a></li>
<li><a href="#persistent-events">Animancer Events are no longer automatically cleared whenever you play something.</a></li>
<li><a href="#event-names">Event names now use <code>ScriptableObject</code>s instead of <code>string</code>s.</a></li>
<li><a href="#event-binding">Event callbacks can now be bound by name in a central dictionary.</a></li>
</ul>
</li>
<li><a href="#parameters">Mixer and Controller State parameters can now be bound by name in a central dictionary.</a></li>
<li><a href="#fade-groups">Cross fading is now managed by Fade Groups, which also include the old Custom Fade system.</a></li>
<li><a href="#live-inspector">The Live Inspector has been improved.</a></li>
<li><a href="#shared-references">The Polymorphic Drawer system can now show when multiple fields share the same reference.</a></li>
<li><a href="#tools">Several of the Animancer Tools have been improved.</a></li>
<li><a href="#animation-rigging">A viable workaround has been found for a significant issue with Unity's Animation Rigging package.</a></li>
</ul>
<h1 id="transition-libraries">Transition Libraries</h1>
<p>Transition Libraries are a new feature which allows you to look up transitions by name and modify what specific transitions look like depending on the character's previous state. Unlike Animator Controllers, libraries don't contain any logic for managing what a character can do, you still tell Animancer to play something and it will still play, but a library might modify the transition's fade duration. Libraries are also fully open and modifiable at runtime.</p>
<p>There are 3 main library classes:</p>
<table class="table">
<thead>
<tr>
<th>Class</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a href="/animancer/api/Animancer.TransitionLibraries/TransitionLibraryDefinition">TransitionLibraryDefinition</a></code></td>
<td>The serializable form of a library which is used to create a <code><a href="/animancer/api/Animancer.TransitionLibraries/TransitionLibrary">TransitionLibrary</a></code> at runtime.</td>
</tr>
<tr>
<td><code><a href="/animancer/api/Animancer.TransitionLibraries/TransitionLibrary">TransitionLibrary</a></code></td>
<td>The runtime form of a library which is optimised for efficiently looking up transitions.</td>
</tr>
<tr>
<td><code><a href="/animancer/api/Animancer.TransitionLibraries/TransitionLibraryAsset">TransitionLibraryAsset</a></code></td>
<td>A <code>ScriptableObject</code> which stores a <code><a href="/animancer/api/Animancer.TransitionLibraries/TransitionLibraryDefinition">TransitionLibraryDefinition</a></code> and creates a <code><a href="/animancer/api/Animancer.TransitionLibraries/TransitionLibrary">TransitionLibrary</a></code> from it.</td>
</tr>
</tbody>
</table>
<ul>
<li>You can create a <code><a href="/animancer/api/Animancer.TransitionLibraries/TransitionLibraryAsset">TransitionLibraryAsset</a></code> via <em>Assets/Create/Animancer/Transition Library</em>:</li>
</ul>
<p><img src="transition-library-create.png" class="img-responsive"></p>
<ul>
<li><code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code>s have a new <code>Transitions</code> field to put it in so anything you try to play will check the library for modifications:</li>
</ul>
<p><img src="transition-library-animancer.png" class="img-responsive"></p>
<ul>
<li>Double clicking a <code><a href="/animancer/api/Animancer.TransitionLibraries/TransitionLibraryAsset">TransitionLibraryAsset</a></code> opens a window to edit it:</li>
</ul>
<p><img src="transition-library-modifiers.png" class="img-responsive"></p>
<ul>
<li>The window keeps its own copy of the library asset being edited. The buttons in the top right allow you to <code>Revert</code> your changes, <code>Apply</code> your changes to the target asset, or <code>Auto</code>matically apply any changes as soon as you make them.</li>
<li>The main view is a table of transitions where each cell contains the fade duration of a particular combination (from row to column).</li>
<li>Cells with fade duration modifiers are shown in <em>Bold</em>. Otherwise, the fade duration for that combination will default to whatever is specified in the <a href="../../manual/transitions/assets">Transition Asset</a> as if you had played it without the library.</li>
<li>You can drag and drop any <a href="../../manual/transitions/assets">Transition Asset</a> into the window to add it to the library or use the <code>Create Transition</code> button to make a new one.</li>
<li>You can drag transitions in the window to rearrange them.</li>
<li>Selecting a cell highlights its row and column in blue and hovering over a cell highlights them in green.</li>
<li>Selecting a cell also shows its details in the Inspector with an interactive preview of that particular transition combination:</li>
</ul>
<p><img src="transition-library-inspector.png" class="img-responsive"></p>
<ul>
<li>In the top left of the window is a dropdown menu to select a different page to view.</li>
<li>Currently, the only other page is <code>Transition Aliases</code> where you can specify additional names which can be used to look up transitions.</li>
</ul>
<p><img src="transition-library-aliases.png" class="img-responsive"></p>
<ul>
<li>The Serialization Sample demonstrates an additional feature of libraries:
<ul>
<li>Having all your animations registered in a centralised location means they can each be represented by an <code>int</code> index which can be easily serialized.</li>
<li>The sample uses that to save the character's current animation details to a file and load them back later.</li>
<li>But the real use case for this would be for networking, which Animancer's flexible decentralised structure otherwise makes difficult.</li>
</ul>
</li>
</ul>
<p><img src="transition-library-sample.png" class="img-responsive"></p>
<h1 id="weighted-mask-layers">Weighted Mask Layers</h1>
<p>The <a href="https://github.com/KybernetikGames/animancer/issues/154">experimental Weighted Mask Layers system</a> has been turned into a proper feature. It allows layers to be masked so they control some bones but not others just like the standard <code>AvatarMask</code> system, but with more detail because you can control the <code>Weight</code> of each individual bone instead of only turning them on or off. It also supports fading between different sets of <code>Weight</code>s over time.</p>
<ol>
<li>Add a <code><a href="/animancer/api/Animancer/WeightedMaskLayers">WeightedMaskLayers</a></code> Component:</li>
</ol>
<p><img src="weighted-mask-layers-inspector.png" class="pngif img-responsive"></p>
<ol start="2">
<li>Click its <code>Edit</code> button to open a window where you can configure it.</li>
</ol>
<p><img src="weighted-mask-layers-window.png" class="pngif img-responsive"></p>
<ol start="3">
<li>Use the <code>?</code> column to select the objects you want to include in the mask.</li>
<li>Use the <code>Add Group</code> button down the bottom to add as many groups as you want.</li>
<li>For each object and group, enter the <code>Weight</code> you want the object to have when that group is active.</li>
</ol>
<ul>
<li>1 is the same as including the object in an <code>AvatarMask</code>, i.e. Layer 1 will fully control the object.</li>
<li>0 is the same as excluding the object from an <code>AvatarMask</code>, i.e. Layer 0 will fully control the object.</li>
<li>Values in between will interpolate between both layers.</li>
</ul>
<ol start="6">
<li>In code if you want to change the current <code>Weight</code> group you can get a reference to the <code><a href="/animancer/api/Animancer/WeightedMaskLayers">WeightedMaskLayers</a></code> component and call <code>SetWeights(groupIndex)</code> or <code>FadeWeights(groupIndex, fadeDuration)</code>.</li>
</ol>
<p><a href="https://github.com/KybernetikGames/animancer/issues/154">#154</a> and <a href="https://github.com/KybernetikGames/animancer/issues/328">#328</a></p>
<p>Known Limitations:</p>
<ul>
<li>It only supports 2 layers (Base + 1).</li>
<li>It only supports override blending (not additive).</li>
<li>These limitations could be removed with further development if enough users request it.</li>
</ul>
<h1 id="string-references-and-assets">String References and Assets</h1>
<p><code>string</code>s are often a very convenient type which can make systems easy to use, but also have notable downsides such as being inefficient to compare and hard to refactor.</p>
<ul>
<li>The <a href="#event-names">Event Names</a> system used to be based on <code>string</code>s and the new <a href="#event-binding">Event Binding</a> and <a href="#parameters">Parameter Binding</a> systems would have been as well, so a new system has been implemented to avoid those downsides.</li>
<li><code><a href="/animancer/api/Animancer/StringReference">StringReference</a></code> is a simple class which contains a <code>string</code> and is kept in a dictionary so that everything which calls <code>StringReference.Get</code> for a given <code>string</code> will be given the exact same reference.
<ul>
<li>This allows the system to check if two references are equal much faster by using a single equality instruction instead of potentially needing to check if every individual character is equal in two <code>string</code>s.</li>
<li><code><a href="/animancer/api/Animancer/StringReference">StringReference</a></code> has an implicit conversion from <code>string</code>, meaning that any method which takes a <code><a href="/animancer/api/Animancer/StringReference">StringReference</a></code> parameter can also be given a regular <code>string</code>. That's less efficient though, because it needs to look up the reference in the dictionary every time, so it's much more efficient to cache the <code><a href="/animancer/api/Animancer/StringReference">StringReference</a></code> yourself beforehand, for example:</li>
</ul>
</li>
</ul>
<pre><code class="language-cs">// This is an implicit conversion from string to StringReference:
public static readonly <a href="/animancer/api/Animancer/StringReference">StringReference</a> EventName = "Fire";

// It actually does this internally:
public static readonly <a href="/animancer/api/Animancer/StringReference">StringReference</a> EventName = StringReference.Get("Fire");

// Or you can reference a <a href="/animancer/api/Animancer/StringAsset">StringAsset</a> in a serialized field:
[SerializeField] private <a href="/animancer/api/Animancer/StringAsset">StringAsset</a> _Name;
</code></pre>
<ul>
<li><code><a href="/animancer/api/Animancer/StringAsset">StringAsset</a></code> is a <code>ScriptableObject</code> which contains a <code><a href="/animancer/api/Animancer/StringReference">StringReference</a></code> initialized from its asset name.
<ul>
<li>This allows values to be managed more reliably and consistently referenced in multiple places without risking spelling mistakes each time or making it hard to rename things.</li>
<li><code><a href="/animancer/api/Animancer/StringAsset">StringAsset</a></code>s can be created via <em>Assets/Create/Animancer/String Asset</em> or by using the <code>New</code> button in the Inspector (see below).</li>
<li><code><a href="/animancer/api/Animancer/StringAsset">StringAsset</a></code> fields normally show up in the Inspector like regular <code>string</code> fields, but if you move your mouse over them they change to let you pick an asset or use several functions:
<ul>
<li><code>New</code> - If the field is empty, this button will create a new <code><a href="/animancer/api/Animancer/StringAsset">StringAsset</a></code> and ask where you want to save it.</li>
<li><code>C</code> - If the field has a reference, this button will copy its name to the clipboard.</li>
<li><code>X</code> - If the field has a reference, this button will remove it.</li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="table">
  <thead>
    <tr><th style="width:50%">Normal Appearance</th>
    <th style="width:50%">Mouse Hover</th>
  </tr></thead>
  <tbody>
    <tr>
      <td><img src="event-name-empty.png" class="img-responsive"></td>
      <td><img src="event-name-empty-hover.png" class="img-responsive"></td>
    </tr>
    <tr>
      <td><img src="event-name-set.png" class="img-responsive"></td>
      <td><img src="event-name-set-hover.png" class="img-responsive"></td>
    </tr>
  </tbody>
</table>
<ul>
<li>You can Drag and Drop <code><a href="/animancer/api/Animancer/StringAsset">StringAsset</a></code> references from one Inspector field to another if you want to use the same one multiple times. <a href="/inspector-gadgets/docs/script-inspector/object-reference-fields/#drag-reference">Inspector Gadgets has this as a standard feature for all Object Reference fields</a>.</li>
</ul>
<h1 id="animancer-events">Animancer Events</h1>
<p><a href="../../manual/events/animancer">Animancer Events</a> have been reworked in several different ways, some of which would result in data loss if you don't run the <a href="upgrade-guide#serialized-data-migration">Serialized Data Migration</a> tool explained in the <a href="upgrade-guide">Upgrade Guide</a>.</p>
<h2 id="why-rework-event-sharing">Why Rework Event Sharing?</h2>
<p>There are two common sources of conflicts that arise when using events:</p>
<ul>
<li>Event ownership - when a <a href="../../manual/transitions">Transition</a> is shared by multiple characters.</li>
<li>State ownership - when multiple scripts on the same character try to use the same state without realising.</li>
</ul>
<p><a href="../../manual/events/animancer">Animancer Events</a> were originally designed to avoid those issues by being automatically cleared from a state whenever you played something else. That system was good for safety, but bad for efficiency because you had to either spend processing time re-configuring all the events every time you played an animation or spend development time configuring and storing the events separately so they could be assigned to the state every time you played it.</p>
<ul>
<li><a href="../../manual/transitions">Transitions</a> solved this by storing their own events which you can configure on startup so they can simply assign the events to the state when played.</li>
<li>But any transitions shared by multiple character instances (particularly <a href="../../manual/transitions/assets">Transition Assets</a>) couldn't be used in that way because all characters would overwrite each other's changes to the same event sequence.</li>
<li>The <code>UnShared</code> transition system attempted to solve that, but it was confusing to new users and only usable in limited situations so it has now been removed.</li>
<li><code>OptionalWarning.DuplicateEvent</code> and <code>OverwriteEvent</code> tried to at least detect cases where multiple characters were adding their own copy of the same callback, but even that had limited usefulness so they have been removed.</li>
<li>The old system was also confusing to many new users who did not expect their events to be cleared.</li>
</ul>
<h2 id="persistent-owned-events">Persistent Owned Events</h2>
<p>For the reasons explained above, the new system <strong>doesn't automatically clear events whenever anything is played</strong>, encourages users to configure their events when a state is first created, and discourages sharing states between scripts.</p>
<p>This was achieved by splitting the <code>AnimancerState.Events</code> property into 4 different members:</p>
<hr>
<ol>
<li><code>bool Events(object owner, out <a href="/animancer/api/Animancer/Sequence">AnimancerEvent.Sequence</a> events)</code></li>
</ol>
<ul>
<li>The first time this method is called on a state, it will create a clone of whatever event sequence had already been assigned (or just a new sequence if none was assigned yet).
<ul>
<li>Then it returns <code>true</code> to indicate that the caller should now configure the given <code>events</code> as they see fit.</li>
<li>On subsequent calls the state already owns its events so this method will do nothing and return <code>false</code>.</li>
</ul>
</li>
<li>It also calls <code>AnimancerState.AssertOwnership</code> which assigns the state's <code>owner</code> or throws an exception if it already had a different owner.</li>
</ul>
<p>The recommended usage looks like this:</p>
<pre><code class="language-cs">public static readonly <a href="/animancer/api/Animancer/StringReference">StringReference</a> EventName = "Event Name";

...

<a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a> state = animancerComponent.Play(animation);
if (state.Events(this, out <a href="/animancer/api/Animancer/Sequence">AnimancerEvent.Sequence</a> events))
{
    events.SetCallback(EventName, OnAnimationEvent);
    events.OnEnd = OnAnimationEnded;
}
</code></pre>
<ul>
<li>That also shows how to use the new <code><a href="/animancer/api/Animancer/StringReference">StringReference</a></code> based <a href="#event-names">Event Names</a> system.</li>
</ul>
<hr>
<ol start="2">
<li><code><a href="/animancer/api/Animancer/Sequence">AnimancerEvent.Sequence</a> Events(object owner)</code></li>
</ol>
<ul>
<li>This method does exactly the same thing as the one above, except that it returns the event sequence and doesn't indicate whether ownership was only just claimed or not.</li>
<li>This allows for simpler usage in situations where you only need to set the <a href="../../manual/events/end">End Event</a>:</li>
</ul>
<pre><code class="language-cs"><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a> state = animancerComponent.Play(animation);
state.Events(this).OnEnd ??= OnAnimationEnded;
</code></pre>
<ul>
<li>The <code>??=</code> means it will only assign the callback if it was previously <code>null</code> which avoids the performance cost of allocating a new callback every time.</li>
<li>This is why the <code>owner</code> parameter to claim state ownership is so important, because without it you could run into a situation where one script assigns its callback then another script tries to use the same state but never ends up assigning its own callback.</li>
</ul>
<hr>
<ol start="3">
<li><code>OwnedEvents</code></li>
</ol>
<ul>
<li>This property enforces event ownership like the above methods, but ignores state ownership so it should generally only be used in situations where you have already detected that multiple scripts are sharing the state.</li>
</ul>
<hr>
<ol start="4">
<li><code>SharedEvents</code></li>
</ol>
<ul>
<li>This property gives direct access to whatever events have been assigned, meaning it will be <code>null</code> by default and doesn't have any of the safety restrictions of the other options.</li>
</ul>
<hr>
<ul>
<li>These changes avoid the need for the <code>UnShared</code> transition system, so it has been removed because it was confusing to many users and didn't cover many common use-cases. <a href="https://github.com/KybernetikGames/animancer/issues/261">#261</a></li>
<li>In order to reduce the chance of multiple scripts sharing the same state, each <code><a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a></code> will now create its own state instead of having them share a state if they have the same <code>AnimationClip</code>.
<ul>
<li>This is achieved by having <code>ClipTransition.Key</code> return <code>this</code> instead of the <code>Clip</code>.</li>
<li>Same for <code><a href="/animancer/api/Animancer/PlayableAssetTransition">PlayableAssetTransition</a></code>.</li>
</ul>
</li>
<li>In order to avoid overwriting the state's owned events on subsequent plays, <a href="../../manual/transitions">Transitions</a> will now only assign their <code>Events</code> when they first create a state instead of re-assigning them every time they are played (which was necessary when the events would have been automatically cleared from the state).</li>
<li><code><a href="/animancer/api/Animancer/ExitEvent">ExitEvent</a></code>s have also been reworked to be based around keeping the same instance in a field instead of clearing and object pooling instances.</li>
<li>One major difference between <a href="../../manual/events/animancer">Animancer Events</a> and Unity's inbuilt <a href="../../manual/events/animation">Animation Events</a> is that <a href="../../manual/events/animancer">Animancer Events</a> aren't triggered on a state while it fades out.
<ul>
<li>The old system enforced this inherently because starting a fade out would have cleared the state's events.</li>
<li>The new system has the same behaviour by default, which can be disabled by setting the static <code><a href="/animancer/api/Animancer/AnimancerState/09615D75">AnimancerState.RaiseEventsDuringFadeOut</a> = true;</code>.</li>
</ul>
</li>
</ul>
<h2 id="event-names">Event Names</h2>
<p><a href="../../manual/events/animancer">Animancer Events</a> can optionally be given names which can then be used to identify them in code. They previously used regular <code>string</code>s which made the system simple to use, but had several downsides such as being inefficient and hard to refactor.</p>
<p>Those <code>string</code>s have been replaced by <a href="#string-references-and-assets">String References and Assets</a> (<code><a href="/animancer/api/Animancer/StringAsset">StringAsset</a></code>s in the serialized data and <code><a href="/animancer/api/Animancer/StringReference">StringReference</a></code>s in the runtime data).</p>
<p><img src="event-name-set-hover.png" class="img-responsive"></p>
<p>Using the <code>[EventNames]</code> attribute now shows an info icon next to the name field with a tooltip listing all the expected names. If an unexpected name is selected, it will change to a warning icon.</p>
<p>This is one of the changes that would result in data loss if you don't run the <a href="upgrade-guide#serialized-data-migration">Serialized Data Migration</a> tool explained in the <a href="upgrade-guide">Upgrade Guide</a>.</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues/264">#264</a></p>
<h2 id="event-binding">Event Binding</h2>
<p>In many cases, being able to set up event timings in the Inspector while previewing the animation and then assign callbacks to those events in code based on their names is a great workflow (and that's not changing). But in some cases that workflow isn't ideal or even viable, such as if you're playing an animation in a <a href="#transition-libraries">Transition Library</a> by name which means you don't even know what's going to be played so you can't be sure what events you need to look for.</p>
<p>The solution to this is the new <code><a href="/animancer/api/Animancer/AnimancerComponent/40AC981E">AnimancerComponent.Events</a></code> property, which is a dictionary of <a href="#string-references-and-assets">String Reference</a> names mapped to callbacks. Whenever an event with a name but no callback is triggered, it will look in the dictionary for a callback bound to its name. If an event has no callback in either location, it will still trigger <code>OptionalWarning.UselessEvent</code> to let you know that something is likely configured incorrectly. This is closer to the way Unity's inbuilt <a href="../../manual/events/animation">Animation Events</a> work, except that it's still using delegates for flexibility instead of requiring a method name to match the event name in a component attached to the same <code>GameObject</code> as the <code>Animator</code>.</p>
<p>For example, here's a simple script that expects its transition to have events with the name "Footstep" set up in the Inspector:</p>
<pre><code class="language-cs">public class FootstepWalkExample : MonoBehaviour
{
    public static readonly <a href="/animancer/api/Animancer/StringReference">StringReference</a> FootstepEvent = "Footstep";
    
    [SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
    [SerializeField, EventNames] private <a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a> _Walk;
    
    protected virtual void OnEnable()
    {
        _Walk.Events.SetCallbacks(FootstepEvent, PlayFootstepSound);
    
        _Animancer.Play(_Walk);
    }
    
    private void PlayFootstepSound() { }
}
</code></pre>
<p>Note the <code>[EventNames]</code> attribute. Since it isn't being given any names explicitly, it will look for static fields in the class it's in.</p>
<p>That's a nice simple script which would work perfectly fine on its own, but what if you have other animations in other scripts that also want to have footstep events? Obviously you could connect all of them to a central script which manages the footsteps, but that sort of thing can start turning your code base into a tangled mess of interconnected dependencies. Instead, the new Event Binding system would let you split those responsibilities into two scripts like this:</p>
<pre><code class="language-cs">public class FootstepManager : MonoBehaviour
{
    public static readonly <a href="/animancer/api/Animancer/StringReference">StringReference</a> FootstepEvent = "Footstep";
    
    [SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
    
    protected virtual void OnEnable()
    {
        _Animancer.Events.Set(FootstepEvent, PlayFootstepSound);
    }
    
    private void PlayFootstepSound() { }
}

public class WalkExample : MonoBehaviour
{
    [SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;
    [SerializeField] private <a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a> _Walk;
    
    protected virtual void OnEnable()
    {
        _Animancer.Play(_Walk);
    }
}
</code></pre>
<p>The <code>FootstepManager</code> script registers its <code>PlayFootstepSound</code> method to be called by any event with the name "Footstep" in any animation and the <code>WalkExample</code> script doesn't need to know anything about footsteps, it's simply responsible for playing its animation and managing the mechanics of walking. It took a bit more code, but the system is now more flexible and modular so it should be easier to extend and maintain as your systems grow in complexity.</p>
<p>The event binding dictionary is shown in the <a href="#live-inspector">Live Inspector</a> (unless you leave it empty):</p>
<p><img src="event-binding-inspector.png" class="img-responsive"></p>
<h2 id="event-callbacks">Event Callbacks</h2>
<p>On its own, the new <a href="#event-binding">Event Binding</a> system would have had one major drawback compared to Unity's inbuilt <a href="../../manual/events/animation">Animation Events</a>: the inability to specify parameters in the Inspector. In the above example, the "Footstep" events have no way to indicate which foot they're referring to. You could give each foot a different event name, but that's not very convenient and still doesn't allow other parameter types like <code>float</code>s or asset references.</p>
<p>Instead of solving that issue by adding extra fields for several specific parameter types (like <a href="../../manual/events/animation">Animation Events</a> do), it has been addressed by changing the serialized event callback field from a hard coded <code><a href="/animancer/api/Animancer/UnityEvent">UnityEvent</a></code> to a <code>[SerializeReference]</code> field which can hold anything that implements <code><a href="/animancer/api/Animancer/IInvokable">IInvokable</a></code> (a simple interface with an <code>Invoke()</code> method).</p>
<ul>
<li>Animancer includes its own <code><a href="/animancer/api/Animancer/UnityEvent">UnityEvent</a></code> class which simply inherits from Unity's regular one and implements <code><a href="/animancer/api/Animancer/IInvokable">IInvokable</a></code> so it can be used for event callbacks exactly the same as before.
<ul>
<li>Since regular serialized fields store their data differently to <code>[SerializeReference]</code> fields, this is one of the changes that would result in data loss if you don't run the <a href="upgrade-guide#serialized-data-migration">Serialized Data Migration</a> tool explained in the <a href="upgrade-guide">Upgrade Guide</a>.</li>
<li>It also supports <a href="/ultevents">UltEvents</a> in the same way, which is much better than the old system where you could only use <code><a href="/animancer/api/Animancer/UnityEvent">UnityEvent</a></code>s or <code>UltEvent</code>s and swapping between them would lose all your event data.</li>
</ul>
</li>
<li>The parameter issue is handled by <code><a href="/animancer/api/Animancer/Parameter_1">AnimancerEvent.Parameter&lt;T&gt;</a></code> which is an <code><a href="/animancer/api/Animancer/IInvokable">IInvokable</a></code> that sets the static <code><a href="/animancer/api/Animancer/AnimancerEvent/021F1C2C">AnimancerEvent.CurrentParameter</a></code> property then invokes the bound callback.
<ul>
<li>Any method can access the <code><a href="/animancer/api/Animancer/AnimancerEvent/021F1C2C">AnimancerEvent.CurrentParameter</a></code> during an event (it's cleared afterwards).</li>
<li>There are also several methods in the <a href="#event-binding">Event Binding</a> dictionary for binding callbacks with a parameter which can be used like this:</li>
</ul>
</li>
</ul>
<pre><code class="language-cs">public static readonly <a href="/animancer/api/Animancer/StringReference">StringReference</a> FootstepEvent = "Footstep";

[SerializeField] private <a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a> _Animancer;

protected virtual void OnEnable()
{
    _Animancer.Events.AddNew&lt;AudioSource&gt;(FootstepEvent, PlaySound);
}

public void PlaySound(AudioSource audioSource) { }
</code></pre>
<ul>
<li>That method would be automatically given its value from the event's callback parameter set in the Inspector (or an error if it doesn't have a parameter).</li>
<li>Animancer includes several common parameter types: <code>bool</code>, <code>double</code>, <code>float</code>, <code>int</code>, <code>long</code>, <code>Object</code>, <code>string</code>.</li>
<li>You can easily add a new parameter type by creating a serializable class like this:</li>
</ul>
<pre><code class="language-cs">[Serializable] public class ParameterThing : Parameter&lt;Thing&gt; { }
// Inherit from ParameterBoxed&lt;T&gt; instead if Thing is a struct or enum.
</code></pre>
<ul>
<li>Simply having that class in your project would make it selectable as a callback type.</li>
<li>You could also create a classs that implements <code><a href="/animancer/api/Animancer/IInvokable">IInvokable</a></code> to direcly use it as the callback.</li>
</ul>
<h2 id="end-event-time">End Event Time</h2>
<ul>
<li>Animancer Lite now allows you to change the time of <a href="../../manual/events/end">End Events</a>. Most of the new features are Pro-Only so this restriction has been removed.</li>
</ul>
<h1 id="parameters">Parameters</h1>
<p>Like with the <a href="#event-binding">Event Binding</a> system, being able to directly control the parameters of a <a href="../../manual/blending/mixers">Mixer State</a> or <a href="../../manual/animator-controllers">Controller State</a> is often great, but can be really inconvenient if you don't have a strongly typed reference to the state such as if you're using <a href="#transition-libaries">Transition Libraries</a> or even just <a href="../../manual/blending/mixers/creation#nesting">Nested Mixers</a>.</p>
<p>The solution is also quite similar: a new <code><a href="/animancer/api/Animancer/AnimancerComponent/18078815">AnimancerComponent.Parameters</a></code> property containing a dictionary of parameter values registered by name which other systems can get, set, and listen for changes to.</p>
<h2 id="mixer-parameters">Mixer Parameters</h2>
<ul>
<li>Mixers use the same <code><a href="/animancer/api/Animancer/StringAsset">StringAsset</a></code>s as the new <a href="#event-names">Event Name</a> system:</li>
</ul>
<p><img src="mixer-parameter-binding.png" class="img-responsive"></p>
<ul>
<li>The Inspector shows the <code>Parameters</code> dictionary below all the <code>States</code>:</li>
</ul>
<p><img src="parameters-inspector.png" class="img-responsive"></p>
<ul>
<li>You can then control the parameters in the dictionary like this (instead of directly on the state):</li>
</ul>
<pre><code class="language-cs">animancerComponent.Parameters.SetValue(SpeedParameter, value);
</code></pre>
<ul>
<li>This is a one-way link. Directly changing the Mixer parameters will not affect the Animancer Parameter.</li>
<li>This is all completely optional. You can still directly set the <code>mixerState.Parameter</code> as before.</li>
</ul>
<p><a href="https://github.com/KybernetikGames/animancer/issues/257">#257</a></p>
<h2 id="controller-parameters">Controller Parameters</h2>
<p><a href="../../manual/animator-controllers">Controller States</a> and <code><a href="/animancer/api/Animancer/ControllerTransition">ControllerTransition</a></code>s can also have their parameters bound to Animancer's parameters, though it's a bit more complicated than with Mixers.</p>
<ul>
<li>When bound, any changes to the Animancer Parameter will update the corresponding parameter in the Animator Controller.
<ul>
<li>This is a one-way link. Changes to parameters inside an Animator Controller will not affect Animancer Parameters.</li>
</ul>
</li>
<li>The simplest usage is to simply enable <code>Bind All Parameters</code> to have it bind every parameter in the Animator Controller to an Animancer Parameter with the same name and type.</li>
</ul>
<p><img src="controller-transition-bind-all.png" class="img-responsive"></p>
<ul>
<li>Otherwise, if you put anything in the <code>Bindings</code> array the <code>Bind All Parameters</code> toggle becomes <code>Rebind Names</code>.</li>
</ul>
<table class="table">
  <thead>
    <tr><th style="width:50%">Rebind Names Disabled</th>
    <th style="width:50%">Rebind Names Enabled</th>
  </tr></thead>
  <tbody>
    <tr>
      <td>Each name in the array will bind the Animator Controller parameter with that name to an Animancer Parameter with the same name.</td>
      <td>The array is split into two columns with the left specifying the name of a parameter in the Animator Controller and the right specifying the Animancer Parameter name you want to bind it to.</td>
    </tr>
    <tr>
      <td><img src="controller-transition-bind-one.png" class="img-responsive"></td>
      <td><img src="controller-transition-bind-two.png" class="img-responsive"></td>
    </tr>
  </tbody>
</table>
<ul>
<li>Note that the <code>Bindings</code> array contains <a href="#string-references-and-assets">String Assets</a> (not regular <code>string</code>s).</li>
</ul>
<h2 id="linear-mixer-sample">Linear Mixer Sample</h2>
<p>The <a href="../../samples/mixers/linear">Linear Mixer Sample</a> previously contained two very similar scripts (<code>LinearBlendTreeLocomotion</code> and <code>LinearMixerLocomotion</code>) to demonstrate the same thing with both a Blend Tree inside an Animator Controller and with a Linear Mixer.</p>
<p>Being able to bind parameters in both types of states to the same Animancer Parameters means that they could now be handled by just one script, though it has still been split into two with separate responsibilities:</p>
<ul>
<li><code><a href="/animancer/api/Animancer.Samples.Mixers/PlayTransitionAssetOnEnable">PlayTransitionAssetOnEnable</a></code> does exactly what the name says.</li>
<li><code>FloatParameterWrapper</code> is the real point of the sample. It demonstrates how to get and set an Animancer Parameter.</li>
</ul>
<p>The sample still consists of two scripts, but they're now much more useful because they only have one responsibility each so they could potentially be used in other situations too.</p>
<h1 id="fade-groups">Fade Groups</h1>
<p>Previously when transitioning between states, every state would fade independently. You could have one state fading out and another fading in but they weren't explicitly linked to each other. The old <code>CustomFade</code> system had to be built around that by cancelling regular fades and managing them on its own as a group.</p>
<p>Those systems have been unified so all fades are managed as a <code><a href="/animancer/api/Animancer/FadeGroup">FadeGroup</a></code> (even if it only has one thing in it such as when fading out a layer).</p>
<ul>
<li>This is slightly more efficient in most cases because it calculates and applies the weights of multiple states in one go instead of independently.</li>
<li>It also makes it easier to do things like check what animation is fading out, though that isn't a particularly common use case.</li>
<li>The <code><a href="/animancer/api/Animancer/FadeGroup/06268C46">FadeGroup.Easing</a></code> property allows you to apply a custom curve to the fade progression like the old <code>CustomFade</code> system.</li>
</ul>
<pre><code class="language-cs">state = animancerClone.Play(animation, 0.25f);
state.FadeGroup.SetEasing(Easing.Function.SineInOut);
</code></pre>
<ul>
<li><code>SetEasing</code> is an extension method which will do nothing if the <code><a href="/animancer/api/Animancer/FadeGroup">FadeGroup</a></code> is <code>null</code> (such as if the <code>animation</code> was already faded in so it didn't start another fade) and it also accepts the <code><a href="/animancer/api/Animancer/Function">Easing.Function</a></code> enum as a parameter instead of only a <code>Func&lt;float, float&gt;</code> delegate.</li>
<li>Active <code><a href="/animancer/api/Animancer/FadeGroup">FadeGroup</a></code>s are shown in the Inspector if you have the <code>Show Internal Details</code> <a href="../../manual/playing/inspector#display-options">Display Option</a> enabled.</li>
</ul>
<p><img src="fade-inspector.png" class="img-responsive"></p>
<h1 id="live-inspector">Live Inspector</h1>
<p>The <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> Inspector in Play Mode has been given quite a few improvements to its visuals and rendering performance.</p>
<table class="table">
  <thead>
    <tr><th style="width:50%">Old Inspector</th>
    <th style="width:50%">New Inspector</th>
  </tr></thead>
  <tbody>
    <tr>
      <td><img src="old-inspector.png" class="pngif img-responsive"></td>
      <td><img src="new-inspector.png" class="pngif img-responsive"></td>
    </tr>
  </tbody>
</table>
<ul>
<li>The Live Inspector has been moved out of the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code>'s Inspector panel to an interactive preview at the bottom of the Inspector which can be resized, hidden, or even popped out to a separate window.</li>
</ul>
<p><img src="live-inspector-preview.png" class="pngif img-responsive"></p>
<ul>
<li>The header object field of each state is now just a flat box instead of an actual object field to reduce the unnecessary visual noise.</li>
<li>While a state is fading, its time bar shows a diagonal line indicating where its <code>Weight</code> will go over time.</li>
<li>Changed the <code>Weight</code> labels and time lines to be coloured based on their effective weight instead of just the raw weight, meaning that a - Mixers no longer show their children unless the mixer's details are expanded.</li>
<li>Added the ability to Alt + Click a state to expand/collapse all of its siblings as well.</li>
<li>Added event time indicators to states in the Inspector for <a href="../../manual/events/animancer">Animancer Events</a> and <a href="../../manual/events/animation">Animation Events</a>.
<ul>
<li>Added a <a href="../../manual/playing/inspector#display-options">Display Option</a> to disable this feature.</li>
</ul>
</li>
<li>Added the ability to ping states in the Inspector by clicking on fields that reference them.</li>
<li>Changed states to not show their <code>Key</code> in the header unless the same <code>MainObject</code> is used by multiple states.</li>
<li>Added a hover highlight to the animation binding warning icon so it looks more like a button.</li>
<li>Changed Mixers to ignore the "Auto Normalize Weights" <a href="../../manual/playing/inspector#display-options">Display Option</a> since they're usually used for things that don't require the weights to add up to 1.</li>
<li>Added a "Repaint Every Frame" toggle to the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> Inspector when there are 10 or more Components on the <code>GameObject</code> because Unity won't do it by default to save performance.</li>
<li>Added null reference detection to the Animation Type warning system to identify animations with missing <code>Sprite</code>s.</li>
<li>Improved the <code>Add Animation</code> field which is now used in the <a href="../../samples/fine-control/live-inspector">Live Inspector</a> sample.</li>
</ul>
<h2 id="transition-inspector">Transition Inspector</h2>
<p>Many new users have trouble figuring out how to get animations to restart when you play them instead of continuing from their current time (despite the topic being covered many times in the documentation and code comments and tooltips). So the Inspector for <a href="../../manual/transitions">Transitions</a> has been changed to make it clearer. When the <code>Speed</code> or <code>Start Time</code> toggle is disabled, the regular fields will be replaced with a text box saying that it will continue at the current value which should hopefully make it obvious that you can tell it not to do that using the toggle.</p>
<p><img src="transition-inspector.png" class="img-responsive"></p>
<h1 id="shared-references">Shared References</h1>
<p>The <a href="../../manual/other/polymorphic">Polymorphic Drawer</a> system now lets you properly view and manage references that are shared by multiple fields.</p>
<p>For example, say you have 3 <code>[SerializeReference] <a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a></code> fields <code>A</code>, <code>B</code>, and <code>C</code>:</p>
<p><img src="serialize-reference-null.png" class="img-responsive"></p>
<p>If <code>A</code> already has a value and you go to create an object for <code>B</code>, the menu will have a <code>Shared Reference</code> sub-menu where you can give it the same reference as <code>A</code>:</p>
<p><img src="serialize-reference-pick.png" class="img-responsive"></p>
<p>While <code>A</code> and <code>B</code> are referencing the same object, they will show a link toggle:</p>
<ul>
<li>It has a randomly generated colour for the object so if other fields have shared references to other objects they will hopefully have a different colour.</li>
<li>It has a tooltip listing all the fields sharing that object.</li>
<li>Clicking it will show connection lines between the fields sharing that object.</li>
</ul>
<p><img src="serialize-reference-visualise.png" class="img-responsive"></p>
<h1 id="tools">Tools</h1>
<p>Several of the <a href="../../manual/tools">Animancer Tools</a> have been improved:</p>
<ul>
<li><a href="../../manual/tools/pack-textures">Pack Textures</a>:
<ul>
<li>Fixed compile errors if Unity's Built-in Image Conversion module isn't present. Now the tool will simply display an error message.</li>
</ul>
</li>
<li><a href="../../manual/tools/rename-sprites">Rename Sprites</a>:
<ul>
<li>Merged the Sprites and Names into a single column.</li>
<li>Added thumbnails so you can see what you're working with.</li>
<li>Added a <code>First Index</code> field so you can choose to start numbering at 0 or 1 or whatever number you want. <a href="https://github.com/KybernetikGames/animancer/issues/316">#316</a></li>
<li>Removed the <code>New Names</code> field.</li>
<li>Instead, anything you enter in a <code>Sprite</code>'s name field will apply to it and all following Sprites until the next name you enter. For example:</li>
</ul>
</li>
</ul>
<table class="table">
  <thead>
    <tr><th style="width:50%">Walk Down</th>
    <th style="width:50%">Walk Down and Left</th>
  </tr></thead>
  <tbody>
    <tr>
<td>
<p>First you type <code>Mage-Walk-Down-</code> for the first <code>Sprite</code>'s name.</p>
<p>The <code>First Index</code> number is automatically added to the end and every <code>Sprite</code> after that is given the same name with the next number.</p>
<p>Because there are more than 10 <code>Sprite</code>s (see the scroll bar) it uses 2 digits for all the numbers (i.e. starting at "01" instead of just "1").</p>
</td>
<td>
<p>Then you go to the 5th <code>Sprite</code> and call it <code>Mage-Walk-Left-</code>.</p>
<p>Now everything after it is using that name while the first 4 continue using <code>Mage-Walk-Down-</code> with a 1 digit suffix because there's only 4 of them now (and the <code>Minimum Digits</code> is 1).</p>
<p>The two names you've entered are shown in <strong>bold</strong> while the others which are following your naming convention are in <em>italics</em>.</p>
</td>
    </tr>
    <tr>
      <td><img src="rename-walk-down.png" class="pngif img-responsive"></td>
      <td><img src="rename-walk-down-and-left.png" class="pngif img-responsive"></td>
    </tr>
  </tbody>
</table>
<ul>
<li><a href="../../manual/tools/generate-sprite-animations">Generate Sprite Animations</a>:
<ul>
<li>Added fields to customize the animation being generated (if you want to animate something other than a <code>SpriteRenderer</code>): <a href="https://github.com/KybernetikGames/animancer/issues/283">#283</a>
<ul>
<li><code>Hierarchy Path</code>: the name of each object in the Hierarchy below the <code>Animator</code> down to the object with the component you want to animate.</li>
<li><code>Target Type</code>: the Assembly Qualified Name of the Component type on that object.</li>
<li><code>Property Name</code>: the name of the field on that Component.</li>
</ul>
</li>
<li>Added thumbnails and animation previews.</li>
</ul>
</li>
</ul>
<p><img src="generate-sprite-animations.png" class="pngif img-responsive"></p>
<h1 id="animation-rigging">Animation Rigging</h1>
<p>Unity's <a href="../../samples/integration/animation-rigging">Animation Rigging</a> package has always worked with Animancer but has several limitations which are explained on that page.</p>
<p>The <a href="../../samples/integration/animation-rigging#resetting-properties">Resetting Properties</a> issue now has a new workaround which is much more usable than the previous workarounds. The <code><a href="/animancer/api/Animancer/PlayableOutputRefresher">PlayableOutputRefresher</a></code> page explains how to use it.</p>
<h1 id="samples">Samples</h1>
<blockquote class="blockquote">
<p><a href="upgrade-guide#release-timeline">The Samples are currently being worked on as explained in the Release Timeline</a></p>
</blockquote>
<p>Now that Animancer has become a package, the Examples have been re-branded as <a href="../../samples">Samples</a> and reorganised to follow <a href="https://docs.unity3d.com/Manual/cus-samples.html">Unity's guidelines for package samples</a>. That means they are hidden by default and can be imported into your project as explained on the <a href="../../samples">Samples</a> page.</p>
<p><a href="../../samples"><img src="../../samples/package-manager-samples.png" class="img-responsive"></a></p>
<img src="animancer-humanoid.png" class="img-responsive img-right">
<h2 id="general-changes">General Changes</h2>
<ul>
<li>Replaced the old <em>DefaultHumanoid</em> character model with <em>AnimancerHumanoid</em>.
<ul>
<li>Created with <a href="https://vroid.com">VRoid Studio</a>.</li>
<li>Removed the old <em>SpiderBot</em> model as well.</li>
</ul>
</li>
<li>Changed the coding conventions for sample scripts:
<ul>
<li>Classes are no longer <code>sealed</code>.</li>
<li><code>MonoBehaviour</code> messages are <code>protected virtual</code> instead of <code>private</code> to encourage good practices in users <a href="/cs-unity/docs/introduction/methods/messages">as explained here</a>.</li>
<li>Scripts use explicit variable types.</li>
</ul>
</li>
<li>Added a <code><a href="/animancer/api/Animancer.Samples/SampleReadMe">SampleReadMe</a></code> to every sample scene to give new users a bit more guidance in case they're just casually looking through the samples and lead them towards the documentation.</li>
</ul>
<h2 id="additions">Additions</h2>
<ul>
<li>Added <a href="../../samples/fine-control/live-inspector">Live Inspector</a>.</li>
<li>Added <a href="../../samples/basics/library">Library Character</a> and <a href="../../samples/mixers/serialization">Animation Serialization</a> to demonstrate <a href="#transition-libaries">Transition Libraries</a>.</li>
<li>Added <a href="../../samples/layers/face">Facial Expressions</a>.</li>
<li>Added <a href="../../samples/sprites/character-3d">Directional Character 3D</a>. <a href="https://github.com/KybernetikGames/animancer/issues/280">#280</a></li>
</ul>
<h2 id="removals">Removals</h2>
<ul>
<li>Removed <del>Root Motion</del> because the behaviour it demonstrated (toggling <code>Animator.applyRootMotion</code> with a class that inherits from <code><a href="/animancer/api/Animancer/ClipTransition">ClipTransition</a></code>) was rather clunky and not particularly useful.
<ul>
<li>Added a <a href="../../manual/other/root-motion">Root Motion</a> page to the User Manual with a more general explanation.</li>
<li>Removed <code>RootMotionRedirect</code> from <a href="../../samples/fsm/brains">Brains</a> since the <a href="../../manual/other/root-motion#redirecting-root-motion">Redirect Root Motion</a> scripts are now outside the samples.</li>
</ul>
</li>
<li>Merged <del>Speed and Time</del> and <del>Solo Animation</del> into <a href="../../samples/fine-control/doors">Doors</a> which now uses <code><a href="/animancer/api/Animancer/SoloAnimation">SoloAnimation</a></code> instead of <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code>s.</li>
<li>Merged <del>Hybrid Basics</del> into <a href="../../samples/animator-controllers/character">Hybrid Character</a> and changed it to be a remake of <a href="../../samples/basics/character">Basic Character</a> to show the simplest possible usage of Animator Controllers.</li>
<li>Moved <a href="../../manual/events/animancer/utilities">Event Utilities out to the User Manual</a> since there's no real point in listing it as a Sample when it doesn't have a scene.</li>
</ul>
<h2 id="specific-changes">Specific Changes</h2>
<ul>
<li>Reworked <del>Named Animations</del> into <a href="../../samples/fine-control/named">Named Character</a> which uses a Transition Library instead of a <code><a href="/animancer/api/Animancer/NamedAnimancerComponent">NamedAnimancerComponent</a></code>.</li>
<li><a href="#linear-mixer-sample">Reworked Linear Mixer to use the new Parameter Binding system as explained above.</a></li>
<li>Reworked <a href="../../samples/mixers/directional">Directional Mixer</a>:
<ul>
<li>It now uses the <em>AnimancerHumanoid</em> model instead of Spider Bot.</li>
<li>It also uses the <a href="#parameters">Parameter Binding</a> system.</li>
<li>The samples now include <em>Humanoid-Walk</em> animations for <em>Backwards</em>, <em>Left</em>, and <em>Right</em> for this purpose (in addition to <em>Forwards</em>).</li>
<li>It now uses <a href="../../manual/other/root-motion">Root Motion</a> to move around.</li>
<li>Removed physics so it simply moves the <code>Transform</code> around without a <code>Rigidbody</code> or <code>Collider</code>.</li>
<li>It no longer bothers with rotating the character since it was off topic.</li>
</ul>
</li>
<li>Reworked <a href="../../samples/events/footsteps">Footstep Events</a> to use the <a href="#event-binding">new Event Binding system as explained above</a>.</li>
<li>Reworked <del>Lean</del> into <a href="../../samples/jobs/hit-impacts">Hit Impacts</a> which uses the same job to lean the character for a short time as if they're being hit by an attack</li>
<li>Improved <a href="../../samples/animator-controllers/3d-game-kit/locomotion/movement#full-movement-control">3D Game Kit's Full Movement Control</a> system to interpolate towards natural Root Motion as the player's input magnitude approaches zero.</li>
</ul>
<h1 id="minor-features">Minor Features</h1>
<ul>
<li>Added <code><a href="/animancer/api/Animancer/AnimancerLayer/420AF48C">AnimancerLayer.ActiveStates</a></code> to efficiently track states that are playing or have any <code>Weight</code> or <code>TargetWeight</code>.
<ul>
<li>Changed <code><a href="/animancer/api/Animancer/AnimancerState/A2D2518E">AnimancerState.IsActive</a></code> to include the current <code>Weight</code> so it corresponds to the state's presence in the <code>ActiveStates</code> list.</li>
<li>Added <code><a href="/animancer/api/Animancer/AnimancerState/CDD8E00A">AnimancerState.IsCurrent</a></code> with the old behaviour of <code>IsActive</code> (just <code>IsPlaying</code> and <code>TargetWeight &gt; 0</code>).</li>
<li>Optimized various operations which previously iterated through all states in a layer to now only go through the active states. For example, playing a new animation only needs to stop or fade out the other animations which were actually playing instead of wasting time stopping states which were alreay stopped.</li>
</ul>
</li>
<li>Added a reflection based system for associating <code>CustomGUI</code> drawers with their target objects.
<ul>
<li>Added support for custom <code>CustomGUI</code> on internal details (visible in the <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code> Inspector when the "Show Internal Details" display setting is on).</li>
<li>Added <code>FadeGroup.Drawer</code>.</li>
<li>Added <code>EventDispatcherDrawer</code> for drawing event dispatchers in the Post-Updatables list.</li>
</ul>
</li>
<li>Added <code>AnimancerEvent.Sequence.SetCallbacks</code>, <code>AddCallbacks</code>, and <code>RemoveCallbacks</code> for controlling all events with the given name instead of only the first one. <a href="https://github.com/KybernetikGames/animancer/issues/263">#263</a></li>
<li>Added <code><a href="/animancer/api/Animancer/Dispatcher/41CE4392">AnimancerEvent.Dispatcher.MaximumFullLoopCount</a></code> to prevent a short and fast looping animation from invoking all its events too many times every frame. It's still unlikely that you'll get useful behaviour from invoking so many events, but this should help limit how badly it can lock up the app at least.</li>
<li>Added <code>MixerState.NormalizedParameter</code> for treating the parameter as a value between 0 and 1 regardless of the actual thresholds assigned.</li>
<li>Added <code><a href="/animancer/api/Animancer/IParametizedState">IParametizedState</a></code> to simplify parameter drawing in the Inspector for Mixers and <code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code>s.</li>
<li>Added <code>AnimancerGraph.DestroyPlayable</code> in case you want to destroy it without destroying the whole graph (in case the graph was owned by another system).</li>
<li>Added <code>[AnimancerHelpUrl]</code> attribute which uses a type reference to generate the URL instead of needing to hard code the string.</li>
<li>Added <code>ClipTransitionSequence.TryGetCumulativeTime</code>.</li>
<li>Added <code>oldValue</code> as a parameter to <code>IPolymorphicReset.Reset</code> so it can potentially copy over things based on specifically known previous types.</li>
<li>Added <code>Normalized Start Time</code> field to <code><a href="/animancer/api/Animancer/SoloAnimation">SoloAnimation</a></code>.</li>
<li>Added <code>OptionalWarning.EventPlayMismatch</code> to help detect event registration issues with shared Transitions.</li>
<li>Added <code>OptionalWarning.DynamicAnimation</code> which warns if you try to play an animation that isn't saved as an asset because animations can't be created dynamically at runtime (except Legacy animations which Animancer can't use).</li>
<li>Added <code>OptionalWarning.ExpectFade</code> which warns if a state created by a transition with a fade is then played without a fade. This usually happens for beginners who don't realise that <code>Play(state)</code> won't have any fade and they should use <code>Play(transition)</code>.</li>
<li>Added <code><a href="/animancer/api/Animancer/CloneContext">CloneContext</a></code> system for cloning complex object trees and translating their internal references to the corresponding clones.</li>
<li>Added <code>TimeSynchronizer</code> to replace the old <code>TimeSynchronizationGroup</code>. <a href="https://github.com/KybernetikGames/animancer/issues/250">#250</a></li>
<li>Added Project Settings page for <code><a href="/animancer/api/Animancer.Editor/AnimancerSettings">AnimancerSettings</a></code>.</li>
<li>Added <code>Initialize Graph</code> context menu function to <code><a href="/animancer/api/Animancer/AnimancerComponent">AnimancerComponent</a></code>.</li>
<li>Added <code>Orphans</code> list to the Live Inspector which shows states that have been registered with a key but not given a parent.</li>
<li>Added <code>DragAndDropHandler</code> delegate to rework drag and drop handling in the editor GUI.</li>
</ul>
<h1 id="improvements">Improvements</h1>
<ul>
<li>Improved <a href="../../manual/other/polymorphic">Polymorphic Drawer</a> to be able to properly draw objects with custom drawers for their type.</li>
<li>Improved Object Pool logging to log the contents of all pools when the Play Mode state changes.</li>
<li>Improved <code>ManualMixerState.ToString</code> to put the mixer type first and be cached separately from the <code>DebugName</code> so it doesn't appear as a string label in the Inspector.</li>
<li>Improved <code><a href="/animancer/api/Animancer/SimpleTimer">SimpleTimer</a></code>:
<ul>
<li>Changed it to track <code>long</code> ticks instead of <code>double</code> seconds.</li>
<li>Added an optional <code>format</code> string in case more or less than 3 decimal places of precision is needed. Can also set it to <code>null</code> for it to use the ticks in its strings instead of seconds.</li>
</ul>
</li>
<li>Improved the animation bindings warning icons:
<ul>
<li>Optimized their drawing to be more efficient.</li>
<li>Removed the loading icons while the bindings are being checked since they will usually not need to show a warning anyway.</li>
<li>Removed the <code><a href="/animancer/api/Animancer/ITransition">ITransition</a></code> interfaces nested inside each state type because they're no longer necessary.</li>
</ul>
</li>
<li>Improved the <code>AppendDescription</code> methods:
<ul>
<li>Added <code><a href="/animancer/api/Animancer/IHasDescription">IHasDescription</a></code> with standard extension methods.</li>
<li>Added <code><a href="/animancer/api/Animancer/IUpdatable">IUpdatable</a></code> and <code>IDisposable</code> descriptions to the text if they implement <code><a href="/animancer/api/Animancer/IHasDescription">IHasDescription</a></code>. This is used by <code><a href="/animancer/api/Animancer/FadeGroup">FadeGroup</a></code>s.</li>
<li>Added <code>AnimancerUtilities.AppendField</code> for easily appending a named value.</li>
<li>Pulled <code>AnimancerState.GetPath</code> up to <code><a href="/animancer/api/Animancer/AnimancerNode">AnimancerNode</a></code>.</li>
<li>Changed various inter-node references to use <code>GetPath</code> to make it easier to tell what it's referring to.</li>
<li>Improved <code>AnimancerGraph.AppendDescription</code> to include Orphan States, i.e. states registered in the dictionary but with no parent.</li>
</ul>
</li>
<li>Improved various icon usages. In particular, replaced all "x" buttons with an eraser icon.</li>
<li>Optimized <code><a href="/animancer/api/Animancer/ClipState/FB59BB5E">ClipState.Length</a></code> and <code>IsLooping</code> to be retrieved from the <code>AnimationClip</code> in the constructor and cached because getting them from the <code>AnimationClip</code> allocaes some garbage every time.</li>
<li>Optimized Animancer Events by adding <code>AnimancerState.GetEventDispatchInfo</code> to get all the required details from the state in one call, which is much more efficient (especially for Mixers).</li>
<li>Optimized Mixers to cache their <code>IsLooping</code> property instead of checking if any child is looping every frame (which would have been recursive for nested Mixers).</li>
<li>Optimized the <code><a href="/animancer/api/Animancer/AnimancerState/B4C79799">AnimancerState.NormalizedTimeD</a></code> getter to only get the <code>Length</code> once.</li>
<li>Optimized <code>Object.name</code> usage by adding <code>ObjectNameCache</code> since it allocates garbage every time it's accessed.
<ul>
<li>You can define <code>ANIMANCER_DISABLE_NAME_CACHE</code> as a compilation symbol to disable this system.</li>
</ul>
</li>
</ul>
<h1 id="changes">Changes</h1>
<ul>
<li>Changed the "total Weight of all states in this layer does not equal 1" Inspector warning to appear on all layers instead of only the Base Layer. If you want to smoothly stop a layer you need to fade out the layer itself, not its states.</li>
<li>Changed all states to stay at <code>Time = 0</code> after their first frame so that the first time they're played is consistent with subsequent re-plays.</li>
<li>Changed <code>InputBuffer</code> to replace the state machine's <code>ForceSetDefaultState</code> delegate to try to enter the buffered state first.
<ul>
<li>Changed the Weapons example's <code>AttackState</code> to use this feature for attack combos so it doesn't need to return to Idle for one frame between attacks.</li>
</ul>
</li>
<li>Changed <code><a href="/animancer/api/Animancer/AnimancerLayer">AnimancerLayer</a></code>s to use a list-like <code>Capacity</code> which doubles whenever it needs to increase instead of simply incrementing.</li>
<li>Changed the <code><a href="/animancer/api/Animancer/AnimancerLayer/B90A934F">AnimancerLayer.MaxCloneCount</a></code> setter to <code>public</code>.</li>
<li>Changed <code>ITransition&lt;T&gt;</code> to support covariance.</li>
<li>Changed <code>ManagedReference</code> handling to use the <code>managedReferenceValue</code> property.</li>
<li>Changed <code>AnimancerEvent.Sequence.CopyFrom</code> to not resize the <code>Names</code> array if it's already larger than necessary.</li>
<li>Changed <code><a href="/animancer/api/Animancer.Editor/AnimancerSettings">AnimancerSettings</a></code> to use dynamic <code>[SerializeReference]</code> fields so it's more modular.</li>
<li>Changed <code>ICloneable</code> to be generic.</li>
<li>Changed <code><a href="/animancer/api/Animancer/ControllerState/DFE184E4">ControllerState.ActionsOnStop</a></code> to not call <code>GatherDefaultStates</code> so it only gets called by <code>CreatePlayable</code>.</li>
<li>Changed <code>AnimancerTransition.Events</code> to <code>virtual</code>.</li>
<li>Changed <code><a href="/animancer/api/Animancer/AnimancerGraph/FD81B96B">AnimancerGraph.KeepChildrenConnected</a></code> to always default to <code>false</code> instead of <code>true</code> for Generic Rigs because it no longer seems to give them better performance.</li>
<li>Changed <code>OptionalWarning.UnusedNode</code> to not log for nodes with a parent.</li>
<li>Changed <code>AnimancerNode.CopyFrom</code> and all inherited overloads to <code>public</code>.</li>
<li>Renamed <code>ValidateAssertNotLegacy</code> to <code>AssertAnimationClip</code> and added a <code>null</code> check to give a better exception.</li>
<li>Moved the default <code><a href="/animancer/api/Animancer.Editor/AnimancerSettings">AnimancerSettings</a></code> location to the root Assets folder and added an Inspector message explaining that you can move it anywhere but should keep it outside the Animancer folder so you keep your settings if you ever delete and update Animancer.</li>
<li>Moved the <code>Speed</code> field from child transition classes up to the base <code>AnimancerTransition</code> since all states now support it (<code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code> didn't previously).
<ul>
<li>Removed <code>OptionalWarning.UnsupportedSpeed</code> for the same reason.</li>
</ul>
</li>
<li>Simplified the <code><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a></code> parenting system.
<ul>
<li><code>AnimancerState.SetParent</code> no longer takes a manually specified index. Both Layers and Mixers will add new states to the end of their list.</li>
<li>Removed <code>AnimancerNode.AddChild</code> since it's now unnecessary. Just use <code>child.SetParent</code>.</li>
</ul>
</li>
<li>Split <code><a href="/animancer/api/Animancer/AnimancerReflection">AnimancerReflection</a></code> out of <code><a href="/animancer/api/Animancer/AnimancerUtilities">AnimancerUtilities</a></code> and <code><a href="/animancer/api/Animancer.Editor/AnimancerEditorUtilities">AnimancerEditorUtilities</a></code>.</li>
<li>Split <code><a href="/animancer/api/Animancer/AnimancerLayerMixerList">AnimancerLayerMixerList</a></code> out of <code><a href="/animancer/api/Animancer/AnimancerLayerList">AnimancerLayerList</a></code>.</li>
</ul>
<h1 id="removals-1">Removals</h1>
<ul>
<li>Removed the classes derived from <code>AnimancerTransitionAssetBase</code> for each individual transition type except <code><a href="/animancer/api/Animancer/TransitionAsset">TransitionAsset</a></code> since its <code>[SerializeReference]</code> can hold any of them without changing the asset type.
<ul>
<li>See the <a href="upgrade-guide#transition-assets">Upgrade Guide</a> for more details.</li>
</ul>
</li>
<li>Removed <code>FastEnumerator</code> members which modified the list because they exposed unexpected vulnerabilities since enumerators aren't expected to allow modifications.</li>
<li>Removed the Inspector warning "A state is playing at weight 0" because that's actually supported now.</li>
<li>Removed <code>AnimancerState.DelayedPause</code> and integrated its functionality into <code><a href="/animancer/api/Animancer/ControllerState">ControllerState</a></code> directly since that's the only place it was used.</li>
<li>Removed <code>AnimancerGUI.GetNarrowText</code> since it wasn't really useful and added unnecessary complexity.</li>
<li>Removed <code>FastComparer</code> and <code>FastEqualityComperer</code> because they weren't notably faster and were sometimes slower.</li>
<li>Removed <code>OptionalWarning.LockedEvents</code> since you would need to explicitly access <code>state.SharedEvents</code> to run into the issues it warns about.</li>
<li>Removed <code>IValidatable</code> and replaced its usage with <code>AnimancerReflection.TryInvoke</code>.</li>
<li>Removed <code>LazyStack</code> and replaced its usage with manual list management since there weren't many uses.</li>
<li>Removed <code>SoloAnimation.FootIK</code> since it's unlikely to be useful for character animations anyway.</li>
</ul>
<h1 id="fixes">Fixes</h1>
<ul>
<li>Fixed the <code><a href="/animancer/api/Animancer.Editor/ReadMe">ReadMe</a></code> to only log that a new version is available once per Unity Editor session instead of logging again every domain reload.</li>
<li>Fixed fading to include the root <code>AnimancerGraph.Speed</code> in the fade time progression.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/AnimancerEditorUtilities/9AE29F48">AnimancerEditorUtilities.PlayModeState</a></code> to be properly initialized in Edit Mode.</li>
<li>Fixed <code>AnimancerStateDictionary.GetEquivalentNode</code> to connect a newly cloned state to the correct layer.</li>
<li>Fixed incorrect comment on <code>AnimancerState.MoveTime</code> and added more detail. It previously claimed that Animancer Events would be skipped, but that isn't true.</li>
<li>Fixed several incorrect usages of the component <code>name</code> in <code><a href="/animancer/api/Animancer/HybridAnimancerComponent">HybridAnimancerComponent</a></code>. <a href="https://github.com/KybernetikGames/animancer/issues/297">#297</a></li>
<li>Fixed Animancer Events to not start triggering every frame if you used one to re-play the animation that triggered it. <a href="https://github.com/KybernetikGames/animancer/issues/298">#298</a></li>
<li>Fixed <code>AnimancerStateDrawer</code> to not break GUI control IDs after it.</li>
<li>Fixed the Live Inspector state foldout to properly clear the hot control when clicked.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/TransitionDrawer">TransitionDrawer</a></code> indentation in Unity 2022.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/TransitionDrawer">TransitionDrawer</a></code> to still show its foldout arrow in array fields even if thats the only field in the declaring type. <a href="https://github.com/KybernetikGames/animancer/issues/307">#307</a></li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/TransitionDrawer">TransitionDrawer</a></code> to still show its foldout arrow if the target Transition is in a serializable class.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Samples/TimeScale">TimeScale</a></code> to do nothing when disabled.</li>
<li>Fixed <code><a href="/animancer/api/Animancer/AnimancerLayer/6D0213E1">AnimancerLayer.Mask</a></code> to allow <code>null</code> to be assigned without allocating any garbage in case you want to set it from an unassigned serialized field or copy from another layer which has no mask. <a href="https://github.com/KybernetikGames/animancer/issues/303">#303</a></li>
<li>Fixed <code>AnimancerLayer.GetOrCreateState</code> to start a cloned state at <code>Weight = 0</code> and register it in the state dictionary.</li>
<li>Fixed <code><a href="/animancer/api/Animancer/IUpdatable">IUpdatable</a></code> usage to continue enumerating properly if an item is removed during an update before it has been updated.</li>
<li>Fixed <code>AnimancerNode.MarkAsUsed</code> to be properly Assert-Conditional.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Samples/SampleInput/C78D4B8B">SampleInput.WASD</a></code> to work properly with the Play Mode Domain Reload disabled.</li>
<li>Fixed <code>AnimancerGraph.InsertOutputPlayable</code> to connect the correct playable.</li>
<li>Fixed <code>AnimancerState.RecreatePlayable</code> to retain its IK flags and connect the <code>Playable</code> to the parent if necessary.</li>
<li>Fixed <code>AnimancerNodeDrawer</code> to allow fades to be manually started in the Inspector.</li>
<li>Fixed the <code><a href="/animancer/api/Animancer.Editor.Tools/SpriteDataEditor/F3CE077C">SpriteDataEditor.SpriteCount</a></code> setter to initialize all the sprites instead of leaving them <code>null</code>.</li>
<li>Fixed the dummy event callback drawer to automatically expand a newly created item.</li>
<li>Moved the <code><a href="/animancer/api/Animancer/IPolymorphic">IPolymorphic</a></code> implementation from <code><a href="/animancer/api/Animancer/ITransition">ITransition</a></code> to <code>AnimancerTransition</code> so it doesn't interfere with custom Object Field drawers (from Inspector Gadgets or any other system) on Transition Asset references.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/PolymorphicDrawer">PolymorphicDrawer</a></code> to not draw the header line twice if it can't find another drawer for the target object type.</li>
<li>Fixed Mixer child weight calculation errors.</li>
<li>Fixed Mixer Time Synchronization to calculate the speed properly for nested Mixers.</li>
<li>Fixed Ctrl + Click on a Mixer child in the Inspector causing it to re-parent under the layer and play directly. Instead it will now just play the Mixer.</li>
<li>Fixed the Mixer Transition Inspector to not show a toggles on the <code>Speed</code> fields to disable them. <a href="https://github.com/KybernetikGames/animancer/issues/258">#258</a></li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/LinearMixerTransitionDrawer">LinearMixerTransitionDrawer</a></code> to not lose the text field being edited when a sorting warning appears or disappears. <a href="https://github.com/KybernetikGames/animancer/issues/343">#343</a></li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/PlayableAssetTransitionDrawer">PlayableAssetTransitionDrawer</a></code> error when changing the <code>Bindings</code> count to 0.</li>
<li>Fixed <code>ControllerState.GetStateInfo</code> to return a default uninitialized state instead of giving an error if called before the Playable is initialized.</li>
<li>Fixed the Inspector for states with 0 length to show the time highlight bar across their whole area.</li>
<li>Fixed <code>AnimancerGraph.CopyFrom</code> to properly copy custom fades and do nothing if called on itself.</li>
<li>Fixed <code>AnimancerLayer.CopyStatesFrom</code> to reuse existing states instead of destroying and recreating them all.</li>
<li>Fixed <code><a href="/animancer/api/Animancer/AnimancerState">AnimancerState</a></code> cloning into a new graph uses the same <code>Key</code>.</li>
<li>Fixed <code>AnimancerUtilities.TryGetIsLooping</code> and <code>TryGetLength</code> to not cause exceptions if the given object is a destroyed <code>AnimationClip</code>. <a href="https://github.com/KybernetikGames/animancer/issues/342">#342</a></li>
<li>Fixed Real Speed field in the Inspector to not cause drag events to be lost when it appears or disappears.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/AnimancerGraphCleanup">AnimancerGraphCleanup</a></code> to work properly when the Play Mode Domain Reload is disabled.
<ul>
<li>Replaced <code>OptionalWarning.CreateGraphWhileDisabled</code> with a warning when <code><a href="/animancer/api/Animancer.Editor/AnimancerGraphCleanup">AnimancerGraphCleanup</a></code> is forced to clean up a graph that wasn't destroyed in Play Mode.</li>
</ul>
</li>
<li>Fixed temporarily disabled <code><a href="/animancer/api/Animancer/OptionalWarning">OptionalWarning</a></code>s to be re-enabled on entering Play Mode.</li>
<li>Fixed scripts to support API changes in Unity 6.
<ul>
<li><code>Rigidbody.velocity</code> renamed to <code>linearVelocity</code>.</li>
</ul>
</li>
<li>Fixed <code>UnityVersionChecker.ExpectedAssemblyTarget</code> used by Animancer Lite to warn if the wrong DLL is being used (meaning the user needs to re-download the correct version of Animancer for their version of Unity).</li>
<li>Fixed <code>[EventNames(typeof(Something))]</code> to include names in classes that <code>Something</code> inherits from. <a href="https://github.com/KybernetikGames/animancer/issues/353">#353</a></li>
<li>Fixed various exceptions caused by having a <a href="../../manual/transitions/assets">Transition Assets</a> without its <code>Transition</code> assigned.</li>
<li>Fixed <code><a href="/animancer/api/Animancer.Editor/TransitionDrawer">TransitionDrawer</a></code> to be able to draw object fields for <a href="../../manual/transitions/assets">Transition Assets</a>.</li>
</ul>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <strong><div style="text-align:left; display:flex">

<div>
<p>Documentation</p>
<p><a href="/animancer/docs/samples">Samples</a></p>
<p><a href="/animancer/docs/manual">User Manual</a></p>
<p><a href="/animancer/docs/changes">Change Log</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Download</p>
<p><a href="https://kybernetik.itch.io/animancer-pro">Itch.io (Recommended)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-pro-116514?aid=1100l8ah5">Asset Store (Animancer Pro)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516?aid=1100l8ah5">Asset Store (Animancer Lite)</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Contact</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues">Github Issues</a></p>
<p><a href="/animancer/redirect/discussions">Unity Discussions</a></p>
<p><a href="mailto:animancer@kybernetik.com.au?subject=Animancer">Email</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Other Assets</p>
<p><a href="/flexi-motion">FlexiMotion</a></p>
<p><a href="/inspector-gadgets">Inspector Gadgets</a></p>
<p><a href="/weaver">Weaver</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>&nbsp;</p>
<p><a href="https://assetstore.unity.com/packages/vfx/shaders/simple-sun-shader-72042?aid=1100l8ah5">Simple Sun Shader</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/version-control/link-sync-229569?aid=1100l8ah5">Link &amp; Sync</a></p>
<p><a href="/ultevents">UltEvents</a></p>
</div>

</div></strong>
<script src="/animancer/assets/js/pngif.js"></script>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>