<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/animancer/assets/img/favicon.ico" type="image/x-icon">
        <title>Animancer - Finite State Machines</title>
        <link href="/animancer/assets/css/highlight.css" rel="stylesheet">
        <link href="/animancer/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/animancer/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/animancer/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/animancer/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/animancer/assets/css/override.css" rel="stylesheet">
        <script src="/animancer/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/animancer/assets/js/bootstrap.min.js"></script>        
        <script src="/animancer/assets/js/app.min.js"></script>         
        <script src="/animancer/assets/js/highlight.pack.js"></script>   
        <script src="/animancer/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/animancer/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/animancer/assets/js/mermaid.min.js"></script>
        <script src="/animancer/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/animancer/assets/js/html5shiv.min.js"></script>
        <script src="/animancer/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/animancer/" class="logo">
                            <span>Animancer</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/animancer/docs/introduction/features"><img src="/animancer/images/features.png" height="20px" width="20px" style="left:-7px"> Features</a></li>
        <li><a href="/animancer/docs/download"><img src="/animancer/images/download.png" height="20px" width="20px" style="left:-7px"> Download</a></li>
        <li class="active"><a href="/animancer/docs"><img src="/animancer/images/docs.png" height="20px" width="7.5px" style="left:-5px"> Documentation</a></li>
        <li><a href="/animancer/docs/help"><img src="/animancer/images/help.png" height="20px" width="10.625px" style="left:-4px"> Help</a></li>
        <li><a href="/animancer/api/Animancer/AnimancerComponent"><img src="/animancer/images/api.png" height="20px" width="18.125px" style="left:-3px"> API v6.0</a></li>
        <li><a href="/kailas-dierk/unity-assets"><img src="/animancer/images/kybernetik.png" height="20px" width="20px" style="left:-2px"> Other Assets</a></li>

<li style="width:100%">
<form class="search-form" name="search" action="/animancer/search">
<span><input class="search-input" id="search" name="q" type="text" placeholder="Search..."></span>
<div class="search-button"><button type="submit"><i class="fa fa-search"></i></button></div>
</form>
</li> 
                        </ul>
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#what-is-a-finite-state-machine">What is a Finite State Machine?</a></p>
<p><a href="#overview">Overview</a></p>
<p><a href="#changing-states">Changing States</a></p>
<p><a href="#base-state-types">Base State Types</a></p>
<p><a href="#keys">Keys</a></p>
<p><a href="#input-buffers">Input Buffers</a></p>
<p><a href="#state-selectors">State Selectors</a></p>
<p><a href="#design-rationale">Design Rationale</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/animancer/docs/download">Download</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction">Introduction</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/features">Features</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer">Mecanim vs. Animancer</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/why">Why Replace Mecanim?</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/simplicity">Simplicity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/transparency">Transparency</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/adaptability">Adaptability</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/clarity">Clarity</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/safety">Safety</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/why/reliability">Reliability</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison">Comparison</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/playing">Playing</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/waiting">Waiting</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/speed-and-time">Speed and Time</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/comparison/weapon-animations">Weapon Animations</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/conversion">Conversion</a></li>
                <li><a href="/animancer/docs/introduction/mecanim-vs-animancer/performance">Performance</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/introduction/glossary">Glossary</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/introduction/cs">C# in Unity</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/introduction/cs/overview">Scripting Overview</a></li>
                <li><a href="/animancer/docs/introduction/cs/organisation">Organisation</a></li>
                <li><a href="/animancer/docs/introduction/cs/variables">Variables</a></li>
                <li><a href="/animancer/docs/introduction/cs/methods">Methods</a></li>
                <li><a href="/animancer/docs/introduction/cs/inheritance">Inheritance</a></li>
                <li><a href="/animancer/docs/introduction/cs/vectors">Vectors</a></li>
                <li><a href="/animancer/docs/introduction/cs/other">Other Topics</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/basics">01 Basics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/basics/scene-setup">Basic Scene Setup</a></li>
                <li><a href="/animancer/docs/examples/basics/quick-play">01 Quick Play</a></li>
                <li><a href="/animancer/docs/examples/basics/playing-and-fading">02 Playing and Fading</a></li>
                <li><a href="/animancer/docs/examples/basics/sequence-coroutine">03 Sequence Coroutine</a></li>
                <li><a href="/animancer/docs/examples/basics/named-animations">04 Named Animations</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fine-control">02 Fine Control</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fine-control/spider-bot">01 Spider Bot</a></li>
                <li><a href="/animancer/docs/examples/fine-control/doors">02 Doors</a></li>
                <li><a href="/animancer/docs/examples/fine-control/solo-animation">03 Solo Animation</a></li>
                <li><a href="/animancer/docs/examples/fine-control/update-rate">04 Update Rate</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/locomotion">03 Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/locomotion/walk-and-run">01 Walk and Run</a></li>
                <li><a href="/animancer/docs/examples/locomotion/root-motion">02 Root Motion</a></li>
                <li><a href="/animancer/docs/examples/locomotion/linear-blending">03 Linear Blending</a></li>
                <li><a href="/animancer/docs/examples/locomotion/directional-blending">04 Directional Blending</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/directional-sprites">04 Directional Sprites</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/directional-sprites/basic-movement">01 Basic Movement</a></li>
                <li><a href="/animancer/docs/examples/directional-sprites/character-controller">02 Character Controller</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/events">05 Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/events/footsteps">01 Footstep Events</a></li>
                <li><a href="/animancer/docs/examples/events/golf">02 Golf Events</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/fsm">06 State Machines</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/examples/fsm/game-manager">01 Game Manager</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/fsm/game-manager/enum">Enum</a></li>
                <li><a href="/animancer/docs/examples/fsm/game-manager/fsm">FSM</a></li>
                <li><a href="/animancer/docs/examples/fsm/game-manager/comparison">Comparison</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/fsm/creatures">02 Creatures</a></li>
                <li><a href="/animancer/docs/examples/fsm/interrupts">03 Interrupt Management</a></li>
                <li><a href="/animancer/docs/examples/fsm/brains">04 Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/more-brains">05 More Brains</a></li>
                <li><a href="/animancer/docs/examples/fsm/weapons">06 Weapons</a></li>
                <li><a href="/animancer/docs/examples/fsm/platformer">07 Platformer</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/layers">07 Layers</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/ik">08 Inverse Kinematics</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/ik/puppet">01 Puppet</a></li>
                <li><a href="/animancer/docs/examples/ik/uneven-ground">02 Uneven Ground</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers">09 Animator Controllers</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/basics">01 Hybrid Basics</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/mini-game">02 Hybrid Mini Game</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit">03 3D Game Kit</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/problems">Problems with the Mecanim Character</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/respawn">Respawn</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/idle">Idle</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion">Locomotion</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/movement">Movement</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/locomotion/turning">Turning</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/airborne">Airborne</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/landing">Landing</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/attack">Attack</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/flinch">Flinch</a></li>
                <li><a href="/animancer/docs/examples/animator-controllers/3d-game-kit/die">Die</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/jobs">10 Animation Jobs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/jobs/two-bone-ik">01 Two Bone IK</a></li>
                <li><a href="/animancer/docs/examples/jobs/damping">02 Damping</a></li>
                <li><a href="/animancer/docs/examples/jobs/lean">03 Lean</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/examples/integration">Integration</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/examples/integration/animation-rigging">Animation Rigging</a></li>
                <li><a href="/animancer/docs/examples/integration/dynamic-bone">Dynamic Bone</a></li>
                <li><a href="/animancer/docs/examples/integration/final-ik">Final IK</a></li>
                <li><a href="/animancer/docs/examples/integration/hairibar-ragdoll">Hairibar Ragdoll</a></li>
                <li><a href="/animancer/docs/examples/integration/puppet-master">Puppet Master</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/animancer/docs/manual">User Manual</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/manual/getting">Getting Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/getting/mixamo">Mixamo</a></li>
                <li><a href="/animancer/docs/manual/getting/importing">Importing</a></li>
                <li><a href="/animancer/docs/manual/getting/animation-window">Animation Window</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/playing">Playing Animations</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/playing/states">States</a></li>
                <li><a href="/animancer/docs/manual/playing/inspector">Inspector</a></li>
                <li><a href="/animancer/docs/manual/playing/component-types">Component Types</a></li>
                <li><a href="/animancer/docs/manual/playing/directional-sets">Directional Animation Sets</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/transitions">Transitions</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/transitions/types">Transition Types</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/blending">Blending</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/blending/fading">Fading</a></li>
                <li><a href="/animancer/docs/manual/blending/layers">Layers</a></li>
                <li><a href="/animancer/docs/manual/blending/mixers">Mixers</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/events">Events</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/events/animation">Animation Events</a></li>
                <li><a href="/animancer/docs/manual/events/animancer">Animancer Events</a></li>
                <li><a href="/animancer/docs/manual/events/end">End Events</a></li>

                    </ul>
                </li>
                <li class="selected"><a href="/animancer/docs/manual/fsm">Finite State Machines</a></li>
                <li><a href="/animancer/docs/manual/animator-controllers">Animator Controllers</a></li>
                <li><a href="/animancer/docs/manual/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/manual/ik">Inverse Kinematics</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/manual/tools">Animancer Tools</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/manual/tools/modify-sprites">Modify Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/rename-sprites">Rename Sprites</a></li>
                <li><a href="/animancer/docs/manual/tools/generate-sprite-animations">Generate Sprite Animations</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-sprite-animation">Remap Sprite Animation</a></li>
                <li><a href="/animancer/docs/manual/tools/remap-animation-bindings">Remap Animation Bindings</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/bugs">Unity Bugs</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/bugs/events">Animation Events</a></li>
                <li><a href="/animancer/docs/bugs/animator-controller-speed">Animator Controller Speed</a></li>
                <li><a href="/animancer/docs/bugs/paused-skinned-mesh-update">Paused Skinned Mesh Update</a></li>
                <li><a href="/animancer/docs/bugs/serialized-array-initialization">Serialized Array Initialization</a></li>
                <li><a href="/animancer/docs/bugs/stabilize-feet">Stabilize Feet</a></li>
                <li><a href="/animancer/docs/bugs/timeline">Timeline</a></li>
                <li><a href="/animancer/docs/bugs/timing">Timing</a></li>
                <li><a href="/animancer/docs/bugs/update-modes">Update Modes</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/source">Source Code</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/source/dlls">DLLs</a></li>
                <li><a href="/animancer/docs/source/creating-custom-states">Creating Custom States</a></li>
                <li><a href="/animancer/docs/source/graph-structure">Graph Structure</a></li>
                <li><a href="/animancer/docs/source/asset-sources">Asset Sources</a></li>
                <li><a href="/animancer/docs/source/coding-standard">Coding Standard</a></li>
                <li><a href="/animancer/docs/source/default-script-template">Default Script Template</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v6-0">Animancer v6.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v6-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v5-3">Animancer v5.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-2">Animancer v5.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v5-1">Animancer v5.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v5-0">Animancer v5.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v5-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v4-4">Animancer v4.4</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-3">Animancer v4.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-2">Animancer v4.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v4-1">Animancer v4.1</a></li>
                <li class="treeview">
                    <a href="/animancer/docs/changes/animancer-v4-0">Animancer v4.0</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/changes/animancer-v4-0/test">Test Releases</a></li>

                    </ul>
                </li>
                <li><a href="/animancer/docs/changes/animancer-v3-1">Animancer v3.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v3-0">Animancer v3.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v2-0">Animancer v2.0</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-3">Animancer v1.3</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-2">Animancer v1.2</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-1">Animancer v1.1</a></li>
                <li><a href="/animancer/docs/changes/animancer-v1-0">Animancer v1.0</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/animancer/docs/help">Help and FAQ</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/animancer/docs/help/debugging">Debugging</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Finite State Machines</h1>
		</section>
	<section class="content">
		<h1 id="what-is-a-finite-state-machine">What is a Finite State Machine?</h1>
<p>A Finite State Machine (often abbreviated as "<em>State Machine</em>" or "<em>FSM</em>") is a system which manages the current state of an object and the other states it can be in. For example, a treasure chest can either be open or closed; that's only two states so you might not bother setting up a full FSM for something that simple. But a character often has many states such as <em>idle</em>, <em>walk</em>, <em>run</em>, <em>jump</em>, <em>fall</em>, <em>attack</em>, and so on, therefore a FSM will often be a good choice for managing that behaviour.</p>
<h1 id="overview">Overview</h1>
<p>Many of the <a href="../introduction/mecanim-vs-animancer/why">problems with Unity's Animator Controller system</a> come from the fact that it is both an animation system and a state machine system combined, which limits its usefulness for either task. Animancer includes a general purpose FSM system which is flexible enough for most needs, but the systems are not tied to each other in any way so you can use one without the other if you want to.</p>
<p>The system is located in the <a href="../../api/Animancer.FSM"><code>Animancer.FSM</code></a> namespace with its source scripts in the <em>Assets/Plugins/Animancer/Utilities/State Machine</em> folder (its full source code is included in both Animancer Lite and Pro).</p>
<h2 id="basic-usage">Basic Usage</h2>
<ol>
<li>Make a base state class which implements the <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code> <a href="../introduction/cs/inheritance#interfaces">Interface</a> (or <a href="../introduction/cs/inheritance">Inherits</a> from something that implements it such as <code><a href="/animancer/api/Animancer.FSM/State">State</a></code> or <code><a href="/animancer/api/Animancer.FSM/StateBehaviour">StateBehaviour</a></code>).</li>
<li>Make a <code><a href="/animancer/api/Animancer.FSM/StateMachine_1">StateMachine&lt;TState&gt;</a></code> field (where <code>TState</code> is the class you just made).</li>
<li>Initialise that field with a <code>new StateMachine&lt;TState&gt;(startingState)</code>.</li>
<li>Change the current state by calling <code>stateMachine.TrySetState(nextState)</code>.</li>
<li>Access the current state using its <code>CurrentState</code> property.</li>
</ol>
<p></p><details><summary>Here is a very simple script which shows the system in action:</summary><p>
</p><ol>
<li>Copy the code below into a new C# script called <code>StateMachineExample.cs</code> (to match the <code>StateMachineExample</code> class name).</li>
<li>Drag that script onto an object in the scene.</li>
<li>Enter Play Mode.</li>
<li>Observe the messages it logs in the Console window.</li>
<li>Click the mouse to change states.</li>
</ol>
<pre><code class="language-cs">using Animancer.FSM;
using UnityEngine;

public sealed class LoggerState : <a href="/animancer/api/Animancer.FSM/IState">IState</a>
{
    public readonly string Name;

    public LoggerState(string name)
    {
        Name = name;
    }

    public bool CanEnterState
    {
        get
        {
            Debug.Log("CanEnterState: " + Name);
            return true;
        }
    }

    public bool CanExitState
    {
        get
        {
            Debug.Log("CanExitState: " + Name);
            return true;
        }
    }

    public void OnEnterState()
    {
        Debug.Log("OnEnterState: " + Name);
    }

    public void OnExitState()
    {
        Debug.Log("OnExitState: " + Name);
    }
}

public sealed class StateMachineExample : MonoBehaviour
{
    private LoggerState _Idle = new LoggerState("Idle");
    private LoggerState _Walk = new LoggerState("Walk");
    private StateMachine&lt;LoggerState&gt; _StateMachine;

    private void Awake()
    {
        // Initialise the FSM to start in the Idle state.
        _StateMachine = new StateMachine&lt;LoggerState&gt;(_Idle);
    }

    private void Update()
    {
        // Swap between the two states whenever the mouse is clicked.
        if (Input.GetMouseButtonDown(0))
        {
            Debug.Log("Mouse was Clicked");
            
            if (_StateMachine.CurrentState == _Idle)
                _StateMachine.TrySetState(_Walk);
            else
                _StateMachine.TrySetState(_Idle);
        }
    }
}
</code></pre>
<p></p></details><p></p>
<p>The <a href="../examples/fsm">State Machines</a> examples demonstrate how to use it in more detail and the <a href="../examples/animator-controllers/3d-game-kit">3D Game Kit</a> example demonstrates how to redesign an Animator Controller based character to use this system instead.</p>
<h2 id="core-scripts">Core Scripts</h2>
<table class="table">
<thead>
<tr>
<th>Script</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code></td>
<td>An interface with two properties (<code>CanEnterState</code> and <code>CanExitState</code>) that determine whether a particular state change will be allowed and two methods (<code>OnEnterState</code> and <code>OnExitState</code>) which notify the state when such a change occurs.</td>
</tr>
<tr>
<td><code><a href="/animancer/api/Animancer.FSM/StateMachine_1">StateMachine&lt;TState&gt;</a></code></td>
<td>Basically just a reference to an <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code> with methods for accessing it and trying to change the state according to the properties in that interface.</td>
</tr>
</tbody>
</table>
<h1 id="changing-states">Changing States</h1>
<p>There are 3 different methods for changing the <code>CurrentState</code>: two <code>Try...</code> methods which respect the <code>CanEnterState</code> and <code>CanExitState</code> rules defined by the states and a <code>Force...</code> method which ignores them.</p>
<table class="table">
  <thead>
    <tr><th>Method</th>
    <th>Description</th>
  </tr></thead>
  <tbody>
    <tr>
      <td><code>TrySetState</code></td>
      <td>If the target state is already the <code>CurrentState</code>, this method returns true without doing anything. Otherwise it calls <code>TryResetState</code>.</td>
    </tr>
    <tr>
      <td><code>TryResetState</code></td>
      <td>
<ol>
<li>If the current state's <code>CanExitState</code> property returns false, this method returns false without doing anything.</li>
<li>Same for the next state's <code>CanEnterState</code> property.</li>
<li>If they both returned true, call <code>ForceSetState</code> and return <code>true</code>.</li>
</ol>
</td>
    </tr>
    <tr>
      <td><code>ForceSetState</code></td>
      <td>
<ol>
<li>Call the current state's <code>OnExitState</code> method.</li>
<li>Set the next state as the current state.</li>
<li>Call the next state's <code>OnEnterState</code> method.</li>
</ol>
</td>
    </tr>
  </tbody>
</table>
<h2 id="state-change-details">State Change Details</h2>
<p>While a <code>StateMachine</code> is changing its state (throughout all of the <code>Can...</code> and <code>On...</code> methods), references to the previous and next state can be accessed in several ways:</p>
<ul>
<li>The static <code><a href="/animancer/api/Animancer.FSM/StateChange_1/E42BA615">StateChange&lt;TState&gt;.PreviousState</a></code> and <code>NextState</code> properties can be accessed from anywhere.</li>
<li>If you have a reference to the <code>StateMachine</code> you can use its properties of the same name (i.e. <code>stateMachine.PreviousState</code>) to avoid needing to specify the <code>TState</code> generic argument.</li>
<li>Inside a class that implements <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code> you can use <code>this.GetPreviousState()</code> and <code>this.GetNextState()</code> which are <a href="../introduction/cs/methods#extension-methods">Extension Methods</a> defined in the <code><a href="/animancer/api/Animancer.FSM/StateExtensions">StateExtensions</a></code> class.</li>
</ul>
<p>All of those properties will return null if no state change is currently occurring.</p>
<h2 id="examples">Examples</h2>
<ul>
<li>You cannot <code>Jump</code> if you are not on the ground so <code>Jump.CanEnterState</code> checks whether the character is on the ground (or asks whatever system is responsible for checking that).</li>
<li>You cannot perform other actions during an <code>Attack</code> so <code>Attack.CanExitState</code> returns false.</li>
<li><code>Attack</code>s can be interrupted if you get hit or killed though, so instead of always returning false, <code>Attack.CanExitState</code> returns true if the <code><a href="/animancer/api/Animancer.FSM/StateChange_1/C03C45F6">StateChange&lt;TState&gt;.NextState</a></code> is <code>Flinch</code> or <code>Die</code>. This is often implemented by using an <code>enum</code> to indicate the priority of each state or type of each state so you might have multiple different <code>Attack</code> scripts (perhaps for melee vs. ranged or to implement attack combos for some creatures but not others) yet they all use the same <code>CreatureAction.Attack</code> as their type. The <a href="../examples/fsm/interrupts">Interrupt Management</a> example goes into more detail about this.</li>
<li>Once the <code>Attack</code> animation finishes, it needs to be able to return to <code>Idle</code>. This could be done by having <code>Attack.CanExitState</code> check the current animation time as well, but since the <code>Attack</code> state already knows it is ending and <code>Idle</code> is unlikely to impose any constraints on when it can be entered you could simply use <code>ForceSetState</code> to skip the check.</li>
</ul>
<h1 id="base-state-types">Base State Types</h1>
<p>The only requirement for a class to be used as a state in this system is to implement <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code>, which means that states can be anything you want: <code>MonoBehaviour</code> components attached to a scene object or prefab, <code>ScriptableObject</code> assets in the project, or just regular C# classes. But rather than implementing the entire interface from scratch every time, there are several base classes that can make your implementation simpler:</p>
<table class="table">
<thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><a href="/animancer/api/Animancer.FSM/StateBehaviour">StateBehaviour</a></code></td>
<td><p><a href="../introduction/cs/inheritance">Inherits</a> from <code>MonoBehaviour</code> and implements <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code> to act as the base class for states that are attached as components on <code>GameObject</code>s. Its <code>OnEnterState</code> and <code>OnExitState</code> methods enable and disable itself respectively, allowing you to use the regular <a href="../introduction/cs/inheritance#monobehaviours">MonoBehaviour Messages</a> like <code>OnEnable</code> and <code>OnDisable</code> to implement your state transition logic, as well as other messages like <code>Update</code> or <code>FixedUpdate</code> depending on the needs of each individual state.</p>All of the <a href="../examples/fsm">State Machines</a> examples after <a href="../examples/fsm/game-manager">Game Manager</a> use State Behaviours.</td>
</tr>
<tr>
<td><code><a href="/animancer/api/Animancer.FSM/State">State</a></code></td>
<td><p>A basically empty class which implements <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code> using <code>virtual</code> members (the <code>Can...</code> properties return <code>true</code> and the <code>On...</code> methods do nothing) so that when you <a href="../introduction/cs/inheritance">Inherit</a> from it you only need to <code>override</code> the members you actually want to use.</p>The <code><a href="/animancer/api/Animancer.Examples.StateMachines.GameManager/State">GameManagerFSM.State</a></code> class from the <a href="../examples/fsm/game-manager">Game Manager</a> example inherits from this <code><a href="/animancer/api/Animancer.FSM/State">State</a></code> since the only member it actually needs to <code>override</code> is <code>OnEnterState</code>.</td>
</tr>
<tr>
<td><code><a href="/animancer/api/Animancer.FSM/DelegateState">DelegateState</a></code></td>
<td>Implements <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code>, but rather than defining its own logic it simply has a <a href="../introduction/cs/methods#delegates">Delegate</a> for each of the members of the interface so you can assign them when creating the state.</td>
</tr>
</tbody>
</table>
<h2 id="owned-states">Owned States</h2>
<p></p><details><summary>States do not need a reference to the <code>StateMachine</code> they are used in for the system to function, however this makes them slightly less convenient to use so if your state type implements <code>IOwnedState<tstate></tstate></code> (which inherits from <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code>) then you can use the <a href="../introduction/cs/methods#extension-methods">Extension Methods</a> in the <code><a href="/animancer/api/Animancer.FSM/StateExtensions">StateExtensions</a></code> class with your states. For example:</summary><p>
</p><pre><code class="language-cs">public abstract class CreatureState : StateBehaviour, IOwnedState&lt;CreatureState&gt;
{
    [SerializeField]
    private Creature _Creature;
    public Creature Creature =&gt; _Creature;

    // Implement the OwnerStateMachine property from IOwnedState&lt;CreatureState&gt;:
    public StateMachine&lt;CreatureState&gt; OwnerStateMachine =&gt; _Creature.StateMachine;

}

public class Creature : MonoBehaviour
{
    [SerializeField]
    private CreatureState _Idle;
    public CreatureState Idle =&gt; _Idle;

    [SerializeField]
    private CreatureState _Walk;
    public CreatureState Walk =&gt; _Walk;

    public StateMachine&lt;CreatureState&gt; StateMachine { get; private set; }

    private void Awake()
    {
        // Initialise the FSM to start in the Idle state.
        StateMachine = new StateMachine&lt;CreatureState&gt;(_Idle);
    }
}

public class CreatureBrain : MonoBehaviour
{
    [SerializeField]
    private Creature _Creature;

    private void Update()
    {
        if (Input.GetKey(KeyCode.W))
        {
            // Normally we would need to tell the StateMachine which state to enter.
            // Note how we have to repeat "_Creature" twice.
            _Creature.StateMachine.TrySetState(_Creature.Walk);

            // But since CreatureState implements IOwnedState we can do the same thing with:
            _Creature.Walk.TryEnterState();
        }
    }

    private bool IsWalking()
    {
        // Normally we repeat "_Creature" twice:
        return _Creature.StateMachine.CurrentState == _Creature.Walk;

        // But with IOwnedState we don't need to:
        return _Creature.Walk.IsCurrentState();
    }
}
</code></pre>
<p></p></details><p></p>
<h1 id="keys">Keys</h1>
<p>There are actually two <code>StateMachine</code> classes in this system:</p>
<table class="table">
  <thead>
    <tr><th style="width:50%">Keyless <code><a href="/animancer/api/Animancer.FSM/StateMachine_1">StateMachine&lt;TState&gt;</a></code></th>
    <th style="width:50%">Keyed <code><a href="/animancer/api/Animancer.FSM/StateMachine_2">StateMachine&lt;TKey, TState&gt;</a></code></th>
  </tr></thead>
  <tbody>
    <tr>
      <td>Contains only a single reference to the <code>CurrentState</code> and requires you to provide a reference to any other state you try to enter.</td>
      <td><a href="../introduction/cs/inheritance">Inherits</a> from <code><a href="/animancer/api/Animancer.FSM/StateMachine_1">StateMachine&lt;TState&gt;</a></code> and adds a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2">Dictionary</a> which allows you to register states with their own keys so that you can later enter those states by providing their key without needing an actual reference to the state itself.</td>
    </tr>
    <tr>
      <td>Easy to create, extend, and debug. When you create a new state you only need to write the code that tries to enter it rather than also needing to make a key for it and modifying the initialisation code to initialise it with all the other states.</td>
      <td>Requires a bit more effort to use, but is useful for abstraction and situations where you need to serialize the current state. For example, if you use an enum as the key you could save it to a file or send it over a network so that the other end can simply look up the state registered with that key.</td>
    </tr>
    <tr>
      <td>
<pre><code class="language-cs">public class Creature : MonoBehaviour
{
  [SerializeField]
  private <a href="/animancer/api/Animancer.FSM/State">State</a> _Idle;

  // Need public access to the state.
  public <a href="/animancer/api/Animancer.FSM/State">State</a> Idle =&gt; _Idle;

  public StateMachine&lt;<a href="/animancer/api/Animancer.FSM/State">State</a>&gt;
    FSM { get; private set; }

  private void Awake()
  {
    // Initialise with the starting state.
    // It doesn't know about any other
    // states until they are used.
    FSM = new StateMachine&lt;<a href="/animancer/api/Animancer.FSM/State">State</a>&gt;(_Idle);
  }
}

// Empty
// space
// to
// line
// up
// with
// the
// other
// example
// code.

public class SomethingElse
{
  public void EnterIdle(Creature creature)
  {
    // We need a direct reference to the
    // FSM and the state to enter it:
    creature.FSM.TryEnterState(creature.Idle);
  }
}



</code></pre>
</td>
      <td>
<pre><code class="language-cs">public class Creature : MonoBehaviour
{
  [SerializeField]
  private <a href="/animancer/api/Animancer.FSM/State">State</a> _Idle;

  // No accessor needed with these keys.
  public enum <a href="/animancer/api/Animancer/Key">Key</a> { Idle, Walk }

  public StateMachine&lt;Key, <a href="/animancer/api/Animancer.FSM/State">State</a>&gt;
    FSM { get; private set; }

  private void Awake()
  {
    // Initialise the StateMachine.
    FSM = new StateMachine&lt;Key, <a href="/animancer/api/Animancer.FSM/State">State</a>&gt;();

    // Register the states with their key.
    // More can be registered later,
    // but that often defeats the purpose.
    FSM.Add(Key.Idle, _Idle);

    // Enter the starting state.
    FSM.ForceSetState(Key.Idle, _Idle);

    // Since there's only one state here we
    // could have just passed it into the
    // constructor, but the point is to show
    // the initialisation.
  }
}

public class SomethingElse
{
  public void EnterIdle(Creature creature)
  {
    // We only need access to the FSM
    // since we can use the enum key:
    creature.FSM.TryEnterState(Key.Idle);

    // And we still have the ability to use
    // direct references if necessary.
  }
}
</code></pre>
</td>
    </tr>
  </tbody>
</table>
<p>The <code><a href="/animancer/api/Animancer.FSM/StateMachine_2">StateMachine&lt;TKey, TState&gt;</a></code> class also has its own <a href="#input-buffers">Input Buffer</a> class and <code><a href="/animancer/api/Animancer.FSM/KeyChange_1">KeyChange&lt;TKey&gt;</a></code> system for <a href="#state-change-details">State Changes</a>.</p>
<h1 id="input-buffers">Input Buffers</h1>
<p>Rather than simply attempting a state change and giving up if it isn't allowed, it is often desirable to keep trying for a short time. For example, if the player is attacking and they press the attack button again, you probably want the current animation to finish first and then start the next attack in a combo as long as the input didn't occur too long ago. Note that "input" in this case does not only mean "button presses from the player", it can be used for any sort of events that might try to control a state machine (such as AI).</p>
<p>The <code><a href="/animancer/api/Animancer.FSM/InputBuffer">StateMachine&lt;TState&gt;.InputBuffer</a></code> class allows you to easily implement this sort of buffering:</p>
<ol>
<li>Construct a <code>new <a href="/animancer/api/Animancer.FSM/InputBuffer">StateMachine&lt;TState&gt;.InputBuffer</a></code> by passing in the target state machine.</li>
<li>Whenever you would normally call <code>TrySetState</code> on the state machine, call it on the buffer instead so that you can specify the desired <code>timeOut</code> duration.</li>
<li>Call <code>Update</code> on the buffer every frame to have it try to enter the buffered state again (if there is one).</li>
</ol>
<p>The <a href="../examples/fsm/weapons#attack-input">Weapons</a> example demonstrates how to use it.</p>
<p>This system only buffers a single state at a time. If the player presses the attack button while they are already attacking then presses the block button before the first attack ends, it will only execute the block rather than performing the entire second attack before blocking. This assumes the latest command is the only one that matters, which is often good for things like player input, but might not be best for all situations. If you want to ensure that all commands are executed in order, you could make a similar class (perhaps called <code>InputSequenceBuffer</code>) which manages a list of states instead of only a single <code>BufferedState</code>.</p>
<h1 id="state-selectors">State Selectors</h1>
<p>The <code><a href="/animancer/api/Animancer.FSM/StateSelector">StateMachine&lt;TState&gt;.StateSelector</a></code> class provides an easy way to manage a prioritised list of potential states:</p>
<ol>
<li>Construct a <code>new <a href="/animancer/api/Animancer.FSM/StateSelector">StateMachine&lt;TState&gt;.StateSelector</a></code> by passing in the target state machine.</li>
<li>Add states to the selector by calling its <code>Add</code> method, which requires you to give them each a priority value. If multiple states have the same priority, the most recently added will be treated as a higher priority.</li>
<li>After you have added all the potential states you want it to choose from, call <code>TrySetState</code>, <code>TryResetState</code>, or <code>ForceSetState</code> to have it try to enter each of the states using the corresponding <code><a href="/animancer/api/Animancer.FSM/StateMachine_1">StateMachine&lt;TState&gt;</a></code> method.</li>
<li>It attempts to enter each state you have added in order of priority (highest first).</li>
<li>If it successfully enters a state, the selector is cleared.</li>
</ol>
<p>If you want to define the priority of a state as part of the state class itself (rather than as a second parameter every time you call the <code>Add</code> method), you can implement the <code><a href="/animancer/api/Animancer.FSM/IPrioritizable">IPrioritizable</a></code> interface. The <code><a href="/animancer/api/Animancer.FSM/IPrioritizable/3B395430">IPrioritizable.Priority</a></code> is usually implemented as an <code>abstract</code> or <code>virtual</code> property in your base state class so that each state can <code>override</code> it with their own priority.</p>
<h1 id="design-rationale">Design Rationale</h1>
<p>The <code>Animancer.FSM</code> was designed to achieve the following goals:</p>
<ul>
<li><strong>Efficient</strong>: the system does no more than necessary to enforce the state change rules so it has very good performance.</li>
<li><strong>Simple</strong>: <code><a href="/animancer/api/Animancer.FSM/IState">IState</a></code> only has the bare minimum of members required for an FSM so you don't need to implement unneeded functions in basic scenarios and <code><a href="/animancer/api/Animancer.FSM/StateMachine_1">StateMachine&lt;TState&gt;</a></code> lets you manage states on-demand rather than pre-registering them all with their own <a href="#keys">Keys</a>.</li>
<li><strong>Generic</strong>: you define your own base state type to suit your needs. For example, it does not automatically give every state an <code>Update</code> function, but if you put one in your base state type you will be able to call <code>stateMachine.CurrentState.Update()</code> as necessary. Or if you use <a href="#state-behaviours">State Behaviours</a> you can use the regular <a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour">MonoBehaviour Messages</a> like <code>Update</code> and <code>FixedUpdate</code>.</li>
<li><strong>Flexible</strong>: states can be anything: <code>MonoBehaviour</code> components, <code>ScriptableObject</code>s, or regular C# classes.</li>
<li><strong>Open</strong>: the source code is included in both Animancer Lite and Pro so you can easily debug logic issues (one of the main <a href="../introduction/mecanim-vs-animancer/why">Problems with Animator Controllers</a> is that it's impossible to effectively debug their internal logic).</li>
<li><strong>Independent</strong>: this system is entirely separate from the rest of Animancer and barely even references anything from Unity so it could easily be ported to any C# environment outside of Unity.</li>
</ul>
<p>There are plenty of other FSM systems available online (including on the <a href="https://assetstore.unity.com/?q=state%20machine">Unity Asset Store</a>), or if you’re interested in implementing your own system Unity has a tutorial series about building a <a href="https://unity3d.com/learn/tutorials/topics/navigation/finite-state-ai-delegate-pattern">Pluggable AI With Scriptable Objects</a> which could easily be adapted for other purposes.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <strong><div style="text-align:left; display:flex">

<div>
<p>Documentation</p>
<p><a href="/animancer/docs/examples">Examples</a></p>
<p><a href="/animancer/docs/manual">User Manual</a></p>
<p><a href="/animancer/docs/changes">Change Log</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Download</p>
<p><a href="https://kybernetik.itch.io/animancer-pro">Itch.io (Recommended)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-pro-116514?aid=1100l8ah5">Asset Store (Animancer Pro)</a></p>
<p><a href="https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516?aid=1100l8ah5">Asset Store (Animancer Lite)</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Contact</p>
<p><a href="https://github.com/KybernetikGames/animancer/issues">Github Issues</a></p>
<p><a href="/animancer/forum">Unity Forum</a></p>
<p><a href="mailto:animancer@kybernetik.com.au?subject=Animancer">Email</a></p>
</div>

<div style="width:10%"></div>

<div>
<p>Other Assets</p>
<p><a href="/inspector-gadgets">Inspector Gadgets</a></p>
<p><a href="/weaver">Weaver</a></p>
<p><a href="/ultevents">UltEvents</a></p>
</div>

</div></strong>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>